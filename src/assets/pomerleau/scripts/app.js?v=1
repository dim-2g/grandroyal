(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _environment = require('./utils/environment');

var _html = require('./utils/html');

var _globals = require('./utils/globals');

var _globals2 = _interopRequireDefault(_globals);

var _modules = require('./modules');

var modules = _interopRequireWildcard(_modules);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } } /* jshint esnext: true */


// Global functions and tools


// Basic modules


var App = function () {
	function App() {
		var _this = this;

		_classCallCheck(this, App);

		this.modules = modules;
		this.currentModules = [];

		_environment.$document.on('initModules.App', function (event) {
			_this.initGlobals(event.firstBlood).deleteModules().initModules();
		});
	}

	/**
  * Destroy all existing modules
  * @return  {Object}  this  Allows chaining
  */


	App.prototype.deleteModules = function deleteModules() {
		// oop modules
		var i = this.currentModules.length;

		// Destroy all modules
		while (i--) {
			this.currentModules[i].destroy();
			this.currentModules.splice(i);
		}

		return this;
	};

	/**
  * Execute global functions and settings
  * Allows you to initialize global modules only once if you need
  * (ex.: when using Barba.js or SmoothState.js)
  * @return  {Object}  this  Allows chaining
  */


	App.prototype.initGlobals = function initGlobals(firstBlood) {
		(0, _globals2.default)(firstBlood);
		return this;
	};

	/**
  * Find modules and initialize them
  * @return  {Object}  this  Allows chaining
  */


	App.prototype.initModules = function initModules(scope) {
		if (!scope) {
			scope = document;
		}
		// Elements with module
		var moduleEls = scope.querySelectorAll('[data-module]');

		// Loop through elements
		var i = 0;
		var elsLen = moduleEls.length;

		for (; i < elsLen; i++) {

			// Current element
			var el = moduleEls[i];

			// All data- attributes considered as options
			var options = (0, _html.getNodeData)(el);

			// Add current DOM element and jQuery element
			options.el = el;
			options.$el = $(el);

			// Module does exist at this point
			var attr = options.module;

			// Splitting modules found in the data-attribute
			var moduleIdents = attr.replace(/\s/g, '').split(',');

			// Loop modules
			var j = 0;
			var modulesLen = moduleIdents.length;

			for (; j < modulesLen; j++) {
				var moduleAttr = moduleIdents[j];

				if (typeof this.modules[moduleAttr] === 'function') {
					var module = new this.modules[moduleAttr](options);
					this.currentModules.push(module);
				}
			}
		}

		return this;
	};

	return App;
}();

// IIFE for loading the application
// ==========================================================================


(function () {
	var loaded = false;
	var maxLoad = 3000;

	// On load
	// ==========================================================================
	_environment.$window.on('load', function () {
		if (!loaded) {
			loaded = true;
			load();
		}
	});

	// Maximum load
	// ==========================================================================
	setTimeout(function () {
		if (!loaded) {
			loaded = true;
			load();
		}
	}, maxLoad);

	// Load
	// ==========================================================================
	function load() {
		window.App = new App();
		_environment.$document.trigger({
			type: 'initModules.App',
			firstBlood: true
		});

		if (window.navigator.userAgent.match(/Edge/) || window.navigator.userAgent.match(/Trident/)) {
			_environment.$body.addClass('is-ie');
		}
	}

	if (window.matchMedia("(max-width: 1199px)").matches) {
		addLoadClass();
	} else if (window.matchMedia("(min-width: 1200px)").matches) {
		_environment.$document.on('SmoothScroll.isReady', function (event) {
			addLoadClass();
		});
	}

	function addLoadClass() {
		_environment.$body.addClass('is-loaded');

		setTimeout(function () {
			_environment.$body.addClass('is-animated');
		}, 600);
	}
})();

$(document).on("click", ".o-list-table_item.list-toggle-click", function () {
	if (!$(this).hasClass('active')) {
		$(this).parent().find(".list-toggle-click").removeClass('active');
		$(this).parent().find(".list-toggle-click .content-toggle").slideUp('fast');
		$(this).addClass('active');
	} else {
		$(this).removeClass('active');
	}
	$(this).find(".content-toggle").slideToggle("fast");
});

$(document).on("click", ".c-team_item .c-team_image .content-inner-click", function () {
	$(this).parent().toggleClass('active');
});

},{"./modules":5,"./utils/environment":36,"./utils/globals":37,"./utils/html":38}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.transitions = undefined;

var _environment = require('../utils/environment');

/**
 * List of Transitions
 */
var transitions = {
	mainTransition: {
		start: function start() {
			var _this = this;

			_environment.$body.removeClass('is-loaded is-animated has-nav-news-open');

			setTimeout(function () {
				_this.newContainerLoading.then(_this.finish.bind(_this));
			}, 600);
		},
		finish: function finish() {
			this.done();

			var $el = $(this.newContainer);
			var templateName = $el.data('template');
			_environment.$body.attr('data-template', templateName);

			//reinit modules
			var app = window.App;
			app.deleteModules();
			app.initModules();

			if (window.matchMedia("(max-width: 1199px)").matches) {
				document.body.scrollTop = 0;
				_environment.$body.addClass('is-loaded');

				setTimeout(function () {
					_environment.$body.addClass('is-animated');
				}, 600);
			} else if (window.matchMedia("(min-width: 1200px)").matches) {
				_environment.$document.on('SmoothScroll.isReady', function (event) {
					_environment.$body.addClass('is-loaded');

					setTimeout(function () {
						_environment.$body.addClass('is-animated');
					}, 600);
				});
			}
		}
	},
	navTransition: {
		start: function start() {
			var _this2 = this;

			_environment.$body.removeClass('is-loaded is-animated').addClass('is-loading');

			setTimeout(function () {
				_environment.$body.removeClass('has-nav-open');
			}, 60);

			setTimeout(function () {

				_this2.newContainerLoading.then(_this2.finish.bind(_this2));
			}, 800);
		},
		finish: function finish() {
			this.done();

			var $el = $(this.newContainer);
			var templateName = $el.data('template');
			_environment.$body.attr('data-template', templateName);

			//reinit modules
			var app = window.App;
			app.deleteModules();
			app.initModules();

			if (window.matchMedia("(max-width: 1199px)").matches) {
				document.body.scrollTop = 0;
				_environment.$body.removeClass('is-loading');
				_environment.$body.addClass('is-loaded');

				setTimeout(function () {
					_environment.$body.addClass('is-animated');
				}, 600);
			} else if (window.matchMedia("(min-width: 1200px)").matches) {
				_environment.$document.on('SmoothScroll.isReady', function (event) {
					_environment.$body.removeClass('is-loading');
					_environment.$body.addClass('is-loaded');

					setTimeout(function () {
						_environment.$body.addClass('is-animated');
					}, 600);
				});
			}
		}
	},
	sectionTransition: {
		start: function start() {
			var _this3 = this;

			// Scroll to top
			_environment.$document.trigger({
				type: 'SmoothScroll.goToTop'
			});

			this.oldHeader = $('.js-header-home');

			this.option = _environment.$body.attr('data-route-option');

			if (this.option === 'next-section') {
				this.oldHeader.addClass('is-prev');
			} else {
				this.oldHeader.addClass('is-next');
			}

			_environment.$body.addClass('is-loading');
			_environment.$body.removeClass('is-loaded');

			setTimeout(function () {
				_this3.newContainerLoading.then(_this3.finish.bind(_this3));
			}, 1200);
		},
		finish: function finish() {
			var _this4 = this;

			this.done();

			var $el = $(this.newContainer);
			this.newHeader = $('.js-header-home', $el);

			if (this.option === 'next-section') {
				this.newHeader.addClass('is-next-section');
			} else {
				this.newHeader.addClass('is-prev-section');
			}

			var templateName = $el.data('template');
			_environment.$body.attr('data-template', templateName);

			//reinit modules
			var app = window.App;
			app.deleteModules();
			app.initModules();

			setTimeout(function () {
				_this4.newHeader.removeClass('is-prev-section is-next-section');
			}, 300);

			if (window.matchMedia("(max-width: 1199px)").matches) {
				document.body.scrollTop = 0;
				_environment.$body.removeClass('is-loading');
				_environment.$body.addClass('is-loaded');

				setTimeout(function () {
					_environment.$body.addClass('is-animated');
				}, 600);
			} else if (window.matchMedia("(min-width: 1200px)").matches) {
				_environment.$document.on('SmoothScroll.isReady', function (event) {
					_environment.$body.removeClass('is-loading');
					_environment.$body.addClass('is-loaded');

					setTimeout(function () {
						_environment.$body.addClass('is-animated');
					}, 600);
				});
			}
		}
	}
};

exports.transitions = transitions;

},{"../utils/environment":36}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.addDependency = addDependency;
exports.hasDependencies = hasDependencies;
exports.resolveDependency = resolveDependency;

var _is = require('../utils/is');

var _array = require('../utils/array');

var _environment = require('../utils/environment');

var DEPENDENCIES = []; /* jshint esnext: true */


var PREFIX = 'dependency-';

var UUID = 0;

function addDependency(source, target) {
	var ident = PREFIX + UUID++;

	DEPENDENCIES.push({
		ident: ident,
		target: target,
		source: source
	});

	return ident;
}

function hasDependencies(ident) {
	var deps = DEPENDENCIES.slice().filter(function (object) {
		if (object.target === ident) {
			return object;
		}
	});
	return deps.length > 0;
}

function resolveDependency(ident) {
	if (typeof ident === 'undefined' || ident === '') {
		console.warn('Need ident to resolve dependency.');
		return false;
	}

	var dependency = (0, _array.findByKeyValue)(DEPENDENCIES, 'ident', ident)[0];

	if (typeof dependency !== 'undefined') {
		var target = dependency.target;

		(0, _array.removeFromArray)(DEPENDENCIES, dependency);

		if (!hasDependencies(target)) {
			_environment.$document.trigger('resolveDependencies.' + target);
		}

		return true;
	} else {
		console.warn('Dependency could not be found');
		return false;
	}
}

},{"../utils/array":35,"../utils/environment":36,"../utils/is":39}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.scrollTo = scrollTo;
/* jshint esnext: true */
var isAnimating = false;

var defaults = {
    easing: 'swing',
    headerOffset: 60,
    speed: 300
};

/**
 * scrollTo is a function that scrolls a container to an element's position within that controller
 * Uses jQuery's $.Deferred to allow using a callback on animation completion
 * @param   {object}  $element  A jQuery node
 * @param   {object}  options
 */
function scrollTo($element, options) {
    var deferred = $.Deferred();

    // Drop everything if this ain't a jQuery object
    if ($element instanceof jQuery && $element.length > 0) {

        // Merging options
        options = $.extend({}, defaults, typeof options !== 'undefined' ? options : {});

        // Prevents accumulation of animations
        if (isAnimating === false) {
            isAnimating = true;

            // Default container that we'll be scrolling
            var $container = $('html, body');
            var elementOffset = 0;

            // Testing container in options for jQuery-ness
            // If we're not using a custom container, we take the top document offset
            // If we are, we use the elements position relative to the container
            if (typeof options.$container !== 'undefined' && options.$container instanceof jQuery && options.$container.length > 0) {
                $container = options.$container;
                elementOffset = $element.position().top;
            } else {
                elementOffset = $element.offset().top;
            }

            $container.animate({
                scrollTop: elementOffset - options.headerOffset
            }, options.speed, options.easing, function () {
                isAnimating = false;
                deferred.resolve();
            });
        }
    }

    return deferred.promise();
}

},{}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Nav = require('./modules/Nav');

Object.defineProperty(exports, 'Nav', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_Nav).default;
  }
});

var _Dropdown = require('./modules/Dropdown');

Object.defineProperty(exports, 'Dropdown', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_Dropdown).default;
  }
});

var _SliderHome = require('./modules/SliderHome');

Object.defineProperty(exports, 'SliderHome', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_SliderHome).default;
  }
});

var _SliderPage = require('./modules/SliderPage');

Object.defineProperty(exports, 'SliderPage', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_SliderPage).default;
  }
});

var _SliderProject = require('./modules/SliderProject');

Object.defineProperty(exports, 'SliderProject', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_SliderProject).default;
  }
});

var _LightboxVideo = require('./modules/LightboxVideo');

Object.defineProperty(exports, 'LightboxVideo', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_LightboxVideo).default;
  }
});

var _HeaderPage = require('./modules/HeaderPage');

Object.defineProperty(exports, 'HeaderPage', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_HeaderPage).default;
  }
});

var _Carousel = require('./modules/Carousel');

Object.defineProperty(exports, 'Carousel', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_Carousel).default;
  }
});

var _CarouselTimer = require('./modules/CarouselTimer');

Object.defineProperty(exports, 'CarouselTimer', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_CarouselTimer).default;
  }
});

var _CarouselNews = require('./modules/CarouselNews');

Object.defineProperty(exports, 'CarouselNews', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_CarouselNews).default;
  }
});

var _SmoothScrolling = require('./modules/SmoothScrolling');

Object.defineProperty(exports, 'SmoothScrolling', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_SmoothScrolling).default;
  }
});

var _NavNews = require('./modules/NavNews');

Object.defineProperty(exports, 'NavNews', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_NavNews).default;
  }
});

var _News = require('./modules/News');

Object.defineProperty(exports, 'News', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_News).default;
  }
});

var _LocationSwitcher = require('./modules/LocationSwitcher');

Object.defineProperty(exports, 'LocationSwitcher', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_LocationSwitcher).default;
  }
});

var _Filters = require('./modules/Filters');

Object.defineProperty(exports, 'Filters', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_Filters).default;
  }
});

var _ContactForm = require('./modules/ContactForm');

Object.defineProperty(exports, 'ContactForm', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_ContactForm).default;
  }
});

var _PageTransitionsManager = require('./modules/PageTransitionsManager');

Object.defineProperty(exports, 'PageTransitionsManager', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_PageTransitionsManager).default;
  }
});

var _Search = require('./modules/Search');

Object.defineProperty(exports, 'Search', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_Search).default;
  }
});

var _SimilarSwitcher = require('./modules/SimilarSwitcher');

Object.defineProperty(exports, 'SimilarSwitcher', {
  enumerable: true,
  get: function get() {
    return _interopRequireDefault(_SimilarSwitcher).default;
  }
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./modules/Carousel":8,"./modules/CarouselNews":9,"./modules/CarouselTimer":10,"./modules/ContactForm":11,"./modules/Dropdown":13,"./modules/Filters":14,"./modules/HeaderPage":16,"./modules/LightboxVideo":18,"./modules/LocationSwitcher":19,"./modules/Nav":21,"./modules/NavNews":22,"./modules/News":23,"./modules/PageTransitionsManager":24,"./modules/Search":25,"./modules/SimilarSwitcher":26,"./modules/SliderHome":27,"./modules/SliderPage":28,"./modules/SliderProject":29,"./modules/SmoothScrolling":30}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _environment = require('../utils/environment');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } } /* jshint esnext: true */


/**
 * Abstract module
 * Gives access to generic jQuery nodes
 */
var _class = function () {
	function _class(options) {
		_classCallCheck(this, _class);

		this.$document = _environment.$document;
		this.$window = _environment.$window;
		this.$html = _environment.$html;
		this.$body = _environment.$body;
		this.$el = options.$el;
		this.el = options.el;
	}

	_class.prototype.unescapeHTML = function unescapeHTML(string) {
		return string.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&amp;/g, '&');
	};

	return _class;
}();

exports.default = _class;

},{"../utils/environment":36}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint esnext: true */


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this.$el.on('click.Button', function (event) {
			_this.$document.trigger('Title.changeLabel', [$(event.currentTarget).val()]);
		});
		return _this;
	}

	_class.prototype.destroy = function destroy() {
		this.$el.off('.Button');
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ==========================================================================
// Generic module
// ==========================================================================


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this.initSlick();
		return _this;
	}

	// Init slick
	// ==========================================================================


	_class.prototype.initSlick = function initSlick() {
		this.$el.slick({
			arrows: true,
			dots: false,
			speed: 600,
			cssEase: 'cubic-bezier(0.4, 0, 0.2, 1)',
			prevArrow: '<button class="c-carousel_arrow -prev o-button -square -left" type="button"><span class="o-button_label"><svg class="o-button_icon" role="img" title="Previous"><use xlink:href="assets/pomerleau/images/sprite.svg#arrow-prev"></use></svg></span></button>',
			nextArrow: '<button class="c-carousel_arrow -next o-button -square -right" type="button"><span class="o-button_label"><svg class="o-button_icon" role="img" title="Next"><use xlink:href="assets/pomerleau/images/sprite.svg#arrow-next"></use></svg></span></button>'
			// mobileFirst: true,
			// responsive: [
			// 	{
			//   			breakpoint: 700,
			//   			settings: {
			//   				centerMode: true,
			//   				centerPadding: '240px'
			//   			}
			//   		}
			//   	]
		});
	};

	// Destroy
	// ==========================================================================


	_class.prototype.destroy = function destroy() {
		this.$el.off();
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ==========================================================================
// Generic module
// ==========================================================================


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this.initSlick();
		return _this;
	}

	// Init slick
	// ==========================================================================


	_class.prototype.initSlick = function initSlick() {
		this.$el.slick({
			arrows: true,
			dots: false,
			speed: 600,
			cssEase: 'cubic-bezier(0.4, 0, 0.2, 1)',
			prevArrow: '<button class="c-carousel_arrow -prev o-button -square -left" type="button"><span class="o-button_label"><svg class="o-button_icon" role="img" title="Previous"><use xlink:href="assets/pomerleau/images/sprite.svg#arrow-prev"></use></svg></span></button>',
			nextArrow: '<button class="c-carousel_arrow -next o-button -square -right" type="button"><span class="o-button_label"><svg class="o-button_icon" role="img" title="Next"><use xlink:href="assets/pomerleau/images/sprite.svg#arrow-next"></use></svg></span></button>',
			mobileFirst: true,
			responsive: [{
				breakpoint: 700,
				settings: {
					variableWidth: true
				}
			}]
		});
	};

	// Destroy
	// ==========================================================================


	_class.prototype.destroy = function destroy() {
		this.$el.off();
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ==========================================================================
// Generic module
// ==========================================================================


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this.initSlick();
		return _this;
	}

	// Init slick
	// ==========================================================================


	_class.prototype.initSlick = function initSlick() {
		var _this2 = this;

		this.$el.slick({
			arrows: false,
			autoplay: true,
			autoplaySpeed: 4000,
			dots: true,
			speed: 600,
			pauseOnHover: false,
			pauseOnFocus: false,
			infinite: true,
			fade: true,
			cssEase: 'cubic-bezier(0.4, 0, 0.2, 1)',
			customPaging: function customPaging(slider, i) {
				i++;
				if (i === 1) {
					return '<button class="c-carousel_dot js-carousel-dot is-first" type="button"><span class="c-carousel_dot_label">0' + i + '</span><span class="c-carousel_dot_line"></span></button>';
				} else {
					return '<button class="c-carousel_dot js-carousel-dot" type="button"><span class="c-carousel_dot_label">0' + i + '</span><span class="c-carousel_dot_line"></span></button>';
				}
			}
		});

		this.$el.slick('slickPause');

		setTimeout(function () {
			_this2.$el.find('.js-carousel-dot.is-first').removeClass('is-first');
			_this2.$el.slick('slickPlay');
		}, 4000);
	};

	// Destroy
	// ==========================================================================


	_class.prototype.destroy = function destroy() {
		this.$el.off();
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint esnext: true */


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this2 = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this2.$inputs = _this2.$el.find(':input');
		_this2.inputSelectors = 'input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea';
		_this2.$panes = _this2.$el.find('.js-form-pane');
		_this2.$consent = _this2.$el.find('.js-form-consent');
		_this2.$consentLabel = _this2.$el.find('.js-form-consent-label');
		_this2.$consentError = _this2.$el.find('.js-form-consent-error');
		_this2.$consentError = _this2.$el.find('.js-form-consent-error');
		_this2.$formWrap = _this2.$el.find('.js-form-wrap');
		_this2.$formFeedback = _this2.$el.find('.js-form-feedback');
		_this2.currentPane = 0;

		_this2.updateTextFields();

		var _this = _this2;

		// Switch form panes
		// Simple switch between index 0 and 1 for now
		_this2.$el.on('click.ContactForm', '.js-switch-pane', function () {
			_this2.goToNextPane();
		});

		_this2.$el.on('click.ContactForm', '.js-submit', function () {
			_this2.$el.submit();
		});

		_this2.$el.on('submit.ContactForm', function (event) {
			event.preventDefault();

			if (_this.currentPane === 0) {
				_this.goToNextPane();
			} else {
				var data = $(this).serializeArray();
				_this.submitForm(event, data);
			}
		});

		// Add active if form auto complete
		_this2.$el.on('change.ContactForm', _this2.inputSelectors, function () {
			var $inputElement = $(this);

			if ($inputElement.val().length !== 0 || $inputElement.attr('placeholder') !== undefined) {
				$inputElement.siblings('label').addClass('is-active');
			}
			var error = _this.fieldHasError($inputElement);
		});

		// Add active when element has focus
		_this2.$el.on('focus.ContactForm', _this2.inputSelectors, function () {
			$(this).siblings('label, i').addClass('is-active');
		});

		_this2.$el.on('blur.ContactForm', _this2.inputSelectors, function () {
			var $inputElement = $(this);

			if ($inputElement.val().length === 0 && $inputElement[0].validity.badInput !== true && $inputElement.attr('placeholder') === undefined) {
				$inputElement.siblings('label, i').removeClass('is-active');
			}

			if ($inputElement.val().length === 0 && $inputElement[0].validity.badInput !== true && $inputElement.attr('placeholder') !== undefined) {
				$inputElement.siblings('i').removeClass('is-active');
			}

			var error = _this.fieldHasError($inputElement);
		});
		return _this2;
	}

	/**
  * Upon form submit, many things happen
  * - Validation of inputs
  * - Validation of consent
  * - Delivery of form data to the server
  * - Managing server response states
  *
  * @param  {Event}         event  jQuery Event object
  * @param  {array|string}  data  Form data
  */


	_class.prototype.submitForm = function submitForm(event, data) {
		var _this3 = this;

		var hasErrors = this.fieldsHaveErrors(this.$inputs);

		if (!this.$consent.is(':checked')) {
			this.$consentLabel.addClass('has-error');
			this.$consentError.removeClass('is-hidden');
			hasErrors = true;
		}

		if (!hasErrors) {
			this.$consentLabel.removeClass('has-error');
			this.$consentError.addClass('is-hidden');

			var jqxhr = $.ajax({
				method: 'POST',
				url: this.$el.attr('action'),
				data: data
			}).done(function (response) {
				if (response.success === true) {
					_this3.$panes.eq(_this3.currentPane).fadeOut(function () {
						_this3.$formFeedback.fadeIn();
					});
				} else {
					_this3.manageErrors(response.errors);
				}
			}).fail(function () {
				console.log('error');
			});
		}
	};

	/**
  * Simple function to determine if form is valid enough to switch panes
  * Used by 'Next' button and form submit
  */


	_class.prototype.goToNextPane = function goToNextPane() {
		var _this4 = this;

		if (!this.fieldsHaveErrors(this.$panes.eq(this.currentPane).find(':input'))) {
			this.$panes.eq(this.currentPane).fadeOut(function () {
				_this4.currentPane = 1;
				_this4.$panes.eq(_this4.currentPane).fadeIn();
			});
		}
	};

	/**
  * Loop through errors sent back by the servers and attempt to identify the faulty elements
  * @param  {array}  errors  An array of element names that are in error
  */


	_class.prototype.manageErrors = function manageErrors(errors) {
		var i = 0,
		    len = errors.length;
		for (; i < len; i++) {
			$('#' + errors[i]).addClass('has-error');
		}
	};

	/**
  * Function to update labels of text fields
  * @see  MaterializeCSS
  */


	_class.prototype.updateTextFields = function updateTextFields() {
		$(this.inputSelectors).each(function (index, element) {
			if ($(element).val().length > 0 || element.autofocus || $(this).attr('placeholder') !== undefined || $(element)[0].validity.badInput === true) {
				$(this).siblings('label, i').addClass('is-active');
			} else {
				$(this).siblings('label, i').removeClass('is-active');
			}
		});
	};

	/**
  * Function to validate single inputs
  * @see  MaterializeCSS
  */


	_class.prototype.fieldHasError = function fieldHasError($object) {
		var hasLength = $object.attr('length') !== undefined;
		var lenAttr = parseInt($object.attr('length'));
		var len = $object.val().length;
		var fieldHasError = false;

		if ($object.hasClass('js-validate')) {
			if ($object.val().length !== 0) {
				if ($object[0].validity.badInput !== false) {
					// Check for character counter attributes
					if ($object.is(':valid') && hasLength && len <= lenAttr || $object.is(':valid') && !hasLength) {} else {
						fieldHasError = true;
					}
				}
				if ($object.attr('type') == 'email') {
					var EMAIL_REGEX = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
					if (!EMAIL_REGEX.test($object.val())) {
						fieldHasError = true;
					}
				}
			} else {
				fieldHasError = true;
			}

			if (fieldHasError) {
				$object.addClass('has-error');
			} else {
				$object.removeClass('has-error');
			}
		}

		return fieldHasError;
	};

	/**
  * Validate multiple inputs
  * @return {boolean}
  */


	_class.prototype.fieldsHaveErrors = function fieldsHaveErrors($inputs) {
		var i = 0;
		var len = $inputs.length;
		var hasErrors = false;

		for (; i < len; i++) {
			if (this.fieldHasError($inputs.eq(i))) {
				hasErrors = true;
			}
		}

		return hasErrors;
	};

	_class.prototype.destroy = function destroy() {
		this.$el.off('.ContactForm');
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint esnext: true */


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this.$sliderOne = options.sliders.one.$el;
		_this.$sliderTwo = options.sliders.two.$el;

		_this.$sliderOne.slick(options.sliders.one.options).on('beforeChange', function (event, slick, currentSlide, nextSlide) {
			if (currentSlide !== nextSlide) {
				var action = void 0;
				if (Math.abs(nextSlide - currentSlide) === 1) {
					action = nextSlide - currentSlide > 0 ? 'slickNext' : 'slickPrev';
				} else {
					action = nextSlide - currentSlide > 0 ? 'slickPrev' : 'slickNext';
				}
				_this.$sliderTwo.slick(action);
				_this.activeSlideChanged(nextSlide);
			}
		});

		_this.$sliderTwo.slick(options.sliders.two.options);

		_this.$el.on('click.DoubleSlider', '.js-slider-button', function (event) {
			_this.changeSlide(event);
		});
		return _this;
	}

	/**
  * Change active slide for both sliders
  * @var  {Event}  event
  */


	_class.prototype.changeSlide = function changeSlide(event) {
		var $target = $(event.currentTarget);
		var action = $target.data('action');

		switch (action) {
			case 'prev':
				this.$sliderOne.slick('slickPrev');
				break;
			case 'next':
				this.$sliderOne.slick('slickNext');
				break;
		}
	};

	_class.prototype.activeSlideChanged = function activeSlideChanged(index) {};

	_class.prototype.destroy = function destroy() {
		this.$sliderOne.slick('unslick');
		this.$sliderTwo.slick('unslick');
		this.$el.off('.DoubleSlider');
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this.mode = typeof options['dropdown-mode'] !== 'undefined' ? options['dropdown-mode'] : 'accordeon';

		_this.$el.on('click.Dropdown', '.js-dropdown-toggle', function (event) {
			return _this.manageDropdownClick(event);
		});
		return _this;
	}

	// Toggle dropdown
	// ==========================================================================


	_class.prototype.manageDropdownClick = function manageDropdownClick(event) {
		if (window.matchMedia("(max-width: 1199px)").matches) {
			var $target = $(event.currentTarget);
			var $parent = $target.parents('.js-dropdown');

			event.preventDefault();

			if ($target.hasClass('is-disabled')) {
				return false;
			}

			if (this.mode === 'accordeon') {
				$parent.siblings('.js-dropdown').removeClass('has-dropdown').find('.js-dropdown-list').stop().slideUp();
			}

			$target.siblings('.js-dropdown-list').stop().slideToggle();

			if ($parent.hasClass('has-dropdown')) {
				$parent.removeClass('has-dropdown');
				this.$el.removeClass('has-dropdown');
			} else {
				$parent.addClass('has-dropdown');
				this.$el.addClass('has-dropdown');
			}
		}
	};

	// Destroy
	// ==========================================================================


	_class.prototype.destroy = function destroy() {
		this.$el.off('.Dropdown');
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6}],14:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

var _animateTo = require('../utils/animateTo');

var _animateTo2 = _interopRequireDefault(_animateTo);

var _is = require('../utils/is');

var _dependencies = require('../global/dependencies');

var _smoothScrollbar = require('smooth-scrollbar');

var _smoothScrollbar2 = _interopRequireDefault(_smoothScrollbar);

var _ractiveEventsTap = require('../ractive/ractive-events-tap');

var _ractiveEventsTap2 = _interopRequireDefault(_ractiveEventsTap);

var _ractiveTransitionsFade = require('../ractive/ractive-transitions-fade');

var _ractiveTransitionsFade2 = _interopRequireDefault(_ractiveTransitionsFade);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ==========================================================================
// Filters
// ==========================================================================
/* jshint esnext: true */


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this2 = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this2.searchIsOpen = false;

		_this2.elements = {
			$total: $('.js-project-total'),
			$filters: $('.js-filters'),
			$projects: $('.js-projects')
		};

		window.Ractive.DEBUG = false;

		_this2.filtersController = _this2.initFiltersController();
		_this2.projectsController = _this2.initProjectsController();

		_this2.smoothScrollingDependency = (0, _dependencies.addDependency)('Filters', 'SmoothScrolling');

		_this2.filtersController.dispatchFilters({
			firstBlood: true
		});

		if (window.matchMedia("(min-width: 1200px)").matches) {
			_this2.scrollbarTags = _smoothScrollbar2.default.init(_this2.$el.find('.js-filters-tags')[0]);
			_this2.scrollbarFilters = _smoothScrollbar2.default.init(_this2.$el.find('.js-filters-list')[0]);
		}

		_this2.$el.on('click.Filters', '.js-filters-open', function (event) {
			return _this2.toggleFilters(event);
		});
		_this2.$el.on('click.Filters', '.js-filters-search-open', function (event) {
			return _this2.toggleFiltersSearch(event);
		});
		_this2.$el.on('click.Filters', '.js-filters-button', function (event) {
			return _this2.filter(event);
		});
		_this2.$el.on('click.Filters', '.js-filters-search-button', function (event) {
			return _this2.search(event);
		});
		return _this2;
	}

	//	Toggle filters
	// ==========================================================================


	_class.prototype.toggleFilters = function toggleFilters(event) {
		this.$body.toggleClass('has-filters-open').removeClass('has-filters-search-open');
		$(event.currentTarget).toggleClass('is-active');
		this.$el.find('.js-filters-search-open.is-active').removeClass('is-active');

		if (this.$body.hasClass('has-filters-open')) {
			this.$el.find('.js-filters-list').scrollTop(0);
		}
	};

	//	Close filters
	// ==========================================================================


	_class.prototype.closeFilters = function closeFilters() {
		this.$body.removeClass('has-filters-open');
		this.$el.find('.js-filters-open').removeClass('is-active');
	};

	//	Toggle filters search
	// ==========================================================================


	_class.prototype.toggleFiltersSearch = function toggleFiltersSearch(event) {
		var $searchInput = this.$el.find('.js-filters-search-input');

		this.$body.toggleClass('has-filters-search-open').removeClass('has-filters-open');
		$(event.currentTarget).toggleClass('is-active');
		this.$el.find('.js-filters-open.is-active').removeClass('is-active');

		if (!this.searchIsOpen) {
			$searchInput.focus();
			this.searchIsOpen = true;
		} else {
			$searchInput.blur();
			this.searchIsOpen = false;
		}
	};

	//	Close filters search
	// ==========================================================================


	_class.prototype.closeFiltersSearch = function closeFiltersSearch(event) {
		this.$body.removeClass('has-filters-search-open');
		this.$el.find('.js-filters-search-open').removeClass('is-active');
	};

	// Filter
	// ==========================================================================


	_class.prototype.filter = function filter(event) {
		(0, _animateTo2.default)(this.elements.$projects);
		this.closeFilters();
	};

	// Search
	// ==========================================================================


	_class.prototype.search = function search(event) {
		this.closeFiltersSearch();
	};

	/**
  * This controller is used for managing filters being added and removed
  * It tells the project controller which filters are active or not through event dispatching
  *
  * @return  {Ractive Object}  Ractive instance
  */


	_class.prototype.initFiltersController = function initFiltersController() {
		var _this = this;
		var ractive = new Ractive({
			el: this.elements.$filters,
			template: this.unescapeHTML(this.elements.$filters.html()),
			data: {
				items: [],
				activeCategories: window.templateData.activeCategories,
				activeServices: window.templateData.activeServices,
				activeCharacteristics: window.templateData.activeCharacteristics,
				activeTags: window.templateData.activeTags,
				activeType: window.templateData.activeType,
				filterBoxes: window.templateData.filterBoxes,
				projectTypes: window.templateData.projectTypes,
				projectCategories: window.templateData.projectCategories,
				projectTags: window.templateData.projectTags
			},
			delimiters: ['[[', ']]'],
			tripleDelimiters: ['[[[', ']]]'],
			events: { tap: _ractiveEventsTap2.default },
			/**
    * Adds an item to filters
    *
    * @param {object}  model  Item model
    */
			addItem: function addItem(model) {
				this.push('items', model);
			},

			/**
    * Fire an event, so we can query the server for projects according to active filters
    */
			dispatchFilters: function dispatchFilters(options) {
				options = $.extend(options, {});

				var data = {
					filters: this.get('items'),
					keyword: this.get('keyword')
				};
				_this.projectsController.fire('refreshProjects', data, options);
			},

			/**
    * Find an item in items array using its ID
    *
    * @param  {string}       id  Quasi-unique identifier composed of {{filterIdent}}_{{ident}}
    * @return {int|boolean}      Index of the item in the array or false if can't be found
    */
			findIndex: function findIndex(id) {
				var items = this.get('items');
				var i = items.length;

				while (i--) {
					if (items[i].id === id) {
						return i;
					}
				}
				return false;
			},

			/**
    * Search item set for items with a specific taxonomy
    * @param   {string}  taxonomy  Taxonomy identifier
    * @return  {array}             Array of item indexes
    */
			findTaxonomyIndexes: function findTaxonomyIndexes(taxonomy) {
				var items = this.get('items');
				var i = items.length;
				var indexes = [];

				while (i--) {
					if (items[i].taxonomy === taxonomy) {
						indexes.push(i);
					}
				}
				return indexes;
			},

			/**
    * Item model
    * @param  {object}  params  Initial values for the model
    * @return {object}          Item model
    *
    * Model properties
    *
    * @param {string}  id        Quasi-unique identifier composed of {{filterIdent}}_{{ident}}
    * @param {string}  taxonomy  Filter taxonomy
    * @param {string}  label     Front end view
    * @param {string}  value     Input value used for filtering projects in our action
    */
			getItemModel: function getItemModel(params) {
				var defaults = {
					id: null,
					taxonomy: '',
					label: '',
					value: ''
				};
				return $.extend(defaults, params);
			},

			/**
    * Extract an item model from a node
    * @param  {object}  event  Ractive event object
    * @return {object}         Item model
    */
			getItemModelFromNode: function getItemModelFromNode(event) {
				return this.getItemModel({
					id: event.node.id,
					taxonomy: event.node.getAttribute('data-taxonomy'),
					label: event.node.getAttribute('data-label'),
					value: event.node.value
				});
			},

			/**
    * Remove an item in the items array according to its index
    * Also uncheck its associated input
    * Couldn't find a way to data-bind in this situation
    *
    * @param  {int}     index  Index of the item within the array
    */
			removeItem: function removeItem(index) {
				// False would indicate that the item could not be found in items array
				if (index !== false) {
					// Get item by keypath. Allows us to find its HTML input element
					var item = this.get('items.' + index);
					var $item = $('#' + item.id);

					// Removing the item from the items array
					this.splice('items', index, 1);

					// Not so graceful, since we couldn't really data-bind the input
					$item.prop('checked', false);
				}
			},

			/**
    * Receives a list of indexes to remove from `items`
    *
    * @param  {array}  indexes  Array of indexes to remove
    */
			removeItems: function removeItems(indexes) {
				for (var i = 0, len = indexes.length; i < len; i++) {
					this.removeItem(indexes[i]);
				}
			},

			/**
    * Add a filter to items according to defined filters
    *
    * @param  {string}      taxonomy  Filter taxonomy
    * @param  {string}      dataSet   Ractive dataset to parse
    * @param  {int|string}  value     Value found in URL
    */
			setActiveFilter: function setActiveFilter(taxonomy, dataSet, value) {
				var dataSet = this.get(dataSet);
				var dataSetFilters = [];

				if ((0, _is.isArray)(dataSet)) {
					dataSetFilters = dataSet.slice().map(function (currentValue) {
						return currentValue.filters;
					});
					dataSetFilters = [].concat.apply([], dataSetFilters);
				} else {
					dataSetFilters = dataSet.filters;
				}

				// Find filter object in datasets by filtering the values by their ID
				var object = dataSetFilters.filter(function (object) {
					if (object.id == value) {
						return object;
					}
				})[0];

				this.addItem(this.getItemModel({
					id: taxonomy + '_' + object.id,
					taxonomy: taxonomy,
					label: object.name,
					value: object.id
				}));
			},

			/**
    * Allows us to set proxy events and run other tasks when controller is initialized
    *
    * @param  {array}  options  Array of options
    */
			oninit: function oninit(options) {
				var _this3 = this;

				// Check for existing filters on module init
				var activeType = this.get('activeType');
				var activeCategories = this.get('activeCategories').slice();
				var activeServices = this.get('activeServices').slice();
				var activeCharacteristics = this.get('activeCharacteristics').slice();
				var activeTags = this.get('activeTags');

				if (activeType !== '') {
					this.setActiveFilter('type', 'projectTypes', activeType);
				}

				if (activeCategories.length !== 0) {
					activeCategories.forEach(function (element) {
						_this3.setActiveFilter('categories', 'projectCategories', element);
					});

					// Needs a little timeout
					window.setTimeout(function () {
						activeCategories.forEach(function (element) {
							$('#categories_' + element).prop('checked', true);
						});
					}, 500);
				}

				if (activeServices.length !== 0) {
					activeServices.forEach(function (element) {
						_this3.setActiveFilter('services', 'filterBoxes', element);
					});

					// Needs a little timeout
					window.setTimeout(function () {
						activeServices.forEach(function (element) {
							$('#services_' + element).prop('checked', true);
						});
					}, 500);
				}

				if (activeCharacteristics.length !== 0) {
					activeCharacteristics.forEach(function (element) {
						_this3.setActiveFilter('characteristics', 'filterBoxes', element);
					});

					// Needs a little timeout
					window.setTimeout(function () {
						activeCharacteristics.forEach(function (element) {
							$('#characteristics_' + element).prop('checked', true);
						});
					}, 500);
				}

				if (activeTags.length !== 0) {
					this.setActiveFilter('tags', 'projectTags', activeTags[0]);

					// Needs a little timeout
					window.setTimeout(function () {
						$('#tags_' + activeTags.id).prop('checked', true);
					}, 500);
				}

				this.on({
					/**
      * Determine the amount of projects per projectType
      *
      * @param  {array} projects Array of project.
      * @return void
      */
					refreshProjectTypeCount: function refreshProjectTypeCount(projects) {
						var countsByType = [];
						var i = projects.length;

						while (i--) {
							var type = projects[i].type;
							countsByType[type] = typeof countsByType[type] !== 'undefined' ? countsByType[type] + 1 : 1;
							projects.splice(i);
						}

						var projectTypes = this.get('projectTypes').filters.slice();
						var j = projectTypes.length;

						while (j--) {
							var count = countsByType[projectTypes[j].id];
							this.set('projectTypes.filters.' + j + '.count', typeof count === 'undefined' ? 0 : count);
							projectTypes.splice(j);
						}
					},

					/**
      * Event triggered by filter items when clicking close button
      * We find the item's index using the keypath and remove it from array
      *
      * @param  {object}  event  Ractive event object
      */
					remove: function remove(event) {

						// Check if its a project type.
						// We need to manually unset the activeType variable and removes its related categories
						if (event.context.taxonomy === 'type') {
							this.set('activeType', '');
							this.set('activeCategories', []);
							this.removeItems(this.findTaxonomyIndexes('categories'));
						}
						var i = event.keypath.replace('items.', '');
						this.removeItem(i);

						this.dispatchFilters();
					},

					removeAll: function removeAll() {
						var i = this.get('items').length;

						while (i--) {
							this.removeItem(i);
						}

						this.dispatchFilters();
					},


					/**
      * Event triggered by a change on filter inputs
      * Determine if input is being checked or not
      * Add or remove filter item depending on checked state
      *
      * @param  {object}  event  Ractive event object
      */
					toggleItem: function toggleItem(event) {
						var isChecked = event.node.checked;
						var model = this.getItemModelFromNode(event);

						if (isChecked) {
							this.addItem(model);
						} else {
							this.removeItem(this.findIndex(model.id));
						}

						this.dispatchFilters();
					},

					/**
      * Event triggered when type is changed
      * Determine which type of categories to show and toggle them all off
      *
      * @param  {object}  event  Ractive event object
      */
					toggleType: function toggleType(event) {
						var model = this.getItemModelFromNode(event);

						// Remove active type(s) from filters
						this.removeItems(this.findTaxonomyIndexes(model.taxonomy));

						// Remove all the related categories too
						this.removeItems(this.findTaxonomyIndexes('categories'));

						// Now add the toggled one
						this.addItem(model);

						this.dispatchFilters();
					},

					/**
      * Event triggered when search form is submitted
      * Extract the keyword and filter the project list
      *
      * @param  {object}  event  Ractive event object
      */
					search: function search(event) {
						event.original.preventDefault();
						this.dispatchFilters();
					}
				});
			}
		});

		return ractive;
	};

	_class.prototype.initProjectsController = function initProjectsController() {
		var _this = this;
		var ractive = new Ractive({
			el: this.elements.$projects,
			template: this.unescapeHTML(this.elements.$projects.html()),
			data: {
				viewType: 'grid',
				displayProjectList: false,
				projects: [],
				pageArray: [],
				page: 1,
				projectsPerPage: 24,
				state: 'inert'
			},
			computed: {
				hasMoreProjects: function hasMoreProjects() {
					return this.get('page') < this.maxPages();
				},
				projectCount: function projectCount() {
					return this.get('projects').length;
				}
			},
			partials: {
				image: '<span class="o-background -parallax-small js-parallax" data-speed="-0.6" style="background-image: url([[ image ]]);"></span>'
			},
			delimiters: ['[[', ']]'],
			tripleDelimiters: ['[[[', ']]]'],
			transitions: { fade: _ractiveTransitionsFade2.default },

			maxPages: function maxPages() {
				var projectCount = this.get('projectCount');
				var projectsPerPage = this.get('projectsPerPage');
				var remainder = projectCount % projectsPerPage;
				return (projectCount - remainder) / projectsPerPage + (remainder !== 0 ? 1 : 0);
			},

			updatePageArray: function updatePageArray() {

				// pageArray: function () {
				var projects = this.get('projects');
				var projectsPerPage = this.get('projectsPerPage');
				var pageArray = [];
				var i = 0;
				var len = this.get('page');
				for (; i < len; i++) {
					var min = projectsPerPage * i;
					var max = projectsPerPage * i + projectsPerPage;
					var page = projects.slice(min, max);
					pageArray[i] = {
						projects: page,
						projectsLoading: i === len - 1
					};
				}
				this.set('pageArray', pageArray);
				// return pageArray;
				// },
			},

			/**
    * Allows us to set proxy events and run other tasks when controller is initialized
    */
			oninit: function oninit() {
				// _this.$document.trigger('parallax.update');

				// Proxy event handlers
				this.on({
					loadNextPage: function loadNextPage() {
						var _this4 = this;

						this.add('page').then(function () {

							_this4.updatePageArray();

							$(document).trigger('SmoothScrolling.rebuild');

							var pages = _this4.get('pageArray').slice();
							_this4.set('pageArray.' + (pages.length - 1) + '.projectsLoading', false);
						});
					},
					refreshProjects: function refreshProjects(data, options) {
						var _this5 = this;

						this.set('state', 'loading');
						_this.invokeFilteredItems(data, function (projects) {
							_this5.set('displayProjectList', false).then(function () {
								_this5.set('page', 1);
								_this5.set('projects', projects).then(function () {
									_this5.updatePageArray();

									_this.filtersController.fire('refreshProjectTypeCount', projects.slice());

									if (typeof options.firstBlood === 'undefined') {
										(0, _animateTo2.default)($('.js-projects')); // @shame
									} else {
										(0, _dependencies.resolveDependency)(_this.smoothScrollingDependency);
									}

									_this.elements.$total.text(projects.length);

									_this5.set('state', 'inert').then(function () {
										_this5.set('displayProjectList', true).then(function () {

											var pages = _this5.get('pageArray').slice();

											_this5.set('pageArray.' + (pages.length - 1) + '.projectsLoading', false).then(function () {
												if (!options.firstBlood) {
													$(document).trigger('SmoothScrolling.rebuild');
												} else {
													setTimeout(function () {
														$(document).trigger('SmoothScrolling.rebuild');
													}, 301);
												}
											});
										});
									});
								});
							});
						});
					}
				});
			}
		});

		return ractive;
	};

	/**
  * Query server for items and send them to the callback function
  * @param  {array}     data      Object formed by a keyword and a list of filters to query DB with
  * @param  {function}  callback  Function to execute after the AJAX request is done
  */


	_class.prototype.invokeFilteredItems = function invokeFilteredItems(data, callback) {
		var results = [];
		var jqxhr = $.ajax({
			method: 'GET',
			url: 'project/list',
			data: data
		}).done(function (response) {
			if (response.success === true) {
				results = response.results;
			}
		}).fail(function () {}).always(function () {
			callback(results);
		});
	};

	_class.prototype.destroy = function destroy() {
		if (typeof this.scrollbarTags !== 'undefined') {
			this.scrollbarTags.destroy();
			this.scrollbarFilters.destroy();
		}
		this.filtersController.teardown();
		this.projectsController.teardown();
		this.$el.off('.Filters');
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"../global/dependencies":3,"../ractive/ractive-events-tap":32,"../ractive/ractive-transitions-fade":33,"../utils/animateTo":34,"../utils/is":39,"./AbstractModule":6,"smooth-scrollbar":44}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ==========================================================================
// Generic module
// ==========================================================================


var _class = function (_AbstractModule) {
    _inherits(_class, _AbstractModule);

    function _class(options) {
        _classCallCheck(this, _class);

        return _possibleConstructorReturn(this, _AbstractModule.call(this, options));
    }

    // Destroy
    // ==========================================================================


    _class.prototype.destroy = function destroy() {
        this.$el.off();
    };

    return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ==========================================================================
// Slider page
// ==========================================================================


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this.currentSlide = 1;
		_this.isAnimating = false;
		_this.animationDuration = 1200;
		_this.maxSlide = _this.$el.find($('.js-slider-home-slide')).length;
		_this.$controls = _this.$el.find('.js-slider-home-button');

		_this.$el.on('click', '.js-slider-home-next', function (event) {
			return _this.nextSlide();
		});
		_this.$el.on('click', '.js-slider-home-prev', function (event) {
			return _this.prevSlide();
		});
		return _this;
	}

	// Next slide
	// ==========================================================================


	_class.prototype.nextSlide = function nextSlide() {
		this.preventClick();

		if (this.currentSlide === this.maxSlide) {
			this.currentSlide = 0;
		}

		this.currentSlide++;
		this.$el.find('.js-slider-home-slide.is-prev').removeClass('is-prev').addClass('is-next');
		this.$el.find('.js-slider-home-slide.is-current').removeClass('is-current').addClass('is-prev');
		this.$el.find('.js-slider-home-slide[data-slide="' + this.currentSlide + '"]').removeClass('is-next').addClass('is-current');
	};

	// Prev slide
	// ==========================================================================


	_class.prototype.prevSlide = function prevSlide() {
		this.preventClick();

		if (this.currentSlide === 1) {
			this.currentSlide = this.maxSlide + 1;
		}

		this.currentSlide--;
		this.$el.find('.js-slider-home-slide.is-next').removeClass('is-next').addClass('is-prev');
		this.$el.find('.js-slider-home-slide.is-current').removeClass('is-current').addClass('is-next');
		this.$el.find('.js-slider-home-slide[data-slide="' + this.currentSlide + '"]').removeClass('is-prev').addClass('is-current');
	};

	// Prevent click
	// ==========================================================================


	_class.prototype.preventClick = function preventClick() {
		var _this2 = this;

		this.isAnimating = true;
		this.$controls.prop('disabled', true);

		setTimeout(function () {
			_this2.isAnimating = false;
			_this2.$controls.prop('disabled', false);
		}, this.animationDuration);
	};

	// Destroy
	// ==========================================================================


	_class.prototype.destroy = function destroy() {
		this.$el.off();
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6}],17:[function(require,module,exports){
"use strict";

},{}],18:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ==========================================================================
// Generic module
// ==========================================================================


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this.$el.on('click', '.js-lightbox-video-open', function (event) {
			return _this.openLightbox(event);
		});
		_this.$el.on('click', '.js-lightbox-video-close', function () {
			return _this.closeLightbox();
		});
		return _this;
	}

	// Open
	// ==========================================================================


	_class.prototype.openLightbox = function openLightbox(event) {
		var dataVideo = $(event.currentTarget).data('video');
		this.$body.addClass('has-lightbox-video-open');
		$('.js-lightbox-video-content').html(dataVideo);
	};

	// Close
	// ==========================================================================


	_class.prototype.closeLightbox = function closeLightbox() {
		this.$body.removeClass('has-lightbox-video-open');

		setTimeout(function () {
			$('.js-lightbox-video-content').html("");
		}, 600);
	};

	// Destroy
	// ==========================================================================


	_class.prototype.destroy = function destroy() {
		this.$el.off();
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6}],19:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

var _Map = require('./Map');

var _Map2 = _interopRequireDefault(_Map);

var _ractiveEventsTap = require('ractive-events-tap');

var _ractiveEventsTap2 = _interopRequireDefault(_ractiveEventsTap);

var _ractiveTransitionsFade = require('ractive-transitions-fade');

var _ractiveTransitionsFade2 = _interopRequireDefault(_ractiveTransitionsFade);

var _dependencies = require('../global/dependencies');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint esnext: true */


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this2 = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this2.smoothScrollingDependency = (0, _dependencies.addDependency)('LocationSwitcher', 'SmoothScrolling');

		_this2.$mapContainer = _this2.$el.find('.js-map-container');
		_this2.$switcherContainer = _this2.$el.find('.js-switcher-container');
		_this2.idPrefix = 'location_';
		_this2.icon = _this2.$mapContainer.data('icon');
		_this2.places = _this2.prepareLocations(window.locationsOptions.locations);

		_this2.locationController = _this2.initLocationController();
		window.Ractive.DEBUG = false;
		return _this2;
	}

	/**
  * This controller is used for switching between active locations
  * @return  {Ractive Object}  Ractive instance
  */


	_class.prototype.initLocationController = function initLocationController() {
		var _this = this;
		var ractive = new Ractive({
			el: this.$switcherContainer,
			template: this.unescapeHTML(this.$switcherContainer.html()),
			data: {
				locations: window.locationsOptions.locations,
				activeLocation: {},
				displayActiveLocation: true,
				isActive: function isActive(item) {
					return item.id === this.get('activeLocation').id;
				}
			},
			events: { tap: _ractiveEventsTap2.default },
			transitions: { fade: _ractiveTransitionsFade2.default },
			/**
    * Allows us to set proxy events and run other tasks when controller is initialized
    * @param  {array}  options  Array of options
    */
			oninit: function oninit(options) {
				// Set active location as first of locations set
				this.set('activeLocation', this.get('locations.0'));

				// Init map and set first location as "active"
				_this.map = new _Map2.default({
					$container: _this.$mapContainer,
					mapOptions: {
						places: _this.places
					},
					controllerReadyCallback: function controllerReadyCallback(map) {
						(0, _dependencies.resolveDependency)(_this.smoothScrollingDependency);
						ractive.displayActiveLocation();
					}
				});

				this.on({
					/**
      * When we toggle a location, we set the active event
      * and change the map
      * @param  {object}  event  Ractive event object
      */
					toggleLocation: function toggleLocation(event) {
						this.set('displayActiveLocation', false).then(function () {
							ractive.set('activeLocation', ractive.get(event.keypath)).then(function () {
								ractive.set('displayActiveLocation', true);
								ractive.displayActiveLocation();
							});
						});
					}
				});
			},
			/**
    * Updates the Google Map by showing only the active location
    */
			displayActiveLocation: function displayActiveLocation() {
				var ident = _this.idPrefix + this.get('activeLocation').id;
				var place = _this.map.controller.get_place(ident);

				_this.map.controller.filter(ident);
				_this.map.controller.set_zoom(10);
				_this.map.controller.map().setCenter(place.object().getPosition());
			}
		});

		return ractive;
	};

	/**
  * Convert our Location models to BB Map objects
  * @return {array}
  */


	_class.prototype.prepareLocations = function prepareLocations(locations) {
		var i = 0;
		var len = locations.length;
		var preppedLocations = {};

		for (; i < len; i++) {
			var id = this.idPrefix + locations[i].id;
			preppedLocations[id] = {
				type: 'marker',
				categories: [id],
				icon: {
					src: this.icon,
					height: 40,
					width: 33
				},
				coords: [locations[i].lat, locations[i].lon]
			};
		}

		return preppedLocations;
	};

	// Destroy
	// ==========================================================================


	_class.prototype.destroy = function destroy() {
		this.locationController.teardown();
		this.$el.off('.LocationSwitcher');
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"../global/dependencies":3,"./AbstractModule":6,"./Map":20,"ractive-events-tap":42,"ractive-transitions-fade":43}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* jshint esnext: true */
var Map = function () {
	function Map(options) {
		var _this = this;

		_classCallCheck(this, Map);

		setTimeout(function () {
			_this.controller = undefined;
			_this.$container = options.$container;

			var mapOptions = typeof options.mapOptions !== 'undefined' ? options.mapOptions : {};
			var controllerReadyCallback = typeof options.controllerReadyCallback !== 'undefined' ? options.controllerReadyCallback : function () {};

			_this.$container.on('controllerReady.Map', function () {
				controllerReadyCallback(_this);
			});

			// If google is undefined
			if (!window.google || !window.google.maps) {
				window._tmp_google_onload = function () {
					_this.displayMap(mapOptions);
				};

				$.getScript('https://maps.googleapis.com/maps/api/js?sensor=true&v=3' + '&language=fr&callback=_tmp_google_onload&key=AIzaSyCRL-lhPXm5SM6cC7Y0jdkjCfApU8Xur3Y', function () {});

				return false;
			} else {
				_this.displayMap(mapOptions);
			}
		}, 1700);
	}

	Map.prototype.displayMap = function displayMap(mapOptions) {
		var _this2 = this;

		if (!this.$container.length) {
			return false;
		}

		var icon = this.$container.data('icon');
		var address = this.$container.data('address');
		var scrollwheel = typeof this.$container.data('scrollwheel') !== 'undefined' ? true : false;
		var places = typeof mapOptions.places !== 'undefined' ? mapOptions.places : {};

		// Default options.
		// Map center changes after the marker is added
		var controllerOptions = {
			map: {
				center: {
					x: 45.3712923,
					y: -73.9820994
				},
				zoom: 3,
				scrollwheel: scrollwheel,
				mapType: 'roadmap',
				coordsType: 'inpage', // array, json? (vs ul li)
				map_mode: 'default'
				//disableDefaultUI: true
			},
			places: places,
			max_fitbounds_zoom: 14
		};

		this.controller = new BB.gmap.controller(this.$container.get(0), controllerOptions);

		this.controller.init();

		this.controller.set_styles([{ "featureType": "all", "elementType": "geometry", "stylers": [{ "lightness": "-5" }] }, { "featureType": "all", "elementType": "geometry.fill", "stylers": [{ "lightness": "-10" }, { "saturation": "-100" }] }, { "featureType": "all", "elementType": "labels", "stylers": [{ "visibility": "off" }, { "lightness": "0" }, { "gamma": "1" }] }, { "featureType": "all", "elementType": "labels.text", "stylers": [{ "visibility": "on" }] }, { "featureType": "all", "elementType": "labels.text.fill", "stylers": [{ "visibility": "on" }, { "lightness": "0" }, { "gamma": "1" }] }, { "featureType": "all", "elementType": "labels.text.stroke", "stylers": [{ "hue": "#d700ff" }, { "visibility": "off" }] }, { "featureType": "all", "elementType": "labels.icon", "stylers": [{ "hue": "#ff0000" }] }, { "featureType": "administrative", "elementType": "labels.text.fill", "stylers": [{ "color": "#444444" }, { "saturation": "0" }, { "lightness": "0" }, { "visibility": "on" }] }, { "featureType": "administrative.country", "elementType": "geometry.stroke", "stylers": [{ "lightness": "50" }] }, { "featureType": "administrative.country", "elementType": "labels.text.fill", "stylers": [{ "lightness": "25" }] }, { "featureType": "administrative.province", "elementType": "geometry.stroke", "stylers": [{ "weight": "1" }, { "lightness": "0" }] }, { "featureType": "administrative.province", "elementType": "labels.text", "stylers": [{ "lightness": "25" }] }, { "featureType": "administrative.locality", "elementType": "labels.text", "stylers": [{ "lightness": "30" }, { "gamma": "1.00" }] }, { "featureType": "administrative.neighborhood", "elementType": "labels.text", "stylers": [{ "lightness": "53" }, { "gamma": "1.00" }] }, { "featureType": "administrative.neighborhood", "elementType": "labels.text.fill", "stylers": [{ "lightness": "-20" }, { "gamma": "1.00" }] }, { "featureType": "administrative.land_parcel", "elementType": "labels.text.fill", "stylers": [{ "lightness": "30" }, { "gamma": "1" }, { "visibility": "on" }] }, { "featureType": "administrative.land_parcel", "elementType": "labels.text.stroke", "stylers": [{ "visibility": "on" }] }, { "featureType": "landscape", "elementType": "all", "stylers": [{ "color": "#f2f2f2" }] }, { "featureType": "landscape", "elementType": "geometry.fill", "stylers": [{ "lightness": "-10" }] }, { "featureType": "landscape", "elementType": "labels.text.fill", "stylers": [{ "lightness": "-40" }] }, { "featureType": "poi", "elementType": "all", "stylers": [{ "visibility": "off" }] }, { "featureType": "road", "elementType": "all", "stylers": [{ "lightness": "18" }, { "saturation": "-100" }] }, { "featureType": "road", "elementType": "geometry.fill", "stylers": [{ "lightness": "-30" }] }, { "featureType": "road", "elementType": "labels.icon", "stylers": [{ "visibility": "off" }, { "lightness": "50" }] }, { "featureType": "road.highway", "elementType": "all", "stylers": [{ "visibility": "simplified" }, { "lightness": "0" }] }, { "featureType": "road.highway", "elementType": "geometry.fill", "stylers": [{ "weight": "1" }, { "saturation": "0" }, { "lightness": "83" }] }, { "featureType": "road.arterial", "elementType": "all", "stylers": [{ "lightness": "0" }] }, { "featureType": "road.arterial", "elementType": "geometry.fill", "stylers": [{ "lightness": "80" }] }, { "featureType": "road.arterial", "elementType": "labels.icon", "stylers": [{ "visibility": "off" }] }, { "featureType": "road.local", "elementType": "all", "stylers": [{ "lightness": "0" }] }, { "featureType": "road.local", "elementType": "geometry.fill", "stylers": [{ "lightness": "80" }, { "gamma": "1" }] }, { "featureType": "road.local", "elementType": "geometry.stroke", "stylers": [{ "saturation": "0" }, { "lightness": "-15" }, { "weight": ".25" }, { "gamma": "1" }] }, { "featureType": "road.local", "elementType": "labels.text", "stylers": [{ "lightness": "0" }, { "gamma": "1.00" }] }, { "featureType": "transit", "elementType": "all", "stylers": [{ "visibility": "off" }] }, { "featureType": "water", "elementType": "all", "stylers": [{ "color": "#ffc1d9" }, { "visibility": "on" }] }, { "featureType": "water", "elementType": "geometry.fill", "stylers": [{ "color": "#ffffff" }, { "saturation": "-100" }, { "lightness": "-5" }, { "gamma": "0.5" }] }, { "featureType": "water", "elementType": "labels.text.fill", "stylers": [{ "visibility": "off" }] }, { "featureType": "water", "elementType": "labels.text.stroke", "stylers": [{ "weight": ".75" }, { "visibility": "off" }] }]);

		if (address !== '') {
			this.controller.add_place_by_address('place', address, {
				type: 'marker',
				icon: {
					src: icon,
					height: 84,
					width: 60
				},
				loaded_callback: function loaded_callback(o) {
					_this2.controller.fit_bounds();
				}
			});
		}

		this.controller.ready(function () {
			_this2.$container.trigger('controllerReady.Map');
		});
	};

	// Destroy
	// ==========================================================================


	Map.prototype.destroy = function destroy() {
		this.$container.off('.Map');
	};

	return Map;
}();

exports.default = Map;

},{}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

var _smoothScrollbar = require('smooth-scrollbar');

var _smoothScrollbar2 = _interopRequireDefault(_smoothScrollbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ==========================================================================
// Generic module
// ==========================================================================


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		$('.js-nav-toggle').click(function (event) {
			return _this.toggleNav();
		});

		_this.$el.find('.js-nav-search').click(function (event) {});
		_this.$el.on('click', '.js-search-button', function (event) {
			return _this.openSearch(event);
		});

		if (window.matchMedia("(min-width: 1200px)").matches) {
			_this.scrollbar = _smoothScrollbar2.default.init(_this.$el.find('[data-scrollbar]')[0]);
		}
		return _this;
	}

	// Open search
	// ==========================================================================


	_class.prototype.openSearch = function openSearch(event) {
		var _this2 = this;

		event.preventDefault();

		this.$body.toggleClass('has-search-open');

		setTimeout(function () {
			_this2.$el.find('.js-search-input').focus();
		}, 300);
	};

	// Toggle nav
	// ==========================================================================


	_class.prototype.toggleNav = function toggleNav() {
		if (this.$body.hasClass('has-nav-open')) {
			this.$body.removeClass('has-nav-open');
		} else {
			this.$el.find('.js-search-input').val('');
			this.$el.find('.js-search-results').html('');
			this.$body.removeClass('has-search-open').addClass('has-nav-open');
		}
	};

	// Destroy
	// ==========================================================================


	_class.prototype.destroy = function destroy() {
		this.$el.off();
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6,"smooth-scrollbar":44}],22:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint esnext: true */


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this.$el.on('click', '.js-nav-news-toggle', function (event) {
			return _this.toggleNavNews();
		});
		return _this;
	}

	_class.prototype.toggleNavNews = function toggleNavNews() {
		this.$body.toggleClass('has-nav-news-open');

		if (this.$body.hasClass('has-nav-news-open')) {
			$('.js-news-nav').scrollTop(0);
		}
	};

	_class.prototype.destroy = function destroy() {
		this.$el.off();
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6}],23:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

var _ractiveEventsTap = require('ractive-events-tap');

var _ractiveEventsTap2 = _interopRequireDefault(_ractiveEventsTap);

var _ractiveTransitionsFade = require('ractive-transitions-fade');

var _ractiveTransitionsFade2 = _interopRequireDefault(_ractiveTransitionsFade);

var _smoothScrollbar = require('smooth-scrollbar');

var _smoothScrollbar2 = _interopRequireDefault(_smoothScrollbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint esnext: true */


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this2 = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this2.elements = {
			$newsList: _this2.$el.find('.js-news-list')
		};

		_this2.newsListController = _this2.initNewsListController();

		_this2.$el.on('click.News', '.js-news-toggle', function (event) {
			_this2.toggleNavNews();
		});

		if (window.matchMedia("(min-width: 1200px)").matches) {
			_this2.scrollbar = _smoothScrollbar2.default.init(_this2.$el[0]);
		}
		window.Ractive.DEBUG = false;
		return _this2;
	}

	_class.prototype.toggleNavNews = function toggleNavNews() {
		this.$body.toggleClass('has-nav-news-open');
	};

	/**
  * This controller is used for loading more news
  *
  * @return  {Ractive Object}  Ractive instance
  */


	_class.prototype.initNewsListController = function initNewsListController() {
		var _this = this;
		var ractive = new Ractive({
			el: this.elements.$newsList,
			template: this.unescapeHTML(this.elements.$newsList.html()),
			data: {
				news: window.newsOptions.news,
				page: window.newsOptions.page,
				nextPage: window.newsOptions.nextPage,
				state: window.newsOptions.state
			},
			events: { tap: _ractiveEventsTap2.default },
			transitions: { fade: _ractiveTransitionsFade2.default },

			/**
    * Allows us to set proxy events and run other tasks when controller is initialized
    *
    * @param  {array}  options  Array of options
    */
			oninit: function oninit(options) {
				var _ractive = this;
				this.on({

					/**
      * When load more is clicked, we fetch more news
      * If nextPage is false, the button will disapear
      *
      * @param  {object}  event  Ractive event object
      */
					loadMore: function loadMore(event) {
						var parameters = {
							page: this.get('page')
						};

						this.set('state', 'loading');

						_this.invokeLoadNews(parameters, function (response) {
							// Give an impression of loading, lel
							window.setTimeout(function () {
								_ractive.set({
									'page': response.page,
									'nextPage': response.nextPage
								});
								_ractive.push.apply(_ractive, ['news'].concat(response.news)).then(function () {
									_ractive.set('state', 'inert');
								});
							}, 500);
						});
					}
				});
			}
		});

		return ractive;
	};

	/**
  * Query server for news and send them to the callback function
  * @param  {array}     data      Object formed by a page number
  * @param  {function}  callback  Function to execute after the AJAX request is done
  */


	_class.prototype.invokeLoadNews = function invokeLoadNews(data, callback) {
		// Default response
		var _response = {
			news: [],
			page: data.page,
			nextPage: false
		};
		var jqxhr = $.ajax({
			method: 'GET',
			url: 'news/list',
			data: data
		}).done(function (response) {
			if (response.success === true) {
				_response = response;
			}
		}).fail(function () {
			console.log('error');
		}).always(function () {
			callback(_response);
		});
	};

	_class.prototype.destroy = function destroy() {
		this.newsListController.teardown();
		this.$el.off('.News');
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6,"ractive-events-tap":42,"ractive-transitions-fade":43,"smooth-scrollbar":44}],24:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _barba = require('barba.js');

var _barba2 = _interopRequireDefault(_barba);

var _environment = require('../utils/environment');

var _PageTransitions = require('../global/PageTransitions');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
/* jshint esnext: true */


var _class = function () {
	function _class(options) {
		_classCallCheck(this, _class);

		this.load();
	}

	_class.prototype.load = function load() {

		var self = this;

		//Init Barba JS
		_barba2.default.Pjax.Dom.containerClass = 'js-barba-container';
		_barba2.default.Pjax.Dom.wrapperId = 'js-barba-wrapper';

		_barba2.default.Pjax.start();

		var mainTransition = _barba2.default.BaseTransition.extend(_PageTransitions.transitions.mainTransition);
		var navTransition = _barba2.default.BaseTransition.extend(_PageTransitions.transitions.navTransition);
		var sectionTransition = _barba2.default.BaseTransition.extend(_PageTransitions.transitions.sectionTransition);

		_barba2.default.Pjax.getTransition = function () {
			if (self.route === 'nav') {
				return navTransition;
			} else if (self.route == 'same-section') {
				return sectionTransition;
			} else {
				return mainTransition;
			}
		};

		_barba2.default.Dispatcher.on('linkClicked', function (currentStatus, oldStatus, container) {
			self.route = currentStatus.getAttribute('data-route');
			self.routeOption = currentStatus.getAttribute('data-route-option');

			if (self.routeOption != undefined) {
				_environment.$body.attr('data-route-option', self.routeOption);
			} else {
				_environment.$body.attr('data-route-option', '');
			}
		});

		/**
   * Execute any third party features.
   */
		_barba2.default.Dispatcher.on('newPageReady', function (currentStatus, oldStatus, container) {

			if (window.ga && !_environment.$html.data('debug')) {
				ga('send', {
					hitType: 'pageview',
					page: location.pathname,
					location: currentStatus.url,
					title: document.title
				});
			}

			var js = container.querySelector("script");
			if (js != null) {
				eval(js.innerHTML);
			}
		});
	};

	_class.prototype.destroy = function destroy() {
		this.$el.off();
	};

	return _class;
}();

exports.default = _class;

},{"../global/PageTransitions":2,"../utils/environment":36,"barba.js":41}],25:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

var _smoothScrollbar = require('smooth-scrollbar');

var _smoothScrollbar2 = _interopRequireDefault(_smoothScrollbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint esnext: true */


// import tap from '../ractive/ractive-events-tap';
// import fade from '../ractive/ractive-transitions-fade';

var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this2 = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this2.searchResultsController = _this2.initSearchResultsController();

		if (window.matchMedia("(min-width: 1200px)").matches) {
			_this2.scrollbar = _smoothScrollbar2.default.init(_this2.$el.find('[data-scrollbar]')[0]);
		}
		window.Ractive.DEBUG = false;
		return _this2;
	}

	/**
  * This controller is used for loading search results and various visual effects
  *
  * @return  {Ractive Object}  Ractive instance
  */


	_class.prototype.initSearchResultsController = function initSearchResultsController() {
		var _this = this;
		var timeout = 0;
		var minLength = 3;
		var searchDelay = 500;
		var ractive = new Ractive({
			el: this.$el,
			template: this.unescapeHTML(this.$el.html()),
			data: {
				keyword: '',
				news: [],
				projects: [],
				state: 'inert'
			},
			computed: {
				displaySearchResults: function displaySearchResults() {
					return this.get('keyword').length >= minLength;
				},
				encodedKeyword: function encodedKeyword() {
					return this.get('keyword').replace(/\s/g, '&nbsp;');
				},
				hasNews: function hasNews() {
					return this.objectCount('news') !== 0;
				},
				hasProjects: function hasProjects() {
					return this.objectCount('projects') !== 0;
				},
				hasSections: function hasSections() {
					return this.objectCount('sections') !== 0;
				},
				isLoading: function isLoading() {
					return this.get('state') === 'loading';
				},
				totalResults: function totalResults() {
					return this.get('projects').length + this.get('news').length + this.get('sections').length;
				}
			},
			// events: { tap },
			// transitions: { fade },

			/**
    * News model
    * @param  {object}  params  Initial values for the model
    * @return {object}          News model
    *
    * Model properties
    *
    * @param {string}  url
    * @param {string}  title
    * @param {string}  date
    * @param {string}  description
    */
			getNewsModel: function getNewsModel(params) {
				var defaults = {
					url: '',
					title: '',
					date: '',
					description: ''
				};
				return $.extend(defaults, params);
			},

			/**
    * Project model
    * @param  {object}  params  Initial values for the model
    * @return {object}          Project model
    *
    * Model properties
    *
    * @param {string}  url
    * @param {string}  image
    * @param {string}  title
    * @param {array}   tags
    * @param {string}  description
    */
			getProjectModel: function getProjectModel(params) {
				var defaults = {
					url: '',
					image: '',
					title: '',
					tags: [],
					description: ''
				};
				return $.extend(defaults, params);
			},
			getSectionModel: function getSectionModel(params) {
				var defaults = {
					url: '',
					title: '',
					description: ''
				};
				return $.extend(defaults, params);
			},

			/**
    * Count objects according to keypath
    * @param  {string}  keypath
    * @return {int}
    */
			objectCount: function objectCount(keypath) {
				return this.get(keypath).length;
			},

			/**
    * Allows us to set proxy events and run other tasks when controller is initialized
    *
    * @param  {array}  options  Array of options
    */
			oninit: function oninit(options) {
				this.on({
					/**
      * Empty all search results
      *
      * @param  {object}  event  Ractive event object
      */
					emptyResults: function emptyResults(event) {
						ractive.set('projects', []);
						ractive.set('news', []);
						ractive.set('sections', []);
					},

					/**
      * When load more is clicked, we fetch more news
      * If nextPage is false, the button will disapear
      *
      * @param  {object}  event  Ractive event object
      */
					loadSearchResults: function loadSearchResults(event) {
						var parameters = {
							keyword: this.get('keyword')
						};

						this.set('state', 'loading');

						_this.invokeLoadResults(parameters, function (response) {
							ractive.set('projects', response.projects);
							ractive.set('sections', response.sections);
							ractive.set('news', response.news).then(function () {
								ractive.set('state', 'inert');
							});
						});
					},

					/**
      * Gobble up the submit event
      *
      * @param  {object}  event  Ractive event object
      */
					submitForm: function submitForm(event) {
						event.original.preventDefault();
					}
				});
			}
		});

		// Watching for changes on the typed in data
		ractive.observe('keyword', function (newValue) {

			// Timeout clearing!
			if (timeout !== 0) {
				clearTimeout(timeout);
				timeout = 0;
			}

			// If less than minLength characters, clear out the search results
			if (newValue.length < minLength) {
				ractive.fire('emptyResults');
			} else {
				// Dont search if loading
				if (ractive.get('state') === 'inert') {
					timeout = setTimeout(function () {
						ractive.fire('loadSearchResults');
					}, searchDelay);
				}
			}
		});

		return ractive;
	};

	/**
  * Query server for search results and send them to the callback function
  * @param  {array}     data      Object formed by a keyword
  * @param  {function}  callback  Function to execute after the AJAX request is done
  */


	_class.prototype.invokeLoadResults = function invokeLoadResults(data, callback) {
		// Default response
		var _response = {
			news: [],
			projects: []
		};
		var jqxhr = $.ajax({
			method: 'GET',
			url: 'search',
			data: data
		}).done(function (response) {
			if (response.success === true) {
				_response = response;
			}
		}).fail(function () {
			console.log('error');
		}).always(function () {
			callback(_response);
		});
	};

	// Destroy
	// ==========================================================================


	_class.prototype.destroy = function destroy() {
		this.searchResultsController.teardown();
		this.$el.off('.Search');
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6,"smooth-scrollbar":44}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this.$toggles = _this.$el.find('.js-switch-toggle');
		_this.$imageElem = _this.$el.find('.js-image');

		_this.$el.on('mouseenter.SimilarSwitcher', '.js-switch-toggle', function (event) {
			_this.switchProject(event);
		});
		return _this;
	}

	// Hover project
	// ==========================================================================


	_class.prototype.switchProject = function switchProject(event) {
		var src = event.currentTarget.getAttribute('data-image');

		if (src !== null) {
			this.$toggles.removeClass('is-active');
			$(event.currentTarget).addClass('is-active');
			this.$imageElem.css('background-image', 'url(' + src + ')');
		}
	};

	// Destroy
	// ==========================================================================


	_class.prototype.destroy = function destroy() {
		this.$el.off('.SimilarSwitcher');
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6}],27:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ==========================================================================
// Slider home
// ==========================================================================


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this.currentSlide = 1;
		_this.isAnimating = false;
		_this.animationDuration = 1200;
		_this.autoplaySpeed = 10000;
		_this.interval;
		_this.maxSlide = _this.$el.find($('.js-slider-home-slide')).length;
		_this.$controls = _this.$el.find('.js-slider-home-button');

		_this.$el.on('click', '.js-slider-home-next', function (event) {
			return _this.nextSlide();
		});
		_this.$el.on('click', '.js-slider-home-prev', function (event) {
			return _this.prevSlide();
		});

		_this.startAutoplay();
		return _this;
	}

	// Next slide
	// ==========================================================================


	_class.prototype.nextSlide = function nextSlide() {
		this.preventClick();

		if (this.currentSlide === this.maxSlide) {
			this.currentSlide = 0;
		}

		this.currentSlide++;
		this.$el.find('.js-slider-home-slide.is-prev').removeClass('is-prev').addClass('is-next');
		this.$el.find('.js-slider-home-slide.is-current').removeClass('is-current').addClass('is-prev');
		this.$el.find('.js-slider-home-slide[data-slide="' + this.currentSlide + '"]').removeClass('is-next').addClass('is-current');
	};

	// Prev slide
	// ==========================================================================


	_class.prototype.prevSlide = function prevSlide() {
		this.preventClick();

		if (this.currentSlide === 1) {
			this.currentSlide = this.maxSlide + 1;
		}

		this.currentSlide--;
		this.$el.find('.js-slider-home-slide.is-next').removeClass('is-next').addClass('is-prev');
		this.$el.find('.js-slider-home-slide.is-current').removeClass('is-current').addClass('is-next');
		this.$el.find('.js-slider-home-slide[data-slide="' + this.currentSlide + '"]').removeClass('is-prev').addClass('is-current');
	};

	// Prevent click
	// ==========================================================================


	_class.prototype.preventClick = function preventClick() {
		var _this2 = this;

		this.isAnimating = true;
		this.$controls.prop('disabled', true);
		clearInterval(this.interval);

		setTimeout(function () {
			_this2.isAnimating = false;
			_this2.$controls.prop('disabled', false);
			_this2.startAutoplay();
		}, this.animationDuration);
	};

	// Start autoplay
	// ==========================================================================


	_class.prototype.startAutoplay = function startAutoplay() {
		var _this3 = this;

		this.interval = setInterval(function () {
			if (!_this3.isAnimating) {
				_this3.nextSlide();
			}
		}, this.autoplaySpeed);
	};

	// Destroy
	// ==========================================================================


	_class.prototype.destroy = function destroy() {
		this.$el.off();
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6}],28:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ==========================================================================
// Slider home
// ==========================================================================


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this.currentSlide = 1;
		_this.isAnimating = false;
		_this.animationDuration = 1200;
		_this.autoplaySpeed = 10000;
		_this.maxSlide = _this.$el.find($('.js-slider-home-slide')).length;
		_this.$controls = _this.$el.find('.js-slider-home-button');

		_this.$el.on('click', '.js-slider-home-next', function (event) {
			return _this.nextSlide();
		});
		_this.$el.on('click', '.js-slider-home-prev', function (event) {
			return _this.prevSlide();
		});
		return _this;
	}

	// Next slide
	// ==========================================================================


	_class.prototype.nextSlide = function nextSlide() {
		this.preventClick();

		if (this.currentSlide === this.maxSlide) {
			this.currentSlide = 0;
		}

		this.currentSlide++;
		this.$el.find('.js-slider-home-slide.is-prev').removeClass('is-prev').addClass('is-next');
		this.$el.find('.js-slider-home-slide.is-current').removeClass('is-current').addClass('is-prev');
		this.$el.find('.js-slider-home-slide[data-slide="' + this.currentSlide + '"]').removeClass('is-next').addClass('is-current');
	};

	// Prev slide
	// ==========================================================================


	_class.prototype.prevSlide = function prevSlide() {
		this.preventClick();

		if (this.currentSlide === 1) {
			this.currentSlide = this.maxSlide + 1;
		}

		this.currentSlide--;
		this.$el.find('.js-slider-home-slide.is-next').removeClass('is-next').addClass('is-prev');
		this.$el.find('.js-slider-home-slide.is-current').removeClass('is-current').addClass('is-next');
		this.$el.find('.js-slider-home-slide[data-slide="' + this.currentSlide + '"]').removeClass('is-prev').addClass('is-current');
	};

	// Prevent click
	// ==========================================================================


	_class.prototype.preventClick = function preventClick() {
		var _this2 = this;

		this.isAnimating = true;
		this.$controls.prop('disabled', true);

		setTimeout(function () {
			_this2.isAnimating = false;
			_this2.$controls.prop('disabled', false);
		}, this.animationDuration);
	};

	// Destroy
	// ==========================================================================


	_class.prototype.destroy = function destroy() {
		this.$el.off();
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"./AbstractModule":6}],29:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _DoubleSlider2 = require('./DoubleSlider');

var _DoubleSlider3 = _interopRequireDefault(_DoubleSlider2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint esnext: true */


var _class = function (_DoubleSlider) {
	_inherits(_class, _DoubleSlider);

	function _class(options) {
		_classCallCheck(this, _class);

		options.sliders = {
			one: {
				$el: options.$el.find('.js-slider-project-main'),
				options: {
					arrows: false,
					cssEase: 'cubic-bezier(0.4, 0, 0.2, 1)',
					speed: 500
				}
			},
			two: {
				$el: options.$el.find('.js-slider-project-secondary'),
				options: {
					arrows: false,
					cssEase: 'cubic-bezier(0.4, 0, 0.2, 1)',
					draggable: false,
					speed: 500,

					initialSlide: 1,
					swipe: false
				}
			}
		};
		return _possibleConstructorReturn(this, _DoubleSlider.call(this, options));
	}

	return _class;
}(_DoubleSlider3.default);

exports.default = _class;

},{"./DoubleSlider":12}],30:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

var _smoothScrollbar = require('smooth-scrollbar');

var _smoothScrollbar2 = _interopRequireDefault(_smoothScrollbar);

var _environment = require('../utils/environment');

var _throttledResize = require('throttled-resize');

var _throttledResize2 = _interopRequireDefault(_throttledResize);

var _dependencies = require('../global/dependencies');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ==========================================================================
// Smooth scrolling module
// ==========================================================================


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this.scrollbar;
		_this.isSmooth = false;
		_this.isMobile = true;

		_this.selector = '.js-parallax, .s-wysiwyg ul, .s-wysiwyg blockquote';

		// if (hasDependencies('SmoothScrolling')) {
		// 	this.$document.on('resolveDependencies.SmoothScrolling', () => this.buildSmoothScrolling());
		// } else {

		// SmoothScrolling only on this matchMedia matche
		if (window.matchMedia("(min-width: 1200px)").matches) {
			_this.buildSmoothScrolling();
			_this.isSmooth = true;
			_this.isMobile = false;

			_environment.$document.on('SmoothScrolling.rebuild', function () {
				_this.updateElements();
			});
		}
		// }

		var resize = new _throttledResize2.default();
		resize.on('resize:end', function () {
			return _this.checkResize();
		});
		return _this;
	}

	_class.prototype.buildSmoothScrolling = function buildSmoothScrolling() {
		var _this2 = this;

		setTimeout(function () {
			_this2.scrollbar = _smoothScrollbar2.default.init(_this2.$el[0]);
			_this2.windowHeight = _this2.$window.height();
			_this2.windowMiddle = _this2.windowHeight / 2;
			_this2.scrollbarLimit = _this2.scrollbar.limit.y + _this2.windowHeight;
			_this2.elements = {};
			// Create elements object
			_this2.addElements();
			// First load
			_this2.checkElements(true);
			// On scroll
			_this2.scrollbar.addListener(function () {
				return _this2.checkElements();
			});

			// Scrollto buttons event
			$('.js-scrollto').on('click.SmoothScrolling', function (event) {
				return _this2.scrollTo(event);
			});

			// Setup done.
			_this2.$document.trigger({
				type: 'SmoothScroll.isReady'
			});
		}, 300);
	};

	// Add elements
	// ==========================================================================


	_class.prototype.addElements = function addElements() {
		var _this3 = this;

		$(this.selector).each(function (i, el) {
			var $element = $(el);
			var elementSpeed = $element.data('speed') / 10;
			var elementPosition = $element.data('position');
			var elementTarget = $element.data('target');
			var elementHorizontal = $element.data('horizontal');
			var $target = elementTarget ? $(elementTarget) : $element;
			var elementOffset = $target.offset().top + _this3.scrollbar.scrollTop;

			var elementPersist = $element.data('persist');

			if (!elementTarget && $element.data('transform')) {
				var transform = $element.data('transform');
				elementOffset -= parseFloat(transform.y);
			}

			var elementLimit = elementOffset + $target.outerHeight();
			var elementMiddle = (elementLimit - elementOffset) / 2 + elementOffset;

			_this3.elements[i] = {
				$element: $element,
				offset: elementOffset,
				limit: elementLimit,
				middle: elementMiddle,
				speed: elementSpeed,
				position: elementPosition,
				horizontal: elementHorizontal,
				persist: elementPersist
			};
		});
	};

	/**
  * Update elements, recalculate all position as if the template
  * just loaded.
  */


	_class.prototype.updateElements = function updateElements() {
		this.scrollbar.update();
		// Reset container and scrollbar data.
		this.windowHeight = this.$window.height();
		this.windowMiddle = this.windowHeight / 2;
		this.scrollbarLimit = this.scrollbar.limit.y + this.windowHeight;
		this.addElements();
		this.checkElements(true);
		// this.checkElements(true);
		_environment.$document.trigger('SmoothScroll.update');
	};

	// Check resize
	// ==========================================================================


	_class.prototype.checkResize = function checkResize() {
		if (window.matchMedia("(min-width: 1200px)").matches) {
			if (!this.isSmooth) {
				this.isSmooth = true;
				this.buildSmoothScrolling();
			} else {
				this.updateElements();
			}
		} else {
			if (this.isSmooth) {
				this.isSmooth = false;
				this.destroy();
			}
		}
	};

	// Check elements
	// ==========================================================================


	_class.prototype.checkElements = function checkElements(first) {
		var scrollbarTop = this.scrollbar.scrollTop;
		var scrollbarLimit = this.scrollbarLimit;
		var scrollbarBottom = scrollbarTop + this.windowHeight;
		var scrollbarMiddle = scrollbarTop + this.windowMiddle;

		for (var i in this.elements) {
			var transformDistance = void 0;
			var scrollBottom = scrollbarBottom;
			var $element = this.elements[i].$element;
			var elementOffset = this.elements[i].offset;
			// elementOffset = $element.offset().top;
			var elementLimit = this.elements[i].limit;
			var elementMiddle = this.elements[i].middle;
			var elementSpeed = this.elements[i].speed;
			var elementPosition = this.elements[i].position;
			var elementHorizontal = this.elements[i].horizontal;
			var elementPersist = this.elements[i].persist;

			if (elementPosition === 'top') {
				scrollBottom = scrollbarTop;
			}

			// Define if the element is inview
			var inview = scrollBottom >= elementOffset && scrollbarTop <= elementLimit;

			// Add class if inview, remove if not
			if (inview) {
				$element.addClass('is-inview');

				if (elementPersist != undefined) {
					$element.addClass('is-visible');
				}
			} else {
				$element.removeClass('is-inview');
			}

			if (first && !inview && elementSpeed) {
				// Different calculations if it is the first call and the
				// item is not in the view
				if (elementPosition !== 'top') {
					transformDistance = (elementOffset - this.windowMiddle - elementMiddle) * -elementSpeed;
				}
			}

			// If element is in view
			if (inview && elementSpeed) {
				switch (elementPosition) {
					case 'top':
						transformDistance = (scrollbarTop - elementOffset) * -elementSpeed;
						break;

					case 'bottom':
						transformDistance = (scrollbarLimit - scrollBottom) * elementSpeed;
						break;

					default:
						transformDistance = (scrollbarMiddle - elementMiddle) * -elementSpeed;
						break;
				}
			}

			if (transformDistance) {
				// Transform horizontal OR vertical.
				// Default to vertical.
				elementHorizontal ? this.transform($element, transformDistance + 'px') : this.transform($element, 0, transformDistance + 'px');
			}
		}
	};

	// Transform element horizontal
	// ==========================================================================
	//

	/**
  * [transform description]
  * @param  {[type]} $element Jquery element.
  * @param  {mixed} 	x        Translate value
  * @param  {mixed} 	y        Translate value
  * @param  {mixed} 	z        Translate value
  * @return {void}
  */


	_class.prototype.transform = function transform($element, x, y, z) {
		// Defaults
		x = x || 0;
		y = y || 0;
		z = z || 0;

		// Translate
		$element.css({
			'-webkit-transform': 'translate3d(' + x + ', ' + y + ', ' + z + ')',
			'-ms-transform': 'translate3d(' + x + ', ' + y + ', ' + z + ')',
			'transform': 'translate3d(' + x + ', ' + y + ', ' + z + ')'
		}).data('transform', {
			x: x,
			y: y,
			z: z
		}); // Remember

		$element.find(this.selector).each(function (i, e) {
			var $this = $(e);
			if (!$this.data('transform')) {
				$this.data('transform', {
					x: x,
					y: y,
					z: z
				});
			}
		});
	};

	// Scroll to
	// ==========================================================================


	_class.prototype.scrollTo = function scrollTo(event) {

		if (!$.isNumeric(event)) {
			event.preventDefault();

			var $target = $(event.currentTarget);
			var targetData = void 0;

			if ($target.data('target')) {
				targetData = $target.data('target');
			} else {
				targetData = $target.attr('href');
			}

			var targetOffset = $(targetData).offset().top + this.scrollbar.scrollTop;
		} else {
			var targetOffset = event;
		}

		this.scrollbar.scrollTo(0, targetOffset, 900);
	};

	// Destroy
	// ==========================================================================


	_class.prototype.destroy = function destroy() {
		this.$el.off('.SmoothScrolling');
		this.parallaxElements = undefined;
		this.elements = {};

		if (!this.isMobile) {
			this.scrollbar.destroy();
		}
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"../global/dependencies":3,"../utils/environment":36,"./AbstractModule":6,"smooth-scrollbar":44,"throttled-resize":45}],31:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _visibility = require('../utils/visibility');

var _AbstractModule2 = require('./AbstractModule');

var _AbstractModule3 = _interopRequireDefault(_AbstractModule2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint esnext: true */


var _class = function (_AbstractModule) {
	_inherits(_class, _AbstractModule);

	function _class(options) {
		_classCallCheck(this, _class);

		var _this = _possibleConstructorReturn(this, _AbstractModule.call(this, options));

		_this.$label = _this.$el.find('.js-label');

		_this.$document.on('Title.changeLabel', function (event, value) {
			_this.changeLabel(value);
			_this.destroy();
		});

		_this.hiddenCallbackIdent = (0, _visibility.visibilityApi)({
			action: 'addCallback',
			state: 'hidden',
			callback: _this.logHidden
		});

		_this.visibleCallbackIdent = (0, _visibility.visibilityApi)({
			action: 'addCallback',
			state: 'visible',
			callback: _this.logVisible
		});
		return _this;
	}

	_class.prototype.logHidden = function logHidden() {
		console.log('Title is hidden');
	};

	_class.prototype.logVisible = function logVisible() {
		console.log('Title is visible');
	};

	_class.prototype.changeLabel = function changeLabel(value) {
		this.$label.text(value);
	};

	_class.prototype.destroy = function destroy() {
		this.$document.off('Title.changeLabel');

		(0, _visibility.visibilityApi)({
			action: 'removeCallback',
			state: 'hidden',
			ident: this.hiddenCallbackIdent
		});

		(0, _visibility.visibilityApi)({
			action: 'removeCallback',
			state: 'visible',
			ident: this.visibleCallbackIdent
		});

		this.$el.off('.Title');
	};

	return _class;
}(_AbstractModule3.default);

exports.default = _class;

},{"../utils/visibility":40,"./AbstractModule":6}],32:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = tap;
var DISTANCE_THRESHOLD = 5; // maximum pixels pointer can move before cancel
var TIME_THRESHOLD = 400; // maximum milliseconds between down and up before cancel

function tap(node, callback) {
	return new TapHandler(node, callback);
}

function TapHandler(node, callback) {
	this.node = node;
	this.callback = callback;

	this.preventMousedownEvents = false;

	this.bind(node);
}

TapHandler.prototype = {
	bind: function bind(node) {
		// listen for mouse/pointer events...
		if (window.navigator.pointerEnabled) {
			node.addEventListener('pointerdown', handleMousedown, false);
		} else if (window.navigator.msPointerEnabled) {
			node.addEventListener('MSPointerDown', handleMousedown, false);
		} else {
			node.addEventListener('mousedown', handleMousedown, false);

			// ...and touch events
			node.addEventListener('touchstart', handleTouchstart, false);
		}

		// native buttons, and <input type='button'> elements, should fire a tap event
		// when the space key is pressed
		if (node.tagName === 'BUTTON' || node.type === 'button') {
			node.addEventListener('focus', handleFocus, false);
		}

		node.__tap_handler__ = this;
	},
	fire: function fire(event, x, y) {
		this.callback({
			node: this.node,
			original: event,
			x: x,
			y: y
		});
	},
	mousedown: function mousedown(event) {
		var _this = this;

		if (this.preventMousedownEvents) {
			return;
		}

		if (event.which !== undefined && event.which !== 1) {
			return;
		}

		var x = event.clientX;
		var y = event.clientY;

		// This will be null for mouse events.
		var pointerId = event.pointerId;

		var handleMouseup = function handleMouseup(event) {
			if (event.pointerId != pointerId) {
				return;
			}

			_this.fire(event, x, y);
			cancel();
		};

		var handleMousemove = function handleMousemove(event) {
			if (event.pointerId != pointerId) {
				return;
			}

			if (Math.abs(event.clientX - x) >= DISTANCE_THRESHOLD || Math.abs(event.clientY - y) >= DISTANCE_THRESHOLD) {
				cancel();
			}
		};

		var cancel = function cancel() {
			_this.node.removeEventListener('MSPointerUp', handleMouseup, false);
			document.removeEventListener('MSPointerMove', handleMousemove, false);
			document.removeEventListener('MSPointerCancel', cancel, false);
			_this.node.removeEventListener('pointerup', handleMouseup, false);
			document.removeEventListener('pointermove', handleMousemove, false);
			document.removeEventListener('pointercancel', cancel, false);
			_this.node.removeEventListener('click', handleMouseup, false);
			document.removeEventListener('mousemove', handleMousemove, false);
		};

		if (window.navigator.pointerEnabled) {
			this.node.addEventListener('pointerup', handleMouseup, false);
			document.addEventListener('pointermove', handleMousemove, false);
			document.addEventListener('pointercancel', cancel, false);
		} else if (window.navigator.msPointerEnabled) {
			this.node.addEventListener('MSPointerUp', handleMouseup, false);
			document.addEventListener('MSPointerMove', handleMousemove, false);
			document.addEventListener('MSPointerCancel', cancel, false);
		} else {
			this.node.addEventListener('click', handleMouseup, false);
			document.addEventListener('mousemove', handleMousemove, false);
		}

		setTimeout(cancel, TIME_THRESHOLD);
	},
	touchdown: function touchdown(event) {
		var _this2 = this;

		var touch = event.touches[0];

		var x = touch.clientX;
		var y = touch.clientY;

		var finger = touch.identifier;

		var handleTouchup = function handleTouchup(event) {
			var touch = event.changedTouches[0];

			if (touch.identifier !== finger) {
				cancel();
				return;
			}

			event.preventDefault(); // prevent compatibility mouse event

			// for the benefit of mobile Firefox and old Android browsers, we need this absurd hack.
			_this2.preventMousedownEvents = true;
			clearTimeout(_this2.preventMousedownTimeout);

			_this2.preventMousedownTimeout = setTimeout(function () {
				_this2.preventMousedownEvents = false;
			}, 400);

			_this2.fire(event, x, y);
			cancel();
		};

		var handleTouchmove = function handleTouchmove(event) {
			if (event.touches.length !== 1 || event.touches[0].identifier !== finger) {
				cancel();
			}

			var touch = event.touches[0];
			if (Math.abs(touch.clientX - x) >= DISTANCE_THRESHOLD || Math.abs(touch.clientY - y) >= DISTANCE_THRESHOLD) {
				cancel();
			}
		};

		var cancel = function cancel() {
			_this2.node.removeEventListener('touchend', handleTouchup, false);
			window.removeEventListener('touchmove', handleTouchmove, false);
			window.removeEventListener('touchcancel', cancel, false);
		};

		this.node.addEventListener('touchend', handleTouchup, false);
		window.addEventListener('touchmove', handleTouchmove, false);
		window.addEventListener('touchcancel', cancel, false);

		setTimeout(cancel, TIME_THRESHOLD);
	},
	teardown: function teardown() {
		var node = this.node;

		node.removeEventListener('pointerdown', handleMousedown, false);
		node.removeEventListener('MSPointerDown', handleMousedown, false);
		node.removeEventListener('mousedown', handleMousedown, false);
		node.removeEventListener('touchstart', handleTouchstart, false);
		node.removeEventListener('focus', handleFocus, false);
	}
};

function handleMousedown(event) {
	this.__tap_handler__.mousedown(event);
}

function handleTouchstart(event) {
	this.__tap_handler__.touchdown(event);
}

function handleFocus() {
	this.addEventListener('keydown', handleKeydown, false);
	this.addEventListener('blur', handleBlur, false);
}

function handleBlur() {
	this.removeEventListener('keydown', handleKeydown, false);
	this.removeEventListener('blur', handleBlur, false);
}

function handleKeydown(event) {
	if (event.which === 32) {
		// space key
		this.__tap_handler__.fire();
	}
}

},{}],33:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
var DEFAULTS = {
	delay: 0,
	duration: 300,
	easing: 'linear'
};

function fade(t, params) {
	var targetOpacity;

	params = t.processParams(params, DEFAULTS);

	if (t.isIntro) {
		targetOpacity = t.getStyle('opacity');
		t.setStyle('opacity', 0);
	} else {
		targetOpacity = 0;
	}
	t.animateStyle('opacity', targetOpacity, params).then(t.complete);
}

exports.default = fade;

},{}],34:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function ($element) {
	if ($element instanceof jQuery && $element.length > 0) {
		if (isAnimating === false) {

			if (window.matchMedia('(min-width: ' + _environment.minWidth + 'px)').matches) {
				headerOffset = 70;
			} else {
				headerOffset = 90;
			}

			isAnimating = true;

			$('html, body').animate({
				scrollTop: $element.offset().top - headerOffset
			}, speed, 'swing', function () {
				isAnimating = false;
			});
		}
	}
};

var _environment = require('../utils/environment');

var isAnimating = false;
var headerOffset;
var speed = 300;

},{"../utils/environment":36}],35:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.addToArray = addToArray;
exports.arrayContains = arrayContains;
exports.arrayContentsMatch = arrayContentsMatch;
exports.ensureArray = ensureArray;
exports.lastItem = lastItem;
exports.removeFromArray = removeFromArray;
exports.toArray = toArray;
exports.findByKeyValue = findByKeyValue;

var _is = require('./is');

function addToArray(array, value) {
	var index = array.indexOf(value);

	if (index === -1) {
		array.push(value);
	}
}

function arrayContains(array, value) {
	for (var i = 0, c = array.length; i < c; i++) {
		if (array[i] == value) {
			return true;
		}
	}

	return false;
}

function arrayContentsMatch(a, b) {
	var i;

	if (!(0, _is.isArray)(a) || !(0, _is.isArray)(b)) {
		return false;
	}

	if (a.length !== b.length) {
		return false;
	}

	i = a.length;
	while (i--) {
		if (a[i] !== b[i]) {
			return false;
		}
	}

	return true;
}

function ensureArray(x) {
	if (typeof x === 'string') {
		return [x];
	}

	if (x === undefined) {
		return [];
	}

	return x;
}

function lastItem(array) {
	return array[array.length - 1];
}

function removeFromArray(array, member) {
	if (!array) {
		return;
	}

	var index = array.indexOf(member);

	if (index !== -1) {
		array.splice(index, 1);
	}
}

function toArray(arrayLike) {
	var array = [],
	    i = arrayLike.length;
	while (i--) {
		array[i] = arrayLike[i];
	}

	return array;
}

function findByKeyValue(array, key, value) {
	return array.filter(function (obj) {
		return obj[key] === value;
	});
}

},{"./is":39}],36:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var $document = $(document);
var $window = $(window);
var $html = $(document.documentElement);
var $body = $(document.body);

var minWidth = 1024;

exports.$document = $document;
exports.$window = $window;
exports.$html = $html;
exports.$body = $body;

},{}],37:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function () {
	window.Ractive.DEBUG = false;
	svg4everybody();

	var pagetransitionsManager = new _PageTransitionsManager2.default();
};

var _PageTransitionsManager = require('../modules/PageTransitionsManager');

var _PageTransitionsManager2 = _interopRequireDefault(_PageTransitionsManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../modules/PageTransitionsManager":24}],38:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.escapeHtml = escapeHtml;
exports.unescapeHtml = unescapeHtml;
exports.getNodeData = getNodeData;
/**
 * @see  https://github.com/ractivejs/ractive/blob/dev/src/utils/html.js
 */
function escapeHtml(str) {
    return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
}

/**
 * Prepare HTML content that contains mustache characters for use with Ractive
 * @param  {string} str
 * @return {string}
 */
function unescapeHtml(str) {
    return str.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&amp;/g, '&');
}

/**
 * Get element data attributes
 * @param   {DOMElement}  node
 * @return  {Array}       data
 */
function getNodeData(node) {
    // All attributes
    var attributes = node.attributes;

    // Regex Pattern
    var pattern = /^data\-(.+)$/;

    // Output
    var data = {};

    for (var i in attributes) {
        if (!attributes[i]) {
            continue;
        }

        // Attributes name (ex: data-module)
        var name = attributes[i].name;

        // This happens.
        if (!name) {
            continue;
        }

        var match = name.match(pattern);
        if (!match) {
            continue;
        }

        // If this throws an error, you have some
        // serious problems in your HTML.
        data[match[1]] = node.getAttribute(name);
    }

    return data;
}

},{}],39:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports.isArray = isArray;
exports.isArrayLike = isArrayLike;
exports.isEqual = isEqual;
exports.isNumeric = isNumeric;
exports.isObject = isObject;
exports.isFunction = isFunction;
var toString = Object.prototype.toString,
    arrayLikePattern = /^\[object (?:Array|FileList)\]$/;

// thanks, http://perfectionkills.com/instanceof-considered-harmful-or-how-to-write-a-robust-isarray/
function isArray(thing) {
	return toString.call(thing) === '[object Array]';
}

function isArrayLike(obj) {
	return arrayLikePattern.test(toString.call(obj));
}

function isEqual(a, b) {
	if (a === null && b === null) {
		return true;
	}

	if ((typeof a === 'undefined' ? 'undefined' : _typeof(a)) === 'object' || (typeof b === 'undefined' ? 'undefined' : _typeof(b)) === 'object') {
		return false;
	}

	return a === b;
}

// http://stackoverflow.com/questions/18082/validate-numbers-in-javascript-isnumeric
function isNumeric(thing) {
	return !isNaN(parseFloat(thing)) && isFinite(thing);
}

function isObject(thing) {
	return thing && toString.call(thing) === '[object Object]';
}

function isFunction(thing) {
	var getType = {};
	return thing && getType.toString.call(thing) === '[object Function]';
}

},{}],40:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.visibilityApi = undefined;

var _is = require('./is');

var _array = require('./array');

var _environment = require('./environment');

var CALLBACKS = {
	hidden: [],
	visible: []
}; /* jshint esnext: true */


var ACTIONS = ['addCallback', 'removeCallback'];

var STATES = ['visible', 'hidden'];

var PREFIX = 'v-';

var UUID = 0;

// Main event
_environment.$document.on('visibilitychange', function (event) {
	if (document.hidden) {
		onDocumentChange('hidden');
	} else {
		onDocumentChange('visible');
	}
});

/**
 * Add a callback
 * @param {string}   state
 * @param {function} callback
 * @return {string}  ident
 */
function addCallback(state, options) {
	var callback = options.callback || '';

	if (!(0, _is.isFunction)(callback)) {
		console.warn('Callback is not a function');
		return false;
	}

	var ident = PREFIX + UUID++;

	CALLBACKS[state].push({
		ident: ident,
		callback: callback
	});

	return ident;
}

/**
 * Remove a callback
 * @param  {string}   state  Visible or hidden
 * @param  {string}   ident  Unique identifier
 * @return {boolean}         If operation was a success
 */
function removeCallback(state, options) {
	var ident = options.ident || '';

	if (typeof ident === 'undefined' || ident === '') {
		console.warn('Need ident to remove callback');
		return false;
	}

	var index = (0, _array.findByKeyValue)(CALLBACKS[state], 'ident', ident)[0];

	// console.log(ident)
	// console.log(CALLBACKS[state])

	if (typeof index !== 'undefined') {
		(0, _array.removeFromArray)(CALLBACKS[state], index);
		return true;
	} else {
		console.warn('Callback could not be found');
		return false;
	}
}

/**
 * When document state changes, trigger callbacks
 * @param  {string}  state  Visible or hidden
 */
function onDocumentChange(state) {
	var callbackArray = CALLBACKS[state];
	var i = 0;
	var len = callbackArray.length;

	for (; i < len; i++) {
		callbackArray[i].callback();
	}
}

/**
 * Public facing API for adding and removing callbacks
 * @param   {object}           options  Options
 * @return  {boolean|integer}           Unique identifier for the callback or boolean indicating success or failure
 */
function visibilityApi(options) {
	var action = options.action || '';
	var state = options.state || '';
	var ret = void 0;

	// Type and value checking
	if (!(0, _array.arrayContains)(ACTIONS, action)) {
		console.warn('Action does not exist');
		return false;
	}
	if (!(0, _array.arrayContains)(STATES, state)) {
		console.warn('State does not exist');
		return false;
	}

	// @todo Magic call function pls
	if (action === 'addCallback') {
		ret = addCallback(state, options);
	} else if (action === 'removeCallback') {
		ret = removeCallback(state, options);
	}

	return ret;
}

exports.visibilityApi = visibilityApi;

},{"./array":35,"./environment":36,"./is":39}],41:[function(require,module,exports){
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("Barba", [], factory);
	else if(typeof exports === 'object')
		exports["Barba"] = factory();
	else
		root["Barba"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "http://localhost:8080/dist";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	//Promise polyfill https://github.com/taylorhakes/promise-polyfill
	
	if (typeof Promise !== 'function') {
	 window.Promise = __webpack_require__(1);
	}
	
	var Barba = {
	  version: '1.0.0',
	  BaseTransition: __webpack_require__(4),
	  BaseView: __webpack_require__(6),
	  BaseCache: __webpack_require__(8),
	  Dispatcher: __webpack_require__(7),
	  HistoryManager: __webpack_require__(9),
	  Pjax: __webpack_require__(10),
	  Prefetch: __webpack_require__(13),
	  Utils: __webpack_require__(5)
	};
	
	module.exports = Barba;


/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(setImmediate) {(function (root) {
	
	  // Store setTimeout reference so promise-polyfill will be unaffected by
	  // other code modifying setTimeout (like sinon.useFakeTimers())
	  var setTimeoutFunc = setTimeout;
	
	  function noop() {
	  }
	
	  // Use polyfill for setImmediate for performance gains
	  var asap = (typeof setImmediate === 'function' && setImmediate) ||
	    function (fn) {
	      setTimeoutFunc(fn, 0);
	    };
	
	  var onUnhandledRejection = function onUnhandledRejection(err) {
	    if (typeof console !== 'undefined' && console) {
	      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console
	    }
	  };
	
	  // Polyfill for Function.prototype.bind
	  function bind(fn, thisArg) {
	    return function () {
	      fn.apply(thisArg, arguments);
	    };
	  }
	
	  function Promise(fn) {
	    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');
	    if (typeof fn !== 'function') throw new TypeError('not a function');
	    this._state = 0;
	    this._handled = false;
	    this._value = undefined;
	    this._deferreds = [];
	
	    doResolve(fn, this);
	  }
	
	  function handle(self, deferred) {
	    while (self._state === 3) {
	      self = self._value;
	    }
	    if (self._state === 0) {
	      self._deferreds.push(deferred);
	      return;
	    }
	    self._handled = true;
	    asap(function () {
	      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;
	      if (cb === null) {
	        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);
	        return;
	      }
	      var ret;
	      try {
	        ret = cb(self._value);
	      } catch (e) {
	        reject(deferred.promise, e);
	        return;
	      }
	      resolve(deferred.promise, ret);
	    });
	  }
	
	  function resolve(self, newValue) {
	    try {
	      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
	      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');
	      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {
	        var then = newValue.then;
	        if (newValue instanceof Promise) {
	          self._state = 3;
	          self._value = newValue;
	          finale(self);
	          return;
	        } else if (typeof then === 'function') {
	          doResolve(bind(then, newValue), self);
	          return;
	        }
	      }
	      self._state = 1;
	      self._value = newValue;
	      finale(self);
	    } catch (e) {
	      reject(self, e);
	    }
	  }
	
	  function reject(self, newValue) {
	    self._state = 2;
	    self._value = newValue;
	    finale(self);
	  }
	
	  function finale(self) {
	    if (self._state === 2 && self._deferreds.length === 0) {
	      asap(function() {
	        if (!self._handled) {
	          onUnhandledRejection(self._value);
	        }
	      });
	    }
	
	    for (var i = 0, len = self._deferreds.length; i < len; i++) {
	      handle(self, self._deferreds[i]);
	    }
	    self._deferreds = null;
	  }
	
	  function Handler(onFulfilled, onRejected, promise) {
	    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
	    this.onRejected = typeof onRejected === 'function' ? onRejected : null;
	    this.promise = promise;
	  }
	
	  /**
	   * Take a potentially misbehaving resolver function and make sure
	   * onFulfilled and onRejected are only called once.
	   *
	   * Makes no guarantees about asynchrony.
	   */
	  function doResolve(fn, self) {
	    var done = false;
	    try {
	      fn(function (value) {
	        if (done) return;
	        done = true;
	        resolve(self, value);
	      }, function (reason) {
	        if (done) return;
	        done = true;
	        reject(self, reason);
	      });
	    } catch (ex) {
	      if (done) return;
	      done = true;
	      reject(self, ex);
	    }
	  }
	
	  Promise.prototype['catch'] = function (onRejected) {
	    return this.then(null, onRejected);
	  };
	
	  Promise.prototype.then = function (onFulfilled, onRejected) {
	    var prom = new (this.constructor)(noop);
	
	    handle(this, new Handler(onFulfilled, onRejected, prom));
	    return prom;
	  };
	
	  Promise.all = function (arr) {
	    var args = Array.prototype.slice.call(arr);
	
	    return new Promise(function (resolve, reject) {
	      if (args.length === 0) return resolve([]);
	      var remaining = args.length;
	
	      function res(i, val) {
	        try {
	          if (val && (typeof val === 'object' || typeof val === 'function')) {
	            var then = val.then;
	            if (typeof then === 'function') {
	              then.call(val, function (val) {
	                res(i, val);
	              }, reject);
	              return;
	            }
	          }
	          args[i] = val;
	          if (--remaining === 0) {
	            resolve(args);
	          }
	        } catch (ex) {
	          reject(ex);
	        }
	      }
	
	      for (var i = 0; i < args.length; i++) {
	        res(i, args[i]);
	      }
	    });
	  };
	
	  Promise.resolve = function (value) {
	    if (value && typeof value === 'object' && value.constructor === Promise) {
	      return value;
	    }
	
	    return new Promise(function (resolve) {
	      resolve(value);
	    });
	  };
	
	  Promise.reject = function (value) {
	    return new Promise(function (resolve, reject) {
	      reject(value);
	    });
	  };
	
	  Promise.race = function (values) {
	    return new Promise(function (resolve, reject) {
	      for (var i = 0, len = values.length; i < len; i++) {
	        values[i].then(resolve, reject);
	      }
	    });
	  };
	
	  /**
	   * Set the immediate function to execute callbacks
	   * @param fn {function} Function to execute
	   * @private
	   */
	  Promise._setImmediateFn = function _setImmediateFn(fn) {
	    asap = fn;
	  };
	
	  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {
	    onUnhandledRejection = fn;
	  };
	
	  if (typeof module !== 'undefined' && module.exports) {
	    module.exports = Promise;
	  } else if (!root.Promise) {
	    root.Promise = Promise;
	  }
	
	})(this);
	
	/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2).setImmediate))

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(setImmediate, clearImmediate) {var nextTick = __webpack_require__(3).nextTick;
	var apply = Function.prototype.apply;
	var slice = Array.prototype.slice;
	var immediateIds = {};
	var nextImmediateId = 0;
	
	// DOM APIs, for completeness
	
	exports.setTimeout = function() {
	  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);
	};
	exports.setInterval = function() {
	  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);
	};
	exports.clearTimeout =
	exports.clearInterval = function(timeout) { timeout.close(); };
	
	function Timeout(id, clearFn) {
	  this._id = id;
	  this._clearFn = clearFn;
	}
	Timeout.prototype.unref = Timeout.prototype.ref = function() {};
	Timeout.prototype.close = function() {
	  this._clearFn.call(window, this._id);
	};
	
	// Does not start the time, just sets up the members needed.
	exports.enroll = function(item, msecs) {
	  clearTimeout(item._idleTimeoutId);
	  item._idleTimeout = msecs;
	};
	
	exports.unenroll = function(item) {
	  clearTimeout(item._idleTimeoutId);
	  item._idleTimeout = -1;
	};
	
	exports._unrefActive = exports.active = function(item) {
	  clearTimeout(item._idleTimeoutId);
	
	  var msecs = item._idleTimeout;
	  if (msecs >= 0) {
	    item._idleTimeoutId = setTimeout(function onTimeout() {
	      if (item._onTimeout)
	        item._onTimeout();
	    }, msecs);
	  }
	};
	
	// That's not how node.js implements it but the exposed api is the same.
	exports.setImmediate = typeof setImmediate === "function" ? setImmediate : function(fn) {
	  var id = nextImmediateId++;
	  var args = arguments.length < 2 ? false : slice.call(arguments, 1);
	
	  immediateIds[id] = true;
	
	  nextTick(function onNextTick() {
	    if (immediateIds[id]) {
	      // fn.call() is faster so we optimize for the common use-case
	      // @see http://jsperf.com/call-apply-segu
	      if (args) {
	        fn.apply(null, args);
	      } else {
	        fn.call(null);
	      }
	      // Prevent ids from leaking
	      exports.clearImmediate(id);
	    }
	  });
	
	  return id;
	};
	
	exports.clearImmediate = typeof clearImmediate === "function" ? clearImmediate : function(id) {
	  delete immediateIds[id];
	};
	/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2).setImmediate, __webpack_require__(2).clearImmediate))

/***/ },
/* 3 */
/***/ function(module, exports) {

	// shim for using process in browser
	
	var process = module.exports = {};
	
	// cached from whatever global is present so that test runners that stub it
	// don't break things.  But we need to wrap it in a try catch in case it is
	// wrapped in strict mode code which doesn't define any globals.  It's inside a
	// function because try/catches deoptimize in certain engines.
	
	var cachedSetTimeout;
	var cachedClearTimeout;
	
	(function () {
	  try {
	    cachedSetTimeout = setTimeout;
	  } catch (e) {
	    cachedSetTimeout = function () {
	      throw new Error('setTimeout is not defined');
	    }
	  }
	  try {
	    cachedClearTimeout = clearTimeout;
	  } catch (e) {
	    cachedClearTimeout = function () {
	      throw new Error('clearTimeout is not defined');
	    }
	  }
	} ())
	var queue = [];
	var draining = false;
	var currentQueue;
	var queueIndex = -1;
	
	function cleanUpNextTick() {
	    if (!draining || !currentQueue) {
	        return;
	    }
	    draining = false;
	    if (currentQueue.length) {
	        queue = currentQueue.concat(queue);
	    } else {
	        queueIndex = -1;
	    }
	    if (queue.length) {
	        drainQueue();
	    }
	}
	
	function drainQueue() {
	    if (draining) {
	        return;
	    }
	    var timeout = cachedSetTimeout(cleanUpNextTick);
	    draining = true;
	
	    var len = queue.length;
	    while(len) {
	        currentQueue = queue;
	        queue = [];
	        while (++queueIndex < len) {
	            if (currentQueue) {
	                currentQueue[queueIndex].run();
	            }
	        }
	        queueIndex = -1;
	        len = queue.length;
	    }
	    currentQueue = null;
	    draining = false;
	    cachedClearTimeout(timeout);
	}
	
	process.nextTick = function (fun) {
	    var args = new Array(arguments.length - 1);
	    if (arguments.length > 1) {
	        for (var i = 1; i < arguments.length; i++) {
	            args[i - 1] = arguments[i];
	        }
	    }
	    queue.push(new Item(fun, args));
	    if (queue.length === 1 && !draining) {
	        cachedSetTimeout(drainQueue, 0);
	    }
	};
	
	// v8 likes predictible objects
	function Item(fun, array) {
	    this.fun = fun;
	    this.array = array;
	}
	Item.prototype.run = function () {
	    this.fun.apply(null, this.array);
	};
	process.title = 'browser';
	process.browser = true;
	process.env = {};
	process.argv = [];
	process.version = ''; // empty string to avoid regexp issues
	process.versions = {};
	
	function noop() {}
	
	process.on = noop;
	process.addListener = noop;
	process.once = noop;
	process.off = noop;
	process.removeListener = noop;
	process.removeAllListeners = noop;
	process.emit = noop;
	
	process.binding = function (name) {
	    throw new Error('process.binding is not supported');
	};
	
	process.cwd = function () { return '/' };
	process.chdir = function (dir) {
	    throw new Error('process.chdir is not supported');
	};
	process.umask = function() { return 0; };


/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	var Utils = __webpack_require__(5);
	
	/**
	 * BaseTransition to extend
	 *
	 * @namespace Barba.BaseTransition
	 * @type {Object}
	 */
	var BaseTransition = {
	  /**
	   * @memberOf Barba.BaseTransition
	   * @type {HTMLElement}
	   */
	  oldContainer: undefined,
	
	  /**
	   * @memberOf Barba.BaseTransition
	   * @type {HTMLElement}
	   */
	  newContainer: undefined,
	
	  /**
	   * @memberOf Barba.BaseTransition
	   * @type {Promise}
	   */
	  newContainerLoading: undefined,
	
	  /**
	   * Helper to extend the object
	   *
	   * @memberOf Barba.BaseTransition
	   * @param  {Object} newObject
	   * @return {Object} newInheritObject
	   */
	  extend: function(obj){
	    return Utils.extend(this, obj);
	  },
	
	  /**
	   * This function is called from Pjax module to initialize
	   * the transition.
	   *
	   * @memberOf Barba.BaseTransition
	   * @private
	   * @param  {HTMLElement} oldContainer
	   * @param  {Promise} newContainer
	   * @return {Promise}
	   */
	  init: function(oldContainer, newContainer) {
	    var _this = this;
	
	    this.oldContainer = oldContainer;
	    this._newContainerPromise = newContainer;
	
	    this.deferred = Utils.deferred();
	    this.newContainerReady = Utils.deferred();
	    this.newContainerLoading = this.newContainerReady.promise;
	
	    this.start();
	
	    this._newContainerPromise.then(function(newContainer) {
	      _this.newContainer = newContainer;
	      _this.newContainerReady.resolve();
	    });
	
	    return this.deferred.promise;
	  },
	
	  /**
	   * This function needs to be called as soon the Transition is finished
	   *
	   * @memberOf Barba.BaseTransition
	   */
	  done: function() {
	    this.oldContainer.parentNode.removeChild(this.oldContainer);
	    this.newContainer.style.visibility = 'visible';
	    this.deferred.resolve();
	  },
	
	  /**
	   * Constructor for your Transition
	   *
	   * @memberOf Barba.BaseTransition
	   * @abstract
	   */
	  start: function() {},
	};
	
	module.exports = BaseTransition;


/***/ },
/* 5 */
/***/ function(module, exports) {

	/**
	 * Just an object with some helpful functions
	 *
	 * @type {Object}
	 * @namespace Barba.Utils
	 */
	var Utils = {
	  /**
	   * Return the current url
	   *
	   * @memberOf Barba.Utils
	   * @return {String} currentUrl
	   */
	  getCurrentUrl: function() {
	    return window.location.protocol + '//' +
	           window.location.host +
	           window.location.pathname +
	           window.location.search;
	  },
	
	  /**
	   * Given an url, return it without the hash
	   *
	   * @memberOf Barba.Utils
	   * @private
	   * @param  {String} url
	   * @return {String} newCleanUrl
	   */
	  cleanLink: function(url) {
	    return url.replace(/#.*/, '');
	  },
	
	  /**
	   * Time in millisecond after the xhr request goes in timeout
	   *
	   * @memberOf Barba.Utils
	   * @type {Number}
	   * @default
	   */
	  xhrTimeout: 5000,
	
	  /**
	   * Start an XMLHttpRequest() and return a Promise
	   *
	   * @memberOf Barba.Utils
	   * @param  {String} url
	   * @return {Promise}
	   */
	  xhr: function(url) {
	    var deferred = this.deferred();
	    var req = new XMLHttpRequest();
	
	    req.onreadystatechange = function() {
	      if (req.readyState === 4) {
	        if (req.status === 200) {
	          return deferred.resolve(req.responseText);
	        } else {
	          return deferred.reject(new Error('xhr: HTTP code is not 200'));
	        }
	      }
	    };
	
	    req.ontimeout = function() {
	      return deferred.reject(new Error('xhr: Timeout exceeded'));
	    };
	
	    req.open('GET', url);
	    req.timeout = this.xhrTimeout;
	    req.setRequestHeader('x-barba', 'yes');
	    req.send();
	
	    return deferred.promise;
	  },
	
	  /**
	   * Get obj and props and return a new object with the property merged
	   *
	   * @memberOf Barba.Utils
	   * @param  {object} obj
	   * @param  {object} props
	   * @return {object}
	   */
	  extend: function(obj, props) {
	    var newObj = Object.create(obj);
	
	    for(var prop in props) {
	      if(props.hasOwnProperty(prop)) {
	        newObj[prop] = props[prop];
	      }
	    }
	
	    return newObj;
	  },
	
	  /**
	   * Return a new "Deferred" object
	   * https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Promise.jsm/Deferred
	   *
	   * @memberOf Barba.Utils
	   * @return {Deferred}
	   */
	  deferred: function() {
	    return new function() {
	      this.resolve = null;
	      this.reject = null;
	
	      this.promise = new Promise(function(resolve, reject) {
	        this.resolve = resolve;
	        this.reject = reject;
	      }.bind(this));
	    };
	  },
	
	  /**
	   * Return the port number normalized, eventually you can pass a string to be normalized.
	   *
	   * @memberOf Barba.Utils
	   * @private
	   * @param  {String} p
	   * @return {Int} port
	   */
	  getPort: function(p) {
	    var port = typeof p !== 'undefined' ? p : window.location.port;
	    var protocol = window.location.protocol;
	
	    if (port != '')
	      return parseInt(port);
	
	    if (protocol === 'http:')
	      return 80;
	
	    if (protocol === 'https:')
	      return 443;
	  }
	};
	
	module.exports = Utils;


/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

	var Dispatcher = __webpack_require__(7);
	var Utils = __webpack_require__(5);
	
	/**
	 * BaseView to be extended
	 *
	 * @namespace Barba.BaseView
	 * @type {Object}
	 */
	var BaseView  = {
	  /**
	   * Namespace of the view.
	   * (need to be associated with the data-namespace of the container)
	   *
	   * @memberOf Barba.BaseView
	   * @type {String}
	   */
	  namespace: null,
	
	  /**
	   * Helper to extend the object
	   *
	   * @memberOf Barba.BaseView
	   * @param  {Object} newObject
	   * @return {Object} newInheritObject
	   */
	  extend: function(obj){
	    return Utils.extend(this, obj);
	  },
	
	  /**
	   * Init the view.
	   * P.S. Is suggested to init the view before starting Barba.Pjax.start(),
	   * in this way .onEnter() and .onEnterCompleted() will be fired for the current
	   * container when the page is loaded.
	   *
	   * @memberOf Barba.BaseView
	   */
	  init: function() {
	    var _this = this;
	
	    Dispatcher.on('initStateChange',
	      function(newStatus, oldStatus) {
	        if (oldStatus && oldStatus.namespace === _this.namespace)
	          _this.onLeave();
	      }
	    );
	
	    Dispatcher.on('newPageReady',
	      function(newStatus, oldStatus, container) {
	        _this.container = container;
	
	        if (newStatus.namespace === _this.namespace)
	          _this.onEnter();
	      }
	    );
	
	    Dispatcher.on('transitionCompleted',
	      function(newStatus, oldStatus) {
	        if (newStatus.namespace === _this.namespace)
	          _this.onEnterCompleted();
	
	        if (oldStatus && oldStatus.namespace === _this.namespace)
	          _this.onLeaveCompleted();
	      }
	    );
	  },
	
	 /**
	  * This function will be fired when the container
	  * is ready and attached to the DOM.
	  *
	  * @memberOf Barba.BaseView
	  * @abstract
	  */
	  onEnter: function() {},
	
	  /**
	   * This function will be fired when the transition
	   * to this container has just finished.
	   *
	   * @memberOf Barba.BaseView
	   * @abstract
	   */
	  onEnterCompleted: function() {},
	
	  /**
	   * This function will be fired when the transition
	   * to a new container has just started.
	   *
	   * @memberOf Barba.BaseView
	   * @abstract
	   */
	  onLeave: function() {},
	
	  /**
	   * This function will be fired when the container
	   * has just been removed from the DOM.
	   *
	   * @memberOf Barba.BaseView
	   * @abstract
	   */
	  onLeaveCompleted: function() {}
	}
	
	module.exports = BaseView;


/***/ },
/* 7 */
/***/ function(module, exports) {

	/**
	 * Little Dispatcher inspired by MicroEvent.js
	 *
	 * @namespace Barba.Dispatcher
	 * @type {Object}
	 */
	var Dispatcher = {
	  /**
	   * Object that keeps all the events
	   *
	   * @memberOf Barba.Dispatcher
	   * @readOnly
	   * @type {Object}
	   */
	  events: {},
	
	  /**
	   * Bind a callback to an event
	   *
	   * @memberOf Barba.Dispatcher
	   * @param  {String} eventName
	   * @param  {Function} function
	   */
	  on: function(e, f) {
	    this.events[e] = this.events[e] || [];
	    this.events[e].push(f);
	  },
	
	  /**
	   * Unbind event
	   *
	   * @memberOf Barba.Dispatcher
	   * @param  {String} eventName
	   * @param  {Function} function
	   */
	  off: function(e, f) {
	    if(e in this.events === false)
	      return;
	
	    this.events[e].splice(this.events[e].indexOf(f), 1);
	  },
	
	  /**
	   * Fire the event running all the event associated to it
	   *
	   * @memberOf Barba.Dispatcher
	   * @param  {String} eventName
	   * @param  {...*} args
	   */
	  trigger: function(e) {//e, ...args
	    if (e in this.events === false)
	      return;
	
	    for(var i = 0; i < this.events[e].length; i++){
	      this.events[e][i].apply(this, Array.prototype.slice.call(arguments, 1));
	    }
	  }
	};
	
	module.exports = Dispatcher;


/***/ },
/* 8 */
/***/ function(module, exports, __webpack_require__) {

	var Utils = __webpack_require__(5);
	
	/**
	 * BaseCache it's a simple static cache
	 *
	 * @namespace Barba.BaseCache
	 * @type {Object}
	 */
	var BaseCache = {
	  /**
	   * The Object that keeps all the key value information
	   *
	   * @memberOf Barba.BaseCache
	   * @type {Object}
	   */
	  data: {},
	
	  /**
	   * Helper to extend this object
	   *
	   * @memberOf Barba.BaseCache
	   * @private
	   * @param  {Object} newObject
	   * @return {Object} newInheritObject
	   */
	  extend: function(obj) {
	    return Utils.extend(this, obj);
	  },
	
	  /**
	   * Set a key and value data, mainly Barba is going to save promises
	   *
	   * @memberOf Barba.BaseCache
	   * @param {String} key
	   * @param {*} value
	   */
	  set: function(key, val) {
	    this.data[key] = val;
	  },
	
	  /**
	   * Retrieve the data using the key
	   *
	   * @memberOf Barba.BaseCache
	   * @param  {String} key
	   * @return {*}
	   */
	  get: function(key) {
	    return this.data[key];
	  },
	
	  /**
	   * Flush the cache
	   *
	   * @memberOf Barba.BaseCache
	   */
	  reset: function() {
	    this.data = {};
	  }
	};
	
	module.exports = BaseCache;


/***/ },
/* 9 */
/***/ function(module, exports) {

	/**
	 * HistoryManager helps to keep track of the navigation
	 *
	 * @namespace Barba.HistoryManager
	 * @type {Object}
	 */
	var HistoryManager = {
	  /**
	   * Keep track of the status in historic order
	   *
	   * @memberOf Barba.HistoryManager
	   * @readOnly
	   * @type {Array}
	   */
	  history: [],
	
	  /**
	   * Add a new set of url and namespace
	   *
	   * @memberOf Barba.HistoryManager
	   * @param {String} url
	   * @param {String} namespace
	   * @private
	   */
	  add: function(url, namespace) {
	    if (!namespace)
	      namespace = undefined;
	
	    this.history.push({
	      url: url,
	      namespace: namespace
	    });
	  },
	
	  /**
	   * Return information about the current status
	   *
	   * @memberOf Barba.HistoryManager
	   * @return {Object}
	   */
	  currentStatus: function() {
	    return this.history[this.history.length - 1];
	  },
	
	  /**
	   * Return information about the previous status
	   *
	   * @memberOf Barba.HistoryManager
	   * @return {Object}
	   */
	  prevStatus: function() {
	    var history = this.history;
	
	    if (history.length < 2)
	      return null;
	
	    return history[history.length - 2];
	  }
	};
	
	module.exports = HistoryManager;


/***/ },
/* 10 */
/***/ function(module, exports, __webpack_require__) {

	var Utils = __webpack_require__(5);
	var Dispatcher = __webpack_require__(7);
	var HideShowTransition = __webpack_require__(11);
	var BaseCache = __webpack_require__(8);
	
	var HistoryManager = __webpack_require__(9);
	var Dom = __webpack_require__(12);
	
	/**
	 * Pjax is a static object with main function
	 *
	 * @namespace Barba.Pjax
	 * @borrows Dom as Dom
	 * @type {Object}
	 */
	var Pjax = {
	  Dom: Dom,
	  History: HistoryManager,
	  Cache: BaseCache,
	
	  /**
	   * Indicate wether or not use the cache
	   *
	   * @memberOf Barba.Pjax
	   * @type {Boolean}
	   * @default
	   */
	  cacheEnabled: true,
	
	  /**
	   * Indicate if there is an animation in progress
	   *
	   * @memberOf Barba.Pjax
	   * @readOnly
	   * @type {Boolean}
	   */
	  transitionProgress: false,
	
	  /**
	   * Class name used to ignore links
	   *
	   * @memberOf Barba.Pjax
	   * @type {String}
	   * @default
	   */
	  ignoreClassLink: 'no-barba',
	
	  /**
	   * Function to be called to start Pjax
	   *
	   * @memberOf Barba.Pjax
	   */
	  start: function() {
	    this.init();
	  },
	
	  /**
	   * Init the events
	   *
	   * @memberOf Barba.Pjax
	   * @private
	   */
	  init: function() {
	    var container = this.Dom.getContainer();
	    var wrapper = this.Dom.getWrapper();
	
	    wrapper.setAttribute('aria-live', 'polite');
	
	    this.History.add(
	      this.getCurrentUrl(),
	      this.Dom.getNamespace(container)
	    );
	
	    //Fire for the current view.
	    Dispatcher.trigger('initStateChange', this.History.currentStatus());
	    Dispatcher.trigger('newPageReady',
	      this.History.currentStatus(),
	      {},
	      container,
	      this.Dom.currentHTML
	    );
	    Dispatcher.trigger('transitionCompleted', this.History.currentStatus());
	
	    this.bindEvents();
	  },
	
	  /**
	   * Attach the eventlisteners
	   *
	   * @memberOf Barba.Pjax
	   * @private
	   */
	  bindEvents: function() {
	    document.addEventListener('click',
	      this.onLinkClick.bind(this)
	    );
	
	    window.addEventListener('popstate',
	      this.onStateChange.bind(this)
	    );
	  },
	
	  /**
	   * Return the currentURL cleaned
	   *
	   * @memberOf Barba.Pjax
	   * @return {String} currentUrl
	   */
	  getCurrentUrl: function() {
	    return Utils.cleanLink(
	      Utils.getCurrentUrl()
	    );
	  },
	
	  /**
	   * Change the URL with pushstate and trigger the state change
	   *
	   * @memberOf Barba.Pjax
	   * @param {String} newUrl
	   */
	  goTo: function(url) {
	    window.history.pushState(null, null, url);
	    this.onStateChange();
	  },
	
	  /**
	   * Force the browser to go to a certain url
	   *
	   * @memberOf Barba.Pjax
	   * @param {String} url
	   * @private
	   */
	  forceGoTo: function(url) {
	    window.location = url;
	  },
	
	  /**
	   * Load an url, will start an xhr request or load from the cache
	   *
	   * @memberOf Barba.Pjax
	   * @private
	   * @param  {String} url
	   * @return {Promise}
	   */
	  load: function(url) {
	    var deferred = Utils.deferred();
	    var _this = this;
	    var xhr;
	
	    xhr = this.Cache.get(url);
	
	    if (!xhr) {
	      xhr = Utils.xhr(url);
	      this.Cache.set(url, xhr);
	    }
	
	    xhr.then(
	      function(data) {
	        var container = _this.Dom.parseResponse(data);
	
	        _this.Dom.putContainer(container);
	
	        if (!_this.cacheEnabled)
	          _this.Cache.reset();
	
	        deferred.resolve(container);
	      },
	      function() {
	        //Something went wrong (timeout, 404, 505...)
	        _this.forceGoTo(url);
	
	        deferred.reject();
	      }
	    );
	
	    return deferred.promise;
	  },
	
	  /**
	   * Get the .href parameter out of an element
	   * and handle special cases (like xlink:href)
	   *
	   * @private
	   * @memberOf Barba.Pjax
	   * @param  {HTMLElement} el
	   * @return {String} href
	   */
	  getHref: function(el) {
	    if (!el) {
	      return undefined;
	    }
	
	    if (el.getAttribute && typeof el.getAttribute('xlink:href') === 'string') {
	      return el.getAttribute('xlink:href');
	    }
	
	    if (typeof el.href === 'string') {
	      return el.href;
	    }
	
	    return undefined;
	  },
	
	  /**
	   * Callback called from click event
	   *
	   * @memberOf Barba.Pjax
	   * @private
	   * @param {MouseEvent} evt
	   */
	  onLinkClick: function(evt) {
	    var el = evt.target;
	
	    //Go up in the nodelist until we
	    //find something with an href
	    while (el && !this.getHref(el)) {
	      el = el.parentNode;
	    }
	
	    if (this.preventCheck(evt, el)) {
	      evt.stopPropagation();
	      evt.preventDefault();
	
	      Dispatcher.trigger('linkClicked', el, evt);
	
	      var href = this.getHref(el);
	      this.goTo(href);
	    }
	  },
	
	  /**
	   * Determine if the link should be followed
	   *
	   * @memberOf Barba.Pjax
	   * @param  {MouseEvent} evt
	   * @param  {HTMLElement} element
	   * @return {Boolean}
	   */
	  preventCheck: function(evt, element) {
	    if (!window.history.pushState)
	      return false;
	
	    var href = this.getHref(element);
	
	    //User
	    if (!element || !href)
	      return false;
	
	    //Middle click, cmd click, and ctrl click
	    if (evt.which > 1 || evt.metaKey || evt.ctrlKey || evt.shiftKey || evt.altKey)
	      return false;
	
	    //Ignore target with _blank target
	    if (element.target && element.target === '_blank')
	      return false;
	
	    //Check if it's the same domain
	    if (window.location.protocol !== element.protocol || window.location.hostname !== element.hostname)
	      return false;
	
	    //Check if the port is the same
	    if (Utils.getPort() !== Utils.getPort(element.port))
	      return false;
	
	    //Ignore case when a hash is being tacked on the current URL
	    if (href.indexOf('#') > -1)
	      return false;
	
	    //Ignore case where there is download attribute
	    if (element.getAttribute && typeof element.getAttribute('download') === 'string')
	      return false;
	
	    //In case you're trying to load the same page
	    if (Utils.cleanLink(href) == Utils.cleanLink(location.href))
	      return false;
	
	    if (element.classList.contains(this.ignoreClassLink))
	      return false;
	
	    return true;
	  },
	
	  /**
	   * Return a transition object
	   *
	   * @memberOf Barba.Pjax
	   * @return {Barba.Transition} Transition object
	   */
	  getTransition: function() {
	    //User customizable
	    return HideShowTransition;
	  },
	
	  /**
	   * Method called after a 'popstate' or from .goTo()
	   *
	   * @memberOf Barba.Pjax
	   * @private
	   */
	  onStateChange: function() {
	    var newUrl = this.getCurrentUrl();
	
	    if (this.transitionProgress)
	      this.forceGoTo(newUrl);
	
	    if (this.History.currentStatus().url === newUrl)
	      return false;
	
	    this.History.add(newUrl);
	
	    var newContainer = this.load(newUrl);
	    var transition = Object.create(this.getTransition());
	
	    this.transitionProgress = true;
	
	    Dispatcher.trigger('initStateChange',
	      this.History.currentStatus(),
	      this.History.prevStatus()
	    );
	
	    var transitionInstance = transition.init(
	      this.Dom.getContainer(),
	      newContainer
	    );
	
	    newContainer.then(
	      this.onNewContainerLoaded.bind(this)
	    );
	
	    transitionInstance.then(
	      this.onTransitionEnd.bind(this)
	    );
	  },
	
	  /**
	   * Function called as soon the new container is ready
	   *
	   * @memberOf Barba.Pjax
	   * @private
	   * @param {HTMLElement} container
	   */
	  onNewContainerLoaded: function(container) {
	    var currentStatus = this.History.currentStatus();
	    currentStatus.namespace = this.Dom.getNamespace(container);
	
	    Dispatcher.trigger('newPageReady',
	      this.History.currentStatus(),
	      this.History.prevStatus(),
	      container,
	      this.Dom.currentHTML
	    );
	  },
	
	  /**
	   * Function called as soon the transition is finished
	   *
	   * @memberOf Barba.Pjax
	   * @private
	   */
	  onTransitionEnd: function() {
	    this.transitionProgress = false;
	
	    Dispatcher.trigger('transitionCompleted',
	      this.History.currentStatus(),
	      this.History.prevStatus()
	    );
	  }
	};
	
	module.exports = Pjax;


/***/ },
/* 11 */
/***/ function(module, exports, __webpack_require__) {

	var BaseTransition = __webpack_require__(4);
	
	/**
	 * Basic Transition object, wait for the new Container to be ready,
	 * scroll top, and finish the transition (removing the old container and displaying the new one)
	 *
	 * @private
	 * @namespace Barba.HideShowTransition
	 * @augments Barba.BaseTransition
	 */
	var HideShowTransition = BaseTransition.extend({
	  start: function() {
	    this.newContainerLoading.then(this.finish.bind(this));
	  },
	
	  finish: function() {
	    document.body.scrollTop = 0;
	    this.done();
	  }
	});
	
	module.exports = HideShowTransition;


/***/ },
/* 12 */
/***/ function(module, exports) {

	/**
	 * Object that is going to deal with DOM parsing/manipulation
	 *
	 * @namespace Barba.Pjax.Dom
	 * @type {Object}
	 */
	var Dom = {
	  /**
	   * The name of the data attribute on the container
	   *
	   * @memberOf Barba.Pjax.Dom
	   * @type {String}
	   * @default
	   */
	  dataNamespace: 'namespace',
	
	  /**
	   * Id of the main wrapper
	   *
	   * @memberOf Barba.Pjax.Dom
	   * @type {String}
	   * @default
	   */
	  wrapperId: 'barba-wrapper',
	
	  /**
	   * Class name used to identify the containers
	   *
	   * @memberOf Barba.Pjax.Dom
	   * @type {String}
	   * @default
	   */
	  containerClass: 'barba-container',
	
	  /**
	   * Full HTML String of the current page.
	   * By default is the innerHTML of the initial loaded page.
	   *
	   * Each time a new page is loaded, the value is the response of the xhr call.
	   *
	   * @memberOf Barba.Pjax.Dom
	   * @type {String}
	   */
	  currentHTML: document.documentElement.innerHTML,
	
	  /**
	   * Parse the responseText obtained from the xhr call
	   *
	   * @memberOf Barba.Pjax.Dom
	   * @private
	   * @param  {String} responseText
	   * @return {HTMLElement}
	   */
	  parseResponse: function(responseText) {
	    this.currentHTML = responseText;
	
	    var wrapper = document.createElement('div');
	    wrapper.innerHTML = responseText;
	
	    var titleEl = wrapper.querySelector('title');
	
	    if (titleEl)
	      document.title = titleEl.textContent;
	
	    return this.getContainer(wrapper);
	  },
	
	  /**
	   * Get the main barba wrapper by the ID `wrapperId`
	   *
	   * @memberOf Barba.Pjax.Dom
	   * @return {HTMLElement} element
	   */
	  getWrapper: function() {
	    var wrapper = document.getElementById(this.wrapperId);
	
	    if (!wrapper)
	      throw new Error('Barba.js: wrapper not found!');
	
	    return wrapper;
	  },
	
	  /**
	   * Get the container on the current DOM,
	   * or from an HTMLElement passed via argument
	   *
	   * @memberOf Barba.Pjax.Dom
	   * @private
	   * @param  {HTMLElement} element
	   * @return {HTMLElement}
	   */
	  getContainer: function(element) {
	    if (!element)
	      element = document.body;
	
	    if (!element)
	      throw new Error('Barba.js: DOM not ready!');
	
	    var container = this.parseContainer(element);
	
	    if (container && container.jquery)
	      container = container[0];
	
	    if (!container)
	      throw new Error('Barba.js: no container found');
	
	    return container;
	  },
	
	  /**
	   * Get the namespace of the container
	   *
	   * @memberOf Barba.Pjax.Dom
	   * @private
	   * @param  {HTMLElement} element
	   * @return {String}
	   */
	  getNamespace: function(element) {
	    if (element && element.dataset) {
	      return element.dataset[this.dataNamespace];
	    } else if (element) {
	      return element.getAttribute('data-' + this.dataNamespace);
	    }
	
	    return null;
	  },
	
	  /**
	   * Put the container on the page
	   *
	   * @memberOf Barba.Pjax.Dom
	   * @private
	   * @param  {HTMLElement} element
	   */
	  putContainer: function(element) {
	    element.style.visibility = 'hidden';
	
	    var wrapper = this.getWrapper();
	    wrapper.appendChild(element);
	  },
	
	  /**
	   * Get container selector
	   *
	   * @memberOf Barba.Pjax.Dom
	   * @private
	   * @param  {HTMLElement} element
	   * @return {HTMLElement} element
	   */
	  parseContainer: function(element) {
	    return element.querySelector('.' + this.containerClass);
	  }
	};
	
	module.exports = Dom;


/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

	var Utils = __webpack_require__(5);
	var Pjax = __webpack_require__(10);
	
	/**
	 * Prefetch
	 *
	 * @namespace Barba.Prefetch
	 * @type {Object}
	 */
	var Prefetch = {
	  /**
	   * Class name used to ignore prefetch on links
	   *
	   * @memberOf Barba.Prefetch
	   * @type {String}
	   * @default
	   */
	  ignoreClassLink: 'no-barba-prefetch',
	
	  /**
	   * Init the event listener on mouseover and touchstart
	   * for the prefetch
	   *
	   * @memberOf Barba.Prefetch
	   */
	  init: function() {
	    if (!window.history.pushState) {
	      return false;
	    }
	
	    document.body.addEventListener('mouseover', this.onLinkEnter.bind(this));
	    document.body.addEventListener('touchstart', this.onLinkEnter.bind(this));
	  },
	
	  /**
	   * Callback for the mousehover/touchstart
	   *
	   * @memberOf Barba.Prefetch
	   * @private
	   * @param  {Object} evt
	   */
	  onLinkEnter: function(evt) {
	    var el = evt.target;
	
	    while (el && !Pjax.getHref(el)) {
	      el = el.parentNode;
	    }
	
	    if (!el || el.classList.contains(this.ignoreClassLink)) {
	      return;
	    }
	
	    var url = Pjax.getHref(el);
	
	    //Check if the link is elegible for Pjax
	    if (Pjax.preventCheck(evt, el) && !Pjax.Cache.get(url)) {
	      var xhr = Utils.xhr(url);
	      Pjax.Cache.set(url, xhr);
	    }
	  }
	};
	
	module.exports = Prefetch;


/***/ }
/******/ ])
});
;

},{}],42:[function(require,module,exports){
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global.Ractive = global.Ractive || {}, global.Ractive.events = global.Ractive.events || {}, global.Ractive.events.tap = factory());
}(this, function () { 'use strict';

	var DISTANCE_THRESHOLD = 5; // maximum pixels pointer can move before cancel
	var TIME_THRESHOLD = 400;   // maximum milliseconds between down and up before cancel

	function tap ( node, callback ) {
		return new TapHandler( node, callback );
	}

	function TapHandler ( node, callback ) {
		this.node = node;
		this.callback = callback;

		this.preventMousedownEvents = false;

		this.bind( node );
	}

	TapHandler.prototype = {
		bind: function bind ( node ) {
			// listen for mouse/pointer events...
			if (window.navigator.pointerEnabled) {
				node.addEventListener( 'pointerdown', handleMousedown, false );
			} else if (window.navigator.msPointerEnabled) {
				node.addEventListener( 'MSPointerDown', handleMousedown, false );
			} else {
				node.addEventListener( 'mousedown', handleMousedown, false );

				// ...and touch events
				node.addEventListener( 'touchstart', handleTouchstart, false );
			}

			// native buttons, and <input type='button'> elements, should fire a tap event
			// when the space key is pressed
			if ( node.tagName === 'BUTTON' || node.type === 'button' ) {
				node.addEventListener( 'focus', handleFocus, false );
			}

			node.__tap_handler__ = this;
		},

		fire: function fire ( event, x, y ) {
			this.callback({
				node: this.node,
				original: event,
				x: x,
				y: y
			});
		},

		mousedown: function mousedown ( event ) {
			var this$1 = this;

			if ( this.preventMousedownEvents ) {
				return;
			}

			if ( event.which !== undefined && event.which !== 1 ) {
				return;
			}

			var x = event.clientX;
			var y = event.clientY;

			// This will be null for mouse events.
			var pointerId = event.pointerId;

			var handleMouseup = function (event) {
				if ( event.pointerId != pointerId ) {
					return;
				}

				this$1.fire( event, x, y );
				cancel();
			};

			var handleMousemove = function (event) {
				if ( event.pointerId != pointerId ) {
					return;
				}

				if ( ( Math.abs( event.clientX - x ) >= DISTANCE_THRESHOLD ) || ( Math.abs( event.clientY - y ) >= DISTANCE_THRESHOLD ) ) {
					cancel();
				}
			};

			var cancel = function () {
				this$1.node.removeEventListener( 'MSPointerUp', handleMouseup, false );
				document.removeEventListener( 'MSPointerMove', handleMousemove, false );
				document.removeEventListener( 'MSPointerCancel', cancel, false );
				this$1.node.removeEventListener( 'pointerup', handleMouseup, false );
				document.removeEventListener( 'pointermove', handleMousemove, false );
				document.removeEventListener( 'pointercancel', cancel, false );
				this$1.node.removeEventListener( 'click', handleMouseup, false );
				document.removeEventListener( 'mousemove', handleMousemove, false );
			};

			if ( window.navigator.pointerEnabled ) {
				this.node.addEventListener( 'pointerup', handleMouseup, false );
				document.addEventListener( 'pointermove', handleMousemove, false );
				document.addEventListener( 'pointercancel', cancel, false );
			} else if ( window.navigator.msPointerEnabled ) {
				this.node.addEventListener( 'MSPointerUp', handleMouseup, false );
				document.addEventListener( 'MSPointerMove', handleMousemove, false );
				document.addEventListener( 'MSPointerCancel', cancel, false );
			} else {
				this.node.addEventListener( 'click', handleMouseup, false );
				document.addEventListener( 'mousemove', handleMousemove, false );
			}

			setTimeout( cancel, TIME_THRESHOLD );
		},

		touchdown: function touchdown ( event ) {
			var this$1 = this;

			var touch = event.touches[0];

			var x = touch.clientX;
			var y = touch.clientY;

			var finger = touch.identifier;

			var handleTouchup = function (event) {
				var touch = event.changedTouches[0];

				if ( touch.identifier !== finger ) {
					cancel();
					return;
				}

				event.preventDefault(); // prevent compatibility mouse event

				// for the benefit of mobile Firefox and old Android browsers, we need this absurd hack.
				this$1.preventMousedownEvents = true;
				clearTimeout( this$1.preventMousedownTimeout );

				this$1.preventMousedownTimeout = setTimeout( function () {
					this$1.preventMousedownEvents = false;
				}, 400 );

				this$1.fire( event, x, y );
				cancel();
			};

			var handleTouchmove = function (event) {
				if ( event.touches.length !== 1 || event.touches[0].identifier !== finger ) {
					cancel();
				}

				var touch = event.touches[0];
				if ( ( Math.abs( touch.clientX - x ) >= DISTANCE_THRESHOLD ) || ( Math.abs( touch.clientY - y ) >= DISTANCE_THRESHOLD ) ) {
					cancel();
				}
			};

			var cancel = function () {
				this$1.node.removeEventListener( 'touchend', handleTouchup, false );
				window.removeEventListener( 'touchmove', handleTouchmove, false );
				window.removeEventListener( 'touchcancel', cancel, false );
			};

			this.node.addEventListener( 'touchend', handleTouchup, false );
			window.addEventListener( 'touchmove', handleTouchmove, false );
			window.addEventListener( 'touchcancel', cancel, false );

			setTimeout( cancel, TIME_THRESHOLD );
		},

		teardown: function teardown () {
			var node = this.node;

			node.removeEventListener( 'pointerdown',   handleMousedown, false );
			node.removeEventListener( 'MSPointerDown', handleMousedown, false );
			node.removeEventListener( 'mousedown',     handleMousedown, false );
			node.removeEventListener( 'touchstart',    handleTouchstart, false );
			node.removeEventListener( 'focus',         handleFocus, false );
		}
	};

	function handleMousedown ( event ) {
		this.__tap_handler__.mousedown( event );
	}

	function handleTouchstart ( event ) {
		this.__tap_handler__.touchdown( event );
	}

	function handleFocus () {
		this.addEventListener( 'keydown', handleKeydown, false );
		this.addEventListener( 'blur', handleBlur, false );
	}

	function handleBlur () {
		this.removeEventListener( 'keydown', handleKeydown, false );
		this.removeEventListener( 'blur', handleBlur, false );
	}

	function handleKeydown ( event ) {
		if ( event.which === 32 ) { // space key
			this.__tap_handler__.fire();
		}
	}

	return tap;

}));
},{}],43:[function(require,module,exports){
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	global.Ractive.transitions.fade = factory();
}(this, function () { 'use strict';

	var DEFAULTS = {
		delay: 0,
		duration: 300,
		easing: 'linear'
	};

	function fade(t, params) {
		var targetOpacity;

		params = t.processParams(params, DEFAULTS);

		if (t.isIntro) {
			targetOpacity = t.getStyle('opacity');
			t.setStyle('opacity', 0);
		} else {
			targetOpacity = 0;
		}

		t.animateStyle('opacity', targetOpacity, params).then(t.complete);
	}

	return fade;

}));
},{}],44:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Scrollbar=e():t.Scrollbar=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,u.default)(t)}var i=n(2),u=r(i),a=n(55),c=r(a),l=n(62),f=r(l);Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof f.default&&"symbol"==typeof c.default?function(t){return typeof t}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":typeof t},d=n(78),h=n(89);n(129),n(145),n(158),n(173),n(187),e.default=d.SmoothScrollbar,d.SmoothScrollbar.version="7.3.1",d.SmoothScrollbar.init=function(t,e){if(!t||1!==t.nodeType)throw new TypeError("expect element to be DOM Element, but got "+("undefined"==typeof t?"undefined":s(t)));if(h.sbList.has(t))return h.sbList.get(t);t.setAttribute("data-scrollbar","");var n=[].concat(o(t.childNodes)),r=document.createElement("div");r.innerHTML='\n        <article class="scroll-content"></article>\n        <aside class="scrollbar-track scrollbar-track-x">\n            <div class="scrollbar-thumb scrollbar-thumb-x"></div>\n        </aside>\n        <aside class="scrollbar-track scrollbar-track-y">\n            <div class="scrollbar-thumb scrollbar-thumb-y"></div>\n        </aside>\n        <canvas class="overscroll-glow"></canvas>\n    ';var i=r.querySelector(".scroll-content");return[].concat(o(r.childNodes)).forEach(function(e){return t.appendChild(e)}),n.forEach(function(t){return i.appendChild(t)}),new d.SmoothScrollbar(t,e)},d.SmoothScrollbar.initAll=function(t){return[].concat(o(document.querySelectorAll(h.selectors))).map(function(e){return d.SmoothScrollbar.init(e,t)})},d.SmoothScrollbar.has=function(t){return h.sbList.has(t)},d.SmoothScrollbar.get=function(t){return h.sbList.get(t)},d.SmoothScrollbar.getAll=function(){return[].concat(o(h.sbList.values()))},d.SmoothScrollbar.destroy=function(t,e){return d.SmoothScrollbar.has(t)&&d.SmoothScrollbar.get(t).destroy(e)},d.SmoothScrollbar.destroyAll=function(t){h.sbList.forEach(function(e){e.destroy(t)})},t.exports=e.default},function(t,e,n){t.exports={default:n(3),__esModule:!0}},function(t,e,n){n(4),n(48),t.exports=n(12).Array.from},function(t,e,n){"use strict";var r=n(5)(!0);n(8)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(6),o=n(7);t.exports=function(t){return function(e,n){var i,u,a=String(o(e)),c=r(n),l=a.length;return c<0||c>=l?t?"":void 0:(i=a.charCodeAt(c),i<55296||i>56319||c+1===l||(u=a.charCodeAt(c+1))<56320||u>57343?t?a.charAt(c):i:t?a.slice(c,c+2):(i-55296<<10)+(u-56320)+65536)}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(9),o=n(10),i=n(25),u=n(15),a=n(26),c=n(27),l=n(28),f=n(44),s=n(46),d=n(45)("iterator"),h=!([].keys&&"next"in[].keys()),v="@@iterator",_="keys",p="values",y=function(){return this};t.exports=function(t,e,n,b,g,m,x){l(n,e,b);var S,E,M,O=function(t){if(!h&&t in j)return j[t];switch(t){case _:return function(){return new n(this,t)};case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",P=g==p,k=!1,j=t.prototype,T=j[d]||j[v]||g&&j[g],A=T||O(g),R=g?P?O("entries"):A:void 0,L="Array"==e?j.entries||T:T;if(L&&(M=s(L.call(new t)),M!==Object.prototype&&(f(M,w,!0),r||a(M,d)||u(M,d,y))),P&&T&&T.name!==p&&(k=!0,A=function(){return T.call(this)}),r&&!x||!h&&!k&&j[d]||u(j,d,A),c[e]=A,c[w]=y,g)if(S={values:P?A:O(p),keys:m?A:O(_),entries:R},x)for(E in S)E in j||i(j,E,S[E]);else o(o.P+o.F*(h||k),e,S);return S}},function(t,e){t.exports=!0},function(t,e,n){var r=n(11),o=n(12),i=n(13),u=n(15),a="prototype",c=function(t,e,n){var l,f,s,d=t&c.F,h=t&c.G,v=t&c.S,_=t&c.P,p=t&c.B,y=t&c.W,b=h?o:o[e]||(o[e]={}),g=b[a],m=h?r:v?r[e]:(r[e]||{})[a];h&&(n=e);for(l in n)f=!d&&m&&void 0!==m[l],f&&l in b||(s=f?m[l]:n[l],b[l]=h&&"function"!=typeof m[l]?n[l]:p&&f?i(s,r):y&&m[l]==s?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[a]=t[a],e}(s):_&&"function"==typeof s?i(Function.call,s):s,_&&((b.virtual||(b.virtual={}))[l]=s,t&c.R&&g&&!g[l]&&u(g,l,s)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(14);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(16),o=n(24);t.exports=n(20)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(17),o=n(19),i=n(23),u=Object.defineProperty;e.f=n(20)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(18);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(20)&&!n(21)(function(){return 7!=Object.defineProperty(n(22)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(21)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(18),o=n(11).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(18);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){t.exports=n(15)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(29),o=n(24),i=n(44),u={};n(15)(u,n(45)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(u,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(17),o=n(30),i=n(42),u=n(39)("IE_PROTO"),a=function(){},c="prototype",l=function(){var t,e=n(22)("iframe"),r=i.length,o="<",u=">";for(e.style.display="none",n(43).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+u+"document.F=Object"+o+"/script"+u),t.close(),l=t.F;r--;)delete l[c][i[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[c]=r(t),n=new a,a[c]=null,n[u]=t):n=l(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(16),o=n(17),i=n(31);t.exports=n(20)?Object.defineProperties:function(t,e){o(t);for(var n,u=i(e),a=u.length,c=0;a>c;)r.f(t,n=u[c++],e[n]);return t}},function(t,e,n){var r=n(32),o=n(42);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(26),o=n(33),i=n(36)(!1),u=n(39)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),c=0,l=[];for(n in a)n!=u&&r(a,n)&&l.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~i(l,n)||l.push(n));return l}},function(t,e,n){var r=n(34),o=n(7);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(35);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(33),o=n(37),i=n(38);t.exports=function(t){return function(e,n,u){var a,c=r(e),l=o(c.length),f=i(u,l);if(t&&n!=n){for(;l>f;)if(a=c[f++],a!=a)return!0}else for(;l>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(6),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(6),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(40)("keys"),o=n(41);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(11),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=n(11).document&&document.documentElement},function(t,e,n){var r=n(16).f,o=n(26),i=n(45)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(40)("wks"),o=n(41),i=n(11).Symbol,u="function"==typeof i,a=t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))};a.store=r},function(t,e,n){var r=n(26),o=n(47),i=n(39)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var r=n(7);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(13),o=n(10),i=n(47),u=n(49),a=n(50),c=n(37),l=n(51),f=n(52);o(o.S+o.F*!n(54)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,s,d=i(t),h="function"==typeof this?this:Array,v=arguments.length,_=v>1?arguments[1]:void 0,p=void 0!==_,y=0,b=f(d);if(p&&(_=r(_,v>2?arguments[2]:void 0,2)),void 0==b||h==Array&&a(b))for(e=c(d.length),n=new h(e);e>y;y++)l(n,y,p?_(d[y],y):d[y]);else for(s=b.call(d),n=new h;!(o=s.next()).done;y++)l(n,y,p?u(s,_,[o.value,y],!0):o.value);return n.length=y,n}})},function(t,e,n){var r=n(17);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(27),o=n(45)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){"use strict";var r=n(16),o=n(24);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(53),o=n(45)("iterator"),i=n(27);t.exports=n(12).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(35),o=n(45)("toStringTag"),i="Arguments"==r(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(45)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],u=i[r]();u.next=function(){return{done:n=!0}},i[r]=function(){return u},t(i)}catch(t){}return n}},function(t,e,n){t.exports={default:n(56),__esModule:!0}},function(t,e,n){n(4),n(57),t.exports=n(61).f("iterator")},function(t,e,n){n(58);for(var r=n(11),o=n(15),i=n(27),u=n(45)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var l=a[c],f=r[l],s=f&&f.prototype;s&&!s[u]&&o(s,u,l),i[l]=i.Array}},function(t,e,n){"use strict";var r=n(59),o=n(60),i=n(27),u=n(33);t.exports=n(8)(Array,"Array",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){e.f=n(45)},function(t,e,n){t.exports={default:n(63),__esModule:!0}},function(t,e,n){n(64),n(75),n(76),n(77),t.exports=n(12).Symbol},function(t,e,n){"use strict";var r=n(11),o=n(26),i=n(20),u=n(10),a=n(25),c=n(65).KEY,l=n(21),f=n(40),s=n(44),d=n(41),h=n(45),v=n(61),_=n(66),p=n(67),y=n(68),b=n(71),g=n(17),m=n(33),x=n(23),S=n(24),E=n(29),M=n(72),O=n(74),w=n(16),P=n(31),k=O.f,j=w.f,T=M.f,A=r.Symbol,R=r.JSON,L=R&&R.stringify,I="prototype",D=h("_hidden"),C=h("toPrimitive"),N={}.propertyIsEnumerable,F=f("symbol-registry"),H=f("symbols"),z=f("op-symbols"),B=Object[I],G="function"==typeof A,W=r.QObject,V=!W||!W[I]||!W[I].findChild,U=i&&l(function(){return 7!=E(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=k(B,e);r&&delete B[e],j(t,e,n),r&&t!==B&&j(B,e,r)}:j,X=function(t){var e=H[t]=E(A[I]);return e._k=t,e},q=G&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},K=function(t,e,n){return t===B&&K(z,e,n),g(t),e=x(e,!0),g(n),o(H,e)?(n.enumerable?(o(t,D)&&t[D][e]&&(t[D][e]=!1),n=E(n,{enumerable:S(0,!1)})):(o(t,D)||j(t,D,S(1,{})),t[D][e]=!0),U(t,e,n)):j(t,e,n)},J=function(t,e){g(t);for(var n,r=y(e=m(e)),o=0,i=r.length;i>o;)K(t,n=r[o++],e[n]);return t},Y=function(t,e){return void 0===e?E(t):J(E(t),e)},Q=function(t){var e=N.call(this,t=x(t,!0));return!(this===B&&o(H,t)&&!o(z,t))&&(!(e||!o(this,t)||!o(H,t)||o(this,D)&&this[D][t])||e)},Z=function(t,e){if(t=m(t),e=x(e,!0),t!==B||!o(H,e)||o(z,e)){var n=k(t,e);return!n||!o(H,e)||o(t,D)&&t[D][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=T(m(t)),r=[],i=0;n.length>i;)o(H,e=n[i++])||e==D||e==c||r.push(e);return r},tt=function(t){for(var e,n=t===B,r=T(n?z:m(t)),i=[],u=0;r.length>u;)!o(H,e=r[u++])||n&&!o(B,e)||i.push(H[e]);return i};G||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(z,n),o(this,D)&&o(this[D],t)&&(this[D][t]=!1),U(this,t,S(1,n))};return i&&V&&U(B,t,{configurable:!0,set:e}),X(t)},a(A[I],"toString",function(){return this._k}),O.f=Z,w.f=K,n(73).f=M.f=$,n(70).f=Q,n(69).f=tt,i&&!n(9)&&a(B,"propertyIsEnumerable",Q,!0),v.f=function(t){return X(h(t))}),u(u.G+u.W+u.F*!G,{Symbol:A});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)h(et[nt++]);for(var et=P(h.store),nt=0;et.length>nt;)_(et[nt++]);u(u.S+u.F*!G,"Symbol",{for:function(t){return o(F,t+="")?F[t]:F[t]=A(t)},keyFor:function(t){if(q(t))return p(F,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){V=!0},useSimple:function(){V=!1}}),u(u.S+u.F*!G,"Object",{create:Y,defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),R&&u(u.S+u.F*(!G||l(function(){var t=A();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!q(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return e=r[1],"function"==typeof e&&(n=e),!n&&b(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!q(e))return e}),r[1]=e,L.apply(R,r)}}}),A[I][C]||n(15)(A[I],C,A[I].valueOf),s(A,"Symbol"),s(Math,"Math",!0),s(r.JSON,"JSON",!0)},function(t,e,n){var r=n(41)("meta"),o=n(18),i=n(26),u=n(16).f,a=0,c=Object.isExtensible||function(){return!0},l=!n(21)(function(){return c(Object.preventExtensions({}))}),f=function(t){u(t,r,{value:{i:"O"+ ++a,w:{}}})},s=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[r].i},d=function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[r].w},h=function(t){return l&&v.NEED&&c(t)&&!i(t,r)&&f(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:s,getWeak:d,onFreeze:h}},function(t,e,n){var r=n(11),o=n(12),i=n(9),u=n(61),a=n(16).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:u.f(t)})}},function(t,e,n){var r=n(31),o=n(33);t.exports=function(t,e){for(var n,i=o(t),u=r(i),a=u.length,c=0;a>c;)if(i[n=u[c++]]===e)return n}},function(t,e,n){var r=n(31),o=n(69),i=n(70);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var u,a=n(t),c=i.f,l=0;a.length>l;)c.call(t,u=a[l++])&&e.push(u);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(35);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(33),o=n(73).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return o(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?a(t):o(r(t))}},function(t,e,n){var r=n(32),o=n(42).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(70),o=n(24),i=n(33),u=n(23),a=n(26),c=n(19),l=Object.getOwnPropertyDescriptor;e.f=n(20)?l:function(t,e){if(t=i(t),e=u(e,!0),c)try{return l(t,e)}catch(t){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(66)("asyncIterator")},function(t,e,n){n(66)("observable")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(79),u=r(i),a=n(82),c=r(a),l=n(86),f=r(l);Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollbar=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,f.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=n(89),h=n(112);e.SmoothScrollbar=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),e.setAttribute("tabindex","1"),e.scrollTop=e.scrollLeft=0;var i=(0,h.findChild)(e,"scroll-content"),a=(0,h.findChild)(e,"overscroll-glow"),l=(0,h.findChild)(e,"scrollbar-track-x"),f=(0,h.findChild)(e,"scrollbar-track-y");if((0,h.setStyle)(e,{overflow:"hidden",outline:"none"}),(0,h.setStyle)(a,{display:"none","pointer-events":"none"}),this.__readonly("targets",(0,c.default)({container:e,content:i,canvas:{elem:a,context:a.getContext("2d")},xAxis:(0,c.default)({track:l,thumb:(0,h.findChild)(l,"scrollbar-thumb-x")}),yAxis:(0,c.default)({track:f,thumb:(0,h.findChild)(f,"scrollbar-thumb-y")})})).__readonly("offset",{x:0,y:0}).__readonly("thumbOffset",{x:0,y:0}).__readonly("limit",{x:1/0,y:1/0}).__readonly("movement",{x:0,y:0}).__readonly("movementLocked",{x:!1,y:!1}).__readonly("overscrollRendered",{x:0,y:0}).__readonly("overscrollBack",!1).__readonly("thumbSize",{x:0,y:0,realX:0,realY:0}).__readonly("bounding",{top:0,right:0,bottom:0,left:0}).__readonly("children",[]).__readonly("parents",[]).__readonly("size",this.getSize()).__readonly("isNestedScrollbar",!1),(0,u.default)(this,{__hideTrackThrottle:{value:(0,h.debounce)(this.hideTrack.bind(this),1e3,!1)},__updateThrottle:{value:(0,h.debounce)(this.update.bind(this))},__touchRecord:{value:new h.TouchRecord},__listeners:{value:[]},__handlers:{value:[]},__children:{value:[]},__timerID:{value:{}}}),this.__initOptions(r),this.__initScrollbar(),d.sbList.set(e,this),"function"==typeof d.GLOBAL_ENV.MutationObserver){var s=new d.GLOBAL_ENV.MutationObserver(function(){n.update(!0)});s.observe(i,{childList:!0}),Object.defineProperty(this,"__observer",{value:s})}}return s(t,[{key:"MAX_OVERSCROLL",get:function(){var t=this.options,e=this.size;switch(t.overscrollEffect){case"bounce":var n=Math.floor(Math.sqrt(Math.pow(e.container.width,2)+Math.pow(e.container.height,2))),r=this.__isMovementLocked()?2:10;return d.GLOBAL_ENV.TOUCH_SUPPORTED?(0,h.pickInRange)(n/r,100,1e3):(0,h.pickInRange)(n/10,25,50);case"glow":return 150;default:return 0}}},{key:"scrollTop",get:function(){return this.offset.y}},{key:"scrollLeft",get:function(){return this.offset.x}}]),t}()},function(t,e,n){t.exports={default:n(80),__esModule:!0}},function(t,e,n){n(81);var r=n(12).Object;t.exports=function(t,e){return r.defineProperties(t,e)}},function(t,e,n){var r=n(10);r(r.S+r.F*!n(20),"Object",{defineProperties:n(30)})},function(t,e,n){t.exports={default:n(83),__esModule:!0}},function(t,e,n){n(84),t.exports=n(12).Object.freeze},function(t,e,n){var r=n(18),o=n(65).onFreeze;n(85)("freeze",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(10),o=n(12),i=n(21);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],u={};u[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",u)}},function(t,e,n){t.exports={default:n(87),__esModule:!0}},function(t,e,n){n(88);var r=n(12).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(10);r(r.S+r.F*!n(20),"Object",{defineProperty:n(16).f})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(93);(0,a.default)(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){t.exports={default:n(91),__esModule:!0}},function(t,e,n){n(92),t.exports=n(12).Object.keys},function(t,e,n){var r=n(47),o=n(31);n(85)("keys",function(){return function(t){return o(r(t))}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(94);(0,a.default)(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return c[t]}})});var l=n(95);(0,a.default)(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(111);(0,a.default)(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return f[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=function(t){var e={},n={};return(0,a.default)(t).forEach(function(r){(0,i.default)(e,r,{get:function(){if(!n.hasOwnProperty(r)){var e=t[r];n[r]=e()}return n[r]}})}),e},l={MutationObserver:function(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver},TOUCH_SUPPORTED:function(){return"ontouchstart"in document},EASING_MULTIPLIER:function(){return navigator.userAgent.match(/Android/)?.5:.25},WHEEL_EVENT:function(){return"onwheel"in window?"wheel":"mousewheel"}};e.GLOBAL_ENV=c(l)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(96),i=r(o);Object.defineProperty(e,"__esModule",{value:!0});var u=new i.default,a=u.set.bind(u),c=u.delete.bind(u);u.update=function(){u.forEach(function(t){t.__updateTree()})},u.delete=function(){var t=c.apply(void 0,arguments);return u.update(),t},u.set=function(){var t=a.apply(void 0,arguments);return u.update(),t},e.sbList=u},function(t,e,n){t.exports={default:n(97),__esModule:!0}},function(t,e,n){n(75),n(4),n(57),n(98),n(108),t.exports=n(12).Map},function(t,e,n){"use strict";var r=n(99);t.exports=n(104)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(this,t);return e&&e.v},set:function(t,e){return r.def(this,0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(16).f,o=n(29),i=n(100),u=n(13),a=n(101),c=n(7),l=n(102),f=n(8),s=n(60),d=n(103),h=n(20),v=n(65).fastKey,_=h?"_s":"size",p=function(t,e){var n,r=v(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,f){var s=t(function(t,r){a(t,s,e,"_i"),t._i=o(null),t._f=void 0,t._l=void 0,t[_]=0,void 0!=r&&l(r,n,t[f],t)});return i(s.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[_]=0},delete:function(t){var e=this,n=p(e,t);if(n){var r=n.n,o=n.p;delete e._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),e._f==n&&(e._f=r),e._l==n&&(e._l=o),e[_]--}return!!n},forEach:function(t){a(this,s,"forEach");for(var e,n=u(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!p(this,t)}}),h&&r(s.prototype,"size",{get:function(){return c(this[_])}}),s},def:function(t,e,n){var r,o,i=p(t,e);return i?i.v=n:(t._l=i={i:o=v(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[_]++,"F"!==o&&(t._i[o]=i)),t},getEntry:p,setStrong:function(t,e,n){f(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?s(0,n.k):"values"==e?s(0,n.v):s(0,[n.k,n.v]):(t._t=void 0,s(1))},n?"entries":"values",!n,!0),d(e)}}},function(t,e,n){var r=n(15);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(13),o=n(49),i=n(50),u=n(17),a=n(37),c=n(52),l={},f={},e=t.exports=function(t,e,n,s,d){var h,v,_,p,y=d?function(){return t}:c(t),b=r(n,s,e?2:1),g=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(i(y)){for(h=a(t.length);h>g;g++)if(p=e?b(u(v=t[g])[0],v[1]):b(t[g]),p===l||p===f)return p}else for(_=y.call(t);!(v=_.next()).done;)if(p=o(_,b,v.value,e),p===l||p===f)return p};e.BREAK=l,e.RETURN=f},function(t,e,n){"use strict";var r=n(11),o=n(12),i=n(16),u=n(20),a=n(45)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];u&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(11),o=n(10),i=n(65),u=n(21),a=n(15),c=n(100),l=n(102),f=n(101),s=n(18),d=n(44),h=n(16).f,v=n(105)(0),_=n(20);t.exports=function(t,e,n,p,y,b){var g=r[t],m=g,x=y?"set":"add",S=m&&m.prototype,E={};return _&&"function"==typeof m&&(b||S.forEach&&!u(function(){(new m).entries().next()}))?(m=e(function(e,n){f(e,m,t,"_c"),e._c=new g,void 0!=n&&l(n,y,e[x],e)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in S&&(!b||"clear"!=t)&&a(m.prototype,t,function(n,r){if(f(this,m,t),!e&&b&&!s(n))return"get"==t&&void 0;var o=this._c[t](0===n?0:n,r);return e?this:o})}),"size"in S&&h(m.prototype,"size",{get:function(){return this._c.size}})):(m=p.getConstructor(e,t,y,x),c(m.prototype,n),i.NEED=!0),d(m,t),E[t]=m,o(o.G+o.W+o.F,E),b||p.setStrong(m,t,y),m}},function(t,e,n){var r=n(13),o=n(34),i=n(47),u=n(37),a=n(106);t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,f=4==t,s=6==t,d=5==t||s,h=e||a;return function(e,a,v){for(var _,p,y=i(e),b=o(y),g=r(a,v,3),m=u(b.length),x=0,S=n?h(e,m):c?h(e,0):void 0;m>x;x++)if((d||x in b)&&(_=b[x],p=g(_,x,y),t))if(n)S[x]=p;else if(p)switch(t){case 3:return!0;case 5:return _;case 6:return x;case 2:S.push(_)}else if(f)return!1;return s?-1:l||f?f:S}}},function(t,e,n){var r=n(107);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(18),o=n(71),i=n(45)("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){var r=n(10);r(r.P+r.R,"Map",{toJSON:n(109)("Map")})},function(t,e,n){var r=n(53),o=n(110);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,n){var r=n(102);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.selectors="scrollbar, [scrollbar], [data-scrollbar]"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(113);(0,a.default)(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(114);(0,a.default)(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return c[t]}})});var l=n(115);(0,a.default)(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(116);(0,a.default)(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return f[t]}})});var s=n(117);(0,a.default)(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return s[t]}})});var d=n(118);(0,a.default)(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return d[t]}})});var h=n(119);(0,a.default)(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return h[t]}})});var v=n(120);(0,a.default)(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return v[t]}})});var _=n(121);(0,a.default)(_).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return _[t]}})});var p=n(122);(0,a.default)(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return p[t]}})});var y=n(123);(0,a.default)(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return y[t]}})});var b=n(124);(0,a.default)(b).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return b[t]}})})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.buildCurve=function(t,e){var n=[];if(e<=0)return n;for(var r=Math.round(e/1e3*60)-1,o=t?Math.pow(1/Math.abs(t),1/r):0,i=1;i<=r;i++)n.push(t-t*Math.pow(o,i));return n.push(t),n}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=100;e.debounce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("function"==typeof t){var o=void 0;return function(){for(var n=arguments.length,i=Array(n),u=0;u<n;u++)i[u]=arguments[u];!o&&r&&setTimeout(function(){return t.apply(void 0,i)}),clearTimeout(o),o=setTimeout(function(){o=void 0,t.apply(void 0,i)},e)}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,u.default)(t)}var i=n(2),u=r(i);Object.defineProperty(e,"__esModule",{value:!0});e.findChild=function(t,e){var n=t.children,r=null;
return n&&[].concat(o(n)).some(function(t){if(t.className.match(e))return r=t,!0}),r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={STANDARD:1,OTHERS:-3},r=[1,28,500],o=function(t){return r[t]||r[0]};e.getDelta=function(t){if("deltaX"in t){var e=o(t.deltaMode);return{x:t.deltaX/n.STANDARD*e,y:t.deltaY/n.STANDARD*e}}return"wheelDeltaX"in t?{x:t.wheelDeltaX/n.OTHERS,y:t.wheelDeltaY/n.OTHERS}:{x:0,y:t.wheelDelta/n.OTHERS}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getPointerData=function(t){return t.touches?t.touches[t.touches.length-1]:t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPosition=void 0;var r=n(118);e.getPosition=function(t){var e=(0,r.getPointerData)(t);return{x:e.clientX,y:e.clientY}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTouchID=void 0;var r=n(118);e.getTouchID=function(t){var e=(0,r.getPointerData)(t);return e.identifier}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.isOneOf=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.some(function(e){return t===e})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.pickInRange=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-(1/0),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return Math.max(e,Math.min(t,n))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(90),i=r(o);Object.defineProperty(e,"__esModule",{value:!0});var u=["webkit","moz","ms","o"],a=new RegExp("^-(?!(?:"+u.join("|")+")-)"),c=function(t){var e={};return(0,i.default)(t).forEach(function(n){if(!a.test(n))return void(e[n]=t[n]);var r=t[n];n=n.replace(/^-/,""),e[n]=r,u.forEach(function(t){e["-"+t+"-"+n]=r})}),e};e.setStyle=function(t,e){e=c(e),(0,i.default)(e).forEach(function(n){var r=n.replace(/^-/,"").replace(/-([a-z])/g,function(t,e){return e.toUpperCase()});t.style[r]=e[n]})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=n(2),a=r(u),c=n(86),l=r(c),f=n(125),s=r(f);Object.defineProperty(e,"__esModule",{value:!0}),e.TouchRecord=void 0;var d=s.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,l.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=n(119),_=function(){function t(e){i(this,t),this.updateTime=Date.now(),this.delta={x:0,y:0},this.velocity={x:0,y:0},this.lastPosition=(0,v.getPosition)(e)}return h(t,[{key:"update",value:function(t){var e=this.velocity,n=this.updateTime,r=this.lastPosition,o=Date.now(),i=(0,v.getPosition)(t),u={x:-(i.x-r.x),y:-(i.y-r.y)},a=o-n||16,c=u.x/a*1e3,l=u.y/a*1e3;e.x=.8*c+.2*e.x,e.y=.8*l+.2*e.y,this.delta=u,this.updateTime=o,this.lastPosition=i}}]),t}();e.TouchRecord=function(){function t(){i(this,t),this.touchList={},this.lastTouch=null,this.activeTouchID=void 0}return h(t,[{key:"__add",value:function(t){if(this.__has(t))return null;var e=new _(t);return this.touchList[t.identifier]=e,e}},{key:"__renew",value:function(t){if(!this.__has(t))return null;var e=this.touchList[t.identifier];return e.update(t),e}},{key:"__delete",value:function(t){return delete this.touchList[t.identifier]}},{key:"__has",value:function(t){return this.touchList.hasOwnProperty(t.identifier)}},{key:"__setActiveID",value:function(t){this.activeTouchID=t[t.length-1].identifier,this.lastTouch=this.touchList[this.activeTouchID]}},{key:"__getActiveTracker",value:function(){var t=this.touchList,e=this.activeTouchID;return t[e]}},{key:"isActive",value:function(){return void 0!==this.activeTouchID}},{key:"getDelta",value:function(){var t=this.__getActiveTracker();return t?d({},t.delta):this.__primitiveValue}},{key:"getVelocity",value:function(){var t=this.__getActiveTracker();return t?d({},t.velocity):this.__primitiveValue}},{key:"getLastPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.__getActiveTracker()||this.lastTouch,n=e?e.lastPosition:this.__primitiveValue;return t?n.hasOwnProperty(t)?n[t]:0:d({},n)}},{key:"updatedRecently",value:function(){var t=this.__getActiveTracker();return t&&Date.now()-t.updateTime<30}},{key:"track",value:function(t){var e=this,n=t.targetTouches;return[].concat(o(n)).forEach(function(t){e.__add(t)}),this.touchList}},{key:"update",value:function(t){var e=this,n=t.touches,r=t.changedTouches;return[].concat(o(n)).forEach(function(t){e.__renew(t)}),this.__setActiveID(r),this.touchList}},{key:"release",value:function(t){var e=this;return this.activeTouchID=void 0,[].concat(o(t.changedTouches)).forEach(function(t){e.__delete(t)}),this.touchList}},{key:"__primitiveValue",get:function(){return{x:0,y:0}}}]),t}()},function(t,e,n){t.exports={default:n(126),__esModule:!0}},function(t,e,n){n(127),t.exports=n(12).Object.assign},function(t,e,n){var r=n(10);r(r.S+r.F,"Object",{assign:n(128)})},function(t,e,n){"use strict";var r=n(31),o=n(69),i=n(70),u=n(47),a=n(34),c=Object.assign;t.exports=!c||n(21)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){for(var n=u(t),c=arguments.length,l=1,f=o.f,s=i.f;c>l;)for(var d,h=a(arguments[l++]),v=f?r(h).concat(f(h)):r(h),_=v.length,p=0;_>p;)s.call(h,d=v[p++])&&(n[d]=h[d]);return n}:c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(130);(0,a.default)(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(131);(0,a.default)(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return c[t]}})});var l=n(132);(0,a.default)(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(133);(0,a.default)(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return f[t]}})});var s=n(134);(0,a.default)(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return s[t]}})});var d=n(135);(0,a.default)(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return d[t]}})});var h=n(136);(0,a.default)(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return h[t]}})});var v=n(137);(0,a.default)(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return v[t]}})});var _=n(138);(0,a.default)(_).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return _[t]}})});var p=n(139);(0,a.default)(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return p[t]}})});var y=n(140);(0,a.default)(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return y[t]}})});var b=n(141);(0,a.default)(b).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return b[t]}})});var g=n(142);(0,a.default)(g).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return g[t]}})});var m=n(143);(0,a.default)(m).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return m[t]}})});var x=n(144);(0,a.default)(x).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return x[t]}})})},function(t,e,n){"use strict";var r=n(78);r.SmoothScrollbar.prototype.clearMovement=r.SmoothScrollbar.prototype.stop=function(){this.movement.x=this.movement.y=0,cancelAnimationFrame(this.__timerID.scrollTo)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,u.default)(t)}var i=n(2),u=r(i),a=n(78),c=n(112),l=n(89);a.SmoothScrollbar.prototype.destroy=function(t){var e=this.__listeners,n=this.__handlers,r=this.__observer,i=this.targets,u=i.container,a=i.content;n.forEach(function(t){var e=t.evt,n=t.elem,r=t.fn;n.removeEventListener(e,r)}),n.length=e.length=0,this.stop(),cancelAnimationFrame(this.__timerID.render),r&&r.disconnect(),l.sbList.delete(u),t||this.scrollTo(0,0,300,function(){if(u.parentNode){(0,c.setStyle)(u,{overflow:""}),u.scrollTop=u.scrollLeft=0;for(var t=[].concat(o(a.childNodes));u.firstChild;)u.removeChild(u.firstChild);t.forEach(function(t){return u.appendChild(t)})}})}},function(t,e,n){"use strict";var r=n(78);r.SmoothScrollbar.prototype.getContentElem=function(){return this.targets.content}},function(t,e,n){"use strict";var r=n(78);r.SmoothScrollbar.prototype.getSize=function(){var t=this.targets.container,e=this.targets.content;return{container:{width:t.clientWidth,height:t.clientHeight},content:{width:e.offsetWidth-e.clientWidth+e.scrollWidth,height:e.offsetHeight-e.clientHeight+e.scrollHeight}}}},function(t,e,n){"use strict";var r=n(78);r.SmoothScrollbar.prototype.infiniteScroll=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;if("function"==typeof t){var n={x:0,y:0},r=!1;this.addListener(function(o){var i=o.offset,u=o.limit;u.y-i.y<=e&&i.y>n.y&&!r&&(r=!0,setTimeout(function(){return t(o)})),u.y-i.y>e&&(r=!1),n=i})}}},function(t,e,n){"use strict";var r=n(78);r.SmoothScrollbar.prototype.isVisible=function(t){var e=this.bounding,n=t.getBoundingClientRect(),r=Math.max(e.top,n.top),o=Math.max(e.left,n.left),i=Math.min(e.right,n.right),u=Math.min(e.bottom,n.bottom);return r<u&&o<i}},function(t,e,n){"use strict";var r=n(78);r.SmoothScrollbar.prototype.addListener=function(t){"function"==typeof t&&this.__listeners.push(t)},r.SmoothScrollbar.prototype.removeListener=function(t){"function"==typeof t&&this.__listeners.some(function(e,n,r){return e===t&&r.splice(n,1)})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?(0,l.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){return!!e.length&&e.some(function(e){return t.match(e)})}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.REGIESTER,e=d[t];return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];this.__handlers.forEach(function(n){var o=n.elem,u=n.evt,a=n.fn,c=n.hasRegistered;c&&t===s.REGIESTER||!c&&t===s.UNREGIESTER||i(u,r)&&(o[e](u,a),n.hasRegistered=!c)})}}var a,c=n(86),l=r(c),f=n(78),s={REGIESTER:0,UNREGIESTER:1},d=(a={},o(a,s.REGIESTER,"addEventListener"),o(a,s.UNREGIESTER,"removeEventListener"),a);f.SmoothScrollbar.prototype.registerEvents=u(s.REGIESTER),f.SmoothScrollbar.prototype.unregisterEvents=u(s.UNREGIESTER)},function(t,e,n){"use strict";var r=n(78);r.SmoothScrollbar.prototype.scrollIntoView=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.alignToTop,r=void 0===n||n,o=e.onlyScrollIfNeeded,i=void 0!==o&&o,u=e.offsetTop,a=void 0===u?0:u,c=e.offsetLeft,l=void 0===c?0:c,f=e.offsetBottom,s=void 0===f?0:f,d=this.targets,h=this.bounding;if(t&&d.container.contains(t)){var v=t.getBoundingClientRect();i&&this.isVisible(t)||this.__setMovement(v.left-h.left-l,r?v.top-h.top-a:v.bottom-h.bottom-s)}}},function(t,e,n){"use strict";var r=n(112),o=n(78);o.SmoothScrollbar.prototype.scrollTo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.offset.x,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset.y,n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=this.options,a=this.offset,c=this.limit,l=this.__timerID;cancelAnimationFrame(l.scrollTo),i="function"==typeof i?i:function(){},u.renderByPixels&&(t=Math.round(t),e=Math.round(e));var f=a.x,s=a.y,d=(0,r.pickInRange)(t,0,c.x)-f,h=(0,r.pickInRange)(e,0,c.y)-s,v=(0,r.buildCurve)(d,o),_=(0,r.buildCurve)(h,o),p=v.length,y=0,b=function t(){n.setPosition(f+v[y],s+_[y]),y++,y===p?requestAnimationFrame(function(){i(n)}):l.scrollTo=requestAnimationFrame(t)};b()}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(90),i=r(o),u=n(78);u.SmoothScrollbar.prototype.setOptions=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(e).forEach(function(n){t.options.hasOwnProperty(n)&&void 0!==e[n]&&(t.options[n]=e[n])})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(125),i=r(o),u=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(112),c=n(78);c.SmoothScrollbar.prototype.setPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.offset.x,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset.y,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.__hideTrackThrottle();var r={},o=this.options,i=this.offset,c=this.limit,l=this.targets,f=this.__listeners;o.renderByPixels&&(t=Math.round(t),e=Math.round(e)),t!==i.x&&this.showTrack("x"),e!==i.y&&this.showTrack("y"),t=(0,a.pickInRange)(t,0,c.x),e=(0,a.pickInRange)(e,0,c.y),t===i.x&&e===i.y||(r.direction={x:t===i.x?"none":t>i.x?"right":"left",y:e===i.y?"none":e>i.y?"down":"up"},this.__readonly("offset",{x:t,y:e}),r.limit=u({},c),r.offset=u({},this.offset),this.__setThumbPosition(),(0,a.setStyle)(l.content,{"-transform":"translate3d("+-t+"px, "+-e+"px, 0)"}),n||f.forEach(function(t){o.syncCallbacks?t(r):requestAnimationFrame(function(){t(r)})}))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?(0,c.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.SHOW,e=d[t];return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"both",r=this.options,o=this.movement,i=this.targets,u=i.container,a=i.xAxis,c=i.yAxis;o.x||o.y?u.classList.add(s.CONTAINER):u.classList.remove(s.CONTAINER),r.alwaysShowTracks&&t===f.HIDE||(n=n.toLowerCase(),"both"===n&&(a.track.classList[e](s.TRACK),c.track.classList[e](s.TRACK)),"x"===n&&a.track.classList[e](s.TRACK),"y"===n&&c.track.classList[e](s.TRACK))}}var u,a=n(86),c=r(a),l=n(78),f={SHOW:0,HIDE:1},s={TRACK:"show",CONTAINER:"scrolling"},d=(u={},o(u,f.SHOW,"add"),o(u,f.HIDE,"remove"),u);l.SmoothScrollbar.prototype.showTrack=i(f.SHOW),l.SmoothScrollbar.prototype.hideTrack=i(f.HIDE)},function(t,e,n){"use strict";function r(){if("glow"===this.options.overscrollEffect){var t=this.targets,e=this.size,n=t.canvas,r=n.elem,o=n.context,i=window.devicePixelRatio||1,u=e.container.width*i,a=e.container.height*i;u===r.width&&a===r.height||(r.width=u,r.height=a,o.scale(i,i))}}function o(){var t=this.size,e=this.thumbSize,n=this.targets,r=n.xAxis,o=n.yAxis;(0,u.setStyle)(r.track,{display:t.content.width<=t.container.width?"none":"block"}),(0,u.setStyle)(o.track,{display:t.content.height<=t.container.height?"none":"block"}),(0,u.setStyle)(r.thumb,{width:e.x+"px"}),(0,u.setStyle)(o.thumb,{height:e.y+"px"})}function i(){var t=this.options;this.__updateBounding();var e=this.getSize(),n={x:Math.max(e.content.width-e.container.width,0),y:Math.max(e.content.height-e.container.height,0)},i={realX:e.container.width/e.content.width*e.container.width,realY:e.container.height/e.content.height*e.container.height};i.x=Math.max(i.realX,t.thumbMinSize),i.y=Math.max(i.realY,t.thumbMinSize),this.__readonly("size",e).__readonly("limit",n).__readonly("thumbSize",i),o.call(this),r.call(this),this.setPosition(),this.__setThumbPosition()}var u=n(112),a=n(78);a.SmoothScrollbar.prototype.update=function(t){t?requestAnimationFrame(i.bind(this)):i.call(this)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(146);(0,a.default)(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(147);(0,a.default)(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return c[t]}})});var l=n(148);(0,a.default)(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(149);(0,a.default)(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return f[t]}})});var s=n(154);(0,a.default)(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return s[t]}})});var d=n(155);(0,a.default)(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return d[t]}})});var h=n(156);(0,a.default)(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return h[t]}})});var v=n(157);(0,a.default)(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return v[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.limit,i=this.options,u=this.movement;this.__updateThrottle(),i.renderByPixels&&(t=Math.round(t),e=Math.round(e));var a=u.x+t,l=u.y+e;0===r.x&&(a=0),0===r.y&&(l=0);var f=this.__getDeltaLimit(n);u.x=c.pickInRange.apply(void 0,[a].concat(o(f.x))),u.y=c.pickInRange.apply(void 0,[l].concat(o(f.y)))}var u=n(2),a=r(u),c=n(112),l=n(78);Object.defineProperty(l.SmoothScrollbar.prototype,"__addMovement",{value:i,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=this,e=this.movement,n=this.movementLocked;a.forEach(function(r){n[r]=e[r]&&t.__willOverscroll(r,e[r])})}function o(){var t=this.movementLocked;a.forEach(function(e){t[e]=!1})}function i(){var t=this.movementLocked;return t.x||t.y}var u=n(78),a=["x","y"];Object.defineProperty(u.SmoothScrollbar.prototype,"__autoLockMovement",{value:r,writable:!0,configurable:!0}),Object.defineProperty(u.SmoothScrollbar.prototype,"__unlockMovement",{value:o,writable:!0,configurable:!0}),Object.defineProperty(u.SmoothScrollbar.prototype,"__isMovementLocked",{value:i,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t){var e=this.options,n=this.movement,r=this.overscrollRendered,o=this.MAX_OVERSCROLL,i=n[t]=(0,h.pickInRange)(n[t],-o,o),u=e.overscrollDamping,a=r[t]+(i-r[t])*u;e.renderByPixels&&(a|=0),!this.__isMovementLocked()&&Math.abs(a-r[t])<.1&&(a-=i/Math.abs(i||1)),Math.abs(a)<Math.abs(r[t])&&this.__readonly("overscrollBack",!0),(a*r[t]<0||Math.abs(a)<=1)&&(a=0,this.__readonly("overscrollBack",!1)),r[t]=a}}function i(t){var e=this.__touchRecord,n=this.overscrollRendered;return n.x!==t.x||n.y!==t.y||!(!d.GLOBAL_ENV.TOUCH_SUPPORTED||!e.updatedRecently())}function u(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length&&this.options.overscrollEffect){var n=this.options,r=this.overscrollRendered,u=l({},r);if(e.forEach(function(e){return o.call(t,e)}),i.call(this,u))switch(n.overscrollEffect){case"bounce":return s.overscrollBounce.call(this,r.x,r.y);case"glow":return s.overscrollGlow.call(this,r.x,r.y);default:return}}}var a=n(125),c=r(a),l=c.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=n(78),s=n(150),d=n(89),h=n(112);Object.defineProperty(f.SmoothScrollbar.prototype,"__renderOverscroll",{value:u,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(151);(0,a.default)(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(152);(0,a.default)(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return c[t]}})});var l=n(153);(0,a.default)(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return l[t]}})})},function(t,e,n){"use strict";function r(t,e){var n=this.size,r=this.offset,i=this.targets,u=this.thumbOffset,a=i.xAxis,c=i.yAxis,l=i.content;if((0,o.setStyle)(l,{"-transform":"translate3d("+-(r.x+t)+"px, "+-(r.y+e)+"px, 0)"}),t){var f=n.container.width/(n.container.width+Math.abs(t));(0,o.setStyle)(a.thumb,{"-transform":"translate3d("+u.x+"px, 0, 0) scale3d("+f+", 1, 1)","-transform-origin":t<0?"left":"right"})}if(e){var s=n.container.height/(n.container.height+Math.abs(e));(0,o.setStyle)(c.thumb,{"-transform":"translate3d(0, "+u.y+"px, 0) scale3d(1, "+s+", 1)","-transform-origin":e<0?"top":"bottom"})}}Object.defineProperty(e,"__esModule",{value:!0}),e.overscrollBounce=r;var o=n(112)},function(t,e,n){"use strict";function r(t,e){var n=this.size,r=this.targets,a=this.options,c=r.canvas,l=c.elem,f=c.context;return t||e?((0,u.setStyle)(l,{display:"block"}),f.clearRect(0,0,n.content.width,n.container.height),f.fillStyle=a.overscrollEffectColor,o.call(this,t),void i.call(this,e)):(0,u.setStyle)(l,{display:"none"})}function o(t){var e=this.size,n=this.targets,r=this.__touchRecord,o=this.MAX_OVERSCROLL,i=e.container,l=i.width,f=i.height,s=n.canvas.context;s.save(),t>0&&s.transform(-1,0,0,1,l,0);var d=(0,u.pickInRange)(Math.abs(t)/o,0,a),h=(0,u.pickInRange)(d,0,c)*l,v=Math.abs(t),_=r.getLastPosition("y")||f/2;s.globalAlpha=d,s.beginPath(),s.moveTo(0,-h),s.quadraticCurveTo(v,_,0,f+h),s.fill(),s.closePath(),s.restore()}function i(t){var e=this.size,n=this.targets,r=this.__touchRecord,o=this.MAX_OVERSCROLL,i=e.container,l=i.width,f=i.height,s=n.canvas.context;s.save(),t>0&&s.transform(1,0,0,-1,0,f);var d=(0,u.pickInRange)(Math.abs(t)/o,0,a),h=(0,u.pickInRange)(d,0,c)*l,v=r.getLastPosition("x")||l/2,_=Math.abs(t);s.globalAlpha=d,s.beginPath(),s.moveTo(-h,0),s.quadraticCurveTo(v,_,l+h,0),s.fill(),s.closePath(),s.restore()}Object.defineProperty(e,"__esModule",{value:!0}),e.overscrollGlow=r;var u=n(112),a=.75,c=.25},function(t,e,n){"use strict";function r(t){var e=this.options,n=this.offset,r=this.movement,o=this.__touchRecord,i=e.damping,u=e.renderByPixels,a=e.overscrollDamping,c=n[t],l=r[t],f=i;if(this.__willOverscroll(t,l)?f=a:o.isActive()&&(f=.5),Math.abs(l)<1){var s=c+l;return{movement:0,position:l>0?Math.ceil(s):Math.floor(s)}}var d=l*(1-f);return u&&(d|=0),{movement:d,position:c+l-d}}function o(){var t=this.options,e=this.offset,n=this.limit,i=this.movement,a=this.overscrollRendered,c=this.__timerID;if(i.x||i.y||a.x||a.y){var l=r.call(this,"x"),f=r.call(this,"y"),s=[];if(t.overscrollEffect){var d=(0,u.pickInRange)(l.position,0,n.x),h=(0,u.pickInRange)(f.position,0,n.y);(a.x||d===e.x&&i.x)&&s.push("x"),(a.y||h===e.y&&i.y)&&s.push("y")}this.movementLocked.x||(i.x=l.movement),this.movementLocked.y||(i.y=f.movement),this.setPosition(l.position,f.position),this.__renderOverscroll(s)}c.render=requestAnimationFrame(o.bind(this))}var i=n(78),u=n(112);Object.defineProperty(i.SmoothScrollbar.prototype,"__render",{value:o,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.options,i=this.movement;this.__updateThrottle();var u=this.__getDeltaLimit(n);r.renderByPixels&&(t=Math.round(t),e=Math.round(e)),i.x=c.pickInRange.apply(void 0,[t].concat(o(u.x))),i.y=c.pickInRange.apply(void 0,[e].concat(o(u.y)))}var u=n(2),a=r(u),c=n(112),l=n(78);Object.defineProperty(l.SmoothScrollbar.prototype,"__setMovement",{value:i,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.options,r=this.offset,o=this.limit;if(!n.continuousScrolling)return!1;var u=(0,i.pickInRange)(t+r.x,0,o.x),a=(0,i.pickInRange)(e+r.y,0,o.y),c=!0;return c&=u===r.x,c&=a===r.y,c&=u===o.x||0===u||a===o.y||0===a}var o=n(78),i=n(112);Object.defineProperty(o.SmoothScrollbar.prototype,"__shouldPropagateMovement",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t)return!1;var n=this.offset,r=this.limit,o=n[t];return(0,i.pickInRange)(e+o,0,r[t])===o&&(0===o||o===r[t])}var o=n(78),i=n(112);Object.defineProperty(o.SmoothScrollbar.prototype,"__willOverscroll",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(159);(0,a.default)(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(160);(0,a.default)(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return c[t]}})});var l=n(161);(0,a.default)(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(168);(0,a.default)(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return f[t]}})});var s=n(169);(0,a.default)(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return s[t]}})});var d=n(170);(0,a.default)(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return d[t]}})});var h=n(171);(0,a.default)(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return h[t]}})});var v=n(172);(0,a.default)(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return v[t]}})})},function(t,e,n){"use strict";function r(){var t=this,e=this.targets,n=e.container,r=e.content,o=!1,u=void 0,a=void 0;Object.defineProperty(this,"__isDrag",{get:function(){return o},enumerable:!1});var c=function e(n){var r=n.x,o=n.y;if(r||o){var i=t.options.speed;t.__setMovement(r*i,o*i),u=requestAnimationFrame(function(){e({x:r,y:o})})}};this.__addEvent(n,"dragstart",function(e){t.__eventFromChildScrollbar(e)||(o=!0,a=e.target.clientHeight,(0,i.setStyle)(r,{"pointer-events":"auto"}),cancelAnimationFrame(u),t.__updateBounding())}),this.__addEvent(document,"dragover mousemove touchmove",function(e){if(o&&!t.__eventFromChildScrollbar(e)){cancelAnimationFrame(u),e.preventDefault();var n=t.__getPointerTrend(e,a);c(n)}}),this.__addEvent(document,"dragend mouseup touchend blur",function(){cancelAnimationFrame(u),o=!1})}var o=n(78),i=n(112);Object.defineProperty(o.SmoothScrollbar.prototype,"__dragHandler",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){var t=this,e=this.targets,n=function(e){var n=t.size,r=t.offset,o=t.limit,i=t.movement;switch(e){case s.SPACE:return[0,200];case s.PAGE_UP:return[0,-n.container.height+40];case s.PAGE_DOWN:return[0,n.container.height-40];case s.END:return[0,Math.abs(i.y)+o.y-r.y];case s.HOME:return[0,-Math.abs(i.y)-r.y];case s.LEFT:return[-40,0];case s.UP:return[0,-40];case s.RIGHT:return[40,0];case s.DOWN:return[0,40];default:return null}},r=e.container;this.__addEvent(r,"keydown",function(e){if(document.activeElement===r){var o=t.options,i=t.parents,u=t.movementLocked,a=n(e.keyCode||e.which);if(a){var c=l(a,2),f=c[0],s=c[1];if(t.__shouldPropagateMovement(f,s))return r.blur(),i.length&&i[0].focus(),t.__updateThrottle();e.preventDefault(),t.__unlockMovement(),f&&t.__willOverscroll("x",f)&&(u.x=!0),s&&t.__willOverscroll("y",s)&&(u.y=!0);var d=o.speed;t.__addMovement(f*d,s*d)}}}),this.__addEvent(r,"keyup",function(){t.__unlockMovement()})}var i=n(162),u=r(i),a=n(165),c=r(a),l=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=(0,c.default)(t);!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,u.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=n(78),s={SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};Object.defineProperty(f.SmoothScrollbar.prototype,"__keyboardHandler",{value:o,writable:!0,configurable:!0})},function(t,e,n){t.exports={default:n(163),__esModule:!0}},function(t,e,n){n(57),n(4),t.exports=n(164)},function(t,e,n){var r=n(53),o=n(45)("iterator"),i=n(27);t.exports=n(12).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(r(e))}},function(t,e,n){t.exports={default:n(166),__esModule:!0}},function(t,e,n){n(57),n(4),t.exports=n(167)},function(t,e,n){var r=n(17),o=n(52);t.exports=n(12).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){"use strict";function r(){var t=this,e=this.targets,n=e.container,r=e.xAxis,o=e.yAxis,u=function(e,n){var r=t.size,o=t.thumbSize;if("x"===e){var i=r.container.width-(o.x-o.realX);return n/i*r.content.width}if("y"===e){var u=r.container.height-(o.y-o.realY);return n/u*r.content.height}return 0},a=function(t){return(0,i.isOneOf)(t,[r.track,r.thumb])?"x":(0,i.isOneOf)(t,[o.track,o.thumb])?"y":void 0},c=void 0,l=void 0,f=void 0,s=void 0,d=void 0;this.__addEvent(n,"click",function(e){if(!l&&(0,i.isOneOf)(e.target,[r.track,o.track])){var n=e.target,c=a(n),f=n.getBoundingClientRect(),s=(0,i.getPosition)(e),d=t.offset,h=t.thumbSize;
if("x"===c){var v=s.x-f.left-h.x/2;t.__setMovement(u(c,v)-d.x,0)}else{var _=s.y-f.top-h.y/2;t.__setMovement(0,u(c,_)-d.y)}}}),this.__addEvent(n,"mousedown",function(e){if((0,i.isOneOf)(e.target,[r.thumb,o.thumb])){c=!0;var n=(0,i.getPosition)(e),u=e.target.getBoundingClientRect();s=a(e.target),f={x:n.x-u.left,y:n.y-u.top},d=t.targets.container.getBoundingClientRect()}}),this.__addEvent(window,"mousemove",function(e){if(c){e.preventDefault(),l=!0;var n=t.offset,r=(0,i.getPosition)(e);if("x"===s){var o=r.x-f.x-d.left;t.setPosition(u(s,o),n.y)}if("y"===s){var a=r.y-f.y-d.top;t.setPosition(n.x,u(s,a))}}}),this.__addEvent(window,"mouseup blur",function(){c=l=!1})}var o=n(78),i=n(112);Object.defineProperty(o.SmoothScrollbar.prototype,"__mouseHandler",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){this.__addEvent(window,"resize",this.__updateThrottle)}var o=n(78);Object.defineProperty(o.SmoothScrollbar.prototype,"__resizeHandler",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=this,e=!1,n=void 0,r=this.targets,o=r.container,u=r.content,a=function e(r){var o=r.x,i=r.y;if(o||i){var u=t.options.speed;t.__setMovement(o*u,i*u),n=requestAnimationFrame(function(){e({x:o,y:i})})}},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,i.setStyle)(o,{"-user-select":t})};this.__addEvent(window,"mousemove",function(r){if(e){cancelAnimationFrame(n);var o=t.__getPointerTrend(r);a(o)}}),this.__addEvent(u,"selectstart",function(r){return t.__eventFromChildScrollbar(r)?c("none"):(cancelAnimationFrame(n),t.__updateBounding(),void(e=!0))}),this.__addEvent(window,"mouseup blur",function(){cancelAnimationFrame(n),c(),e=!1}),this.__addEvent(o,"scroll",function(t){t.preventDefault(),o.scrollTop=o.scrollLeft=0})}var o=n(78),i=n(112);Object.defineProperty(o.SmoothScrollbar.prototype,"__selectHandler",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){var t=this,e=this.targets,n=this.__touchRecord,r=e.container;this.__addEvent(r,"touchstart",function(e){if(!t.__isDrag){var r=t.__timerID,o=t.movement;cancelAnimationFrame(r.scrollTo),t.__willOverscroll("x")||(o.x=0),t.__willOverscroll("y")||(o.y=0),n.track(e),t.__autoLockMovement()}}),this.__addEvent(r,"touchmove",function(e){if(!(t.__isDrag||s&&s!==t)){n.update(e);var r=n.getDelta(),o=r.x,i=r.y;if(t.__shouldPropagateMovement(o,i))return t.__updateThrottle();var u=t.movement,a=t.MAX_OVERSCROLL,c=t.options;if(u.x&&t.__willOverscroll("x",o)){var l=2;"bounce"===c.overscrollEffect&&(l+=Math.abs(10*u.x/a)),Math.abs(u.x)>=a?o=0:o/=l}if(u.y&&t.__willOverscroll("y",i)){var f=2;"bounce"===c.overscrollEffect&&(f+=Math.abs(10*u.y/a)),Math.abs(u.y)>=a?i=0:i/=f}t.__autoLockMovement(),e.preventDefault(),t.__addMovement(o,i,!0),s=t}}),this.__addEvent(r,"touchcancel touchend",function(e){if(!t.__isDrag){var r=t.options.speed,o=n.getVelocity(),i={};(0,u.default)(o).forEach(function(t){var e=(0,l.pickInRange)(o[t]*c.GLOBAL_ENV.EASING_MULTIPLIER,-1e3,1e3);i[t]=Math.abs(e)>f?e*r:0}),t.__addMovement(i.x,i.y,!0),t.__unlockMovement(),n.release(e),s=null}})}var i=n(90),u=r(i),a=n(78),c=n(89),l=n(112),f=100,s=null;Object.defineProperty(a.SmoothScrollbar.prototype,"__touchHandler",{value:o,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=this,e=this.targets.container,n=!1,r=(0,i.debounce)(function(){n=!1},30,!1);this.__addEvent(e,u.GLOBAL_ENV.WHEEL_EVENT,function(e){var o=t.options,u=(0,i.getDelta)(e),a=u.x,c=u.y;return a*=o.speed,c*=o.speed,t.__shouldPropagateMovement(a,c)?t.__updateThrottle():(e.preventDefault(),r(),t.overscrollBack&&(n=!0),n&&(t.__willOverscroll("x",a)&&(a=0),t.__willOverscroll("y",c)&&(c=0)),void t.__addMovement(a,c,!0))})}var o=n(78),i=n(112),u=n(89);Object.defineProperty(o.SmoothScrollbar.prototype,"__wheelHandler",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(174);(0,a.default)(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(175);(0,a.default)(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return c[t]}})});var l=n(176);(0,a.default)(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(177);(0,a.default)(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return f[t]}})});var s=n(178);(0,a.default)(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return s[t]}})});var d=n(179);(0,a.default)(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return d[t]}})});var h=n(182);(0,a.default)(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return h[t]}})});var v=n(183);(0,a.default)(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return v[t]}})});var _=n(184);(0,a.default)(_).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return _[t]}})});var p=n(185);(0,a.default)(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return p[t]}})});var y=n(186);(0,a.default)(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i.default)(e,t,{enumerable:!0,get:function(){return y[t]}})})},function(t,e,n){"use strict";function r(t,e,n){var r=this;if(!t||"function"!=typeof t.addEventListener)throw new TypeError("expect elem to be a DOM element, but got "+t);var o=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];!t.type.match(/drag/)&&t.defaultPrevented||n.apply(void 0,[t].concat(r))};e.split(/\s+/g).forEach(function(e){r.__handlers.push({evt:e,elem:t,fn:o,hasRegistered:!0}),t.addEventListener(e,o)})}var o=n(78);Object.defineProperty(o.SmoothScrollbar.prototype,"__addEvent",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target;return this.children.some(function(t){return t.contains(e)})}var o=n(78);Object.defineProperty(o.SmoothScrollbar.prototype,"__eventFromChildScrollbar",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.options,n=this.offset,r=this.limit;return t&&(e.continuousScrolling||e.overscrollEffect)?{x:[-(1/0),1/0],y:[-(1/0),1/0]}:{x:[-n.x,r.x-n.x],y:[-n.y,r.y-n.y]}}var o=n(78);Object.defineProperty(o.SmoothScrollbar.prototype,"__getDeltaLimit",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.bounding,r=n.top,o=n.right,u=n.bottom,a=n.left,c=(0,i.getPosition)(t),l=c.x,f=c.y,s={x:0,y:0};return 0===l&&0===f?s:(l>o-e?s.x=l-o+e:l<a+e&&(s.x=l-a-e),f>u-e?s.y=f-u+e:f<r+e&&(s.y=f-r-e),s)}var o=n(78),i=n(112);Object.defineProperty(o.SmoothScrollbar.prototype,"__getPointerTrend",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,h.default)(t)}function i(t){var e=this,n={speed:1,damping:.1,thumbMinSize:20,syncCallbacks:!1,renderByPixels:!0,alwaysShowTracks:!1,continuousScrolling:"auto",overscrollEffect:!1,overscrollEffectColor:"#87ceeb",overscrollDamping:.2},r={damping:[0,1],speed:[0,1/0],thumbMinSize:[0,1/0],overscrollEffect:[!1,"bounce","glow"],overscrollDamping:[0,1]},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto";if(n.overscrollEffect!==!1)return!1;switch(t){case"auto":return e.isNestedScrollbar;default:return!!t}},u={set ignoreEvents(t){console.warn("`options.ignoreEvents` parameter is deprecated, use `instance#unregisterEvents()` method instead. https://github.com/idiotWu/smooth-scrollbar/wiki/Instance-Methods#instanceunregisterevents-regex--regex-regex--")},set friction(t){console.warn("`options.friction="+t+"` is deprecated, use `options.damping="+t/100+"` instead."),this.damping=t/100},get syncCallbacks(){return n.syncCallbacks},set syncCallbacks(t){n.syncCallbacks=!!t},get renderByPixels(){return n.renderByPixels},set renderByPixels(t){n.renderByPixels=!!t},get alwaysShowTracks(){return n.alwaysShowTracks},set alwaysShowTracks(t){t=!!t,n.alwaysShowTracks=t;var r=e.targets.container;t?(e.showTrack(),r.classList.add("sticky")):(e.hideTrack(),r.classList.remove("sticky"))},get continuousScrolling(){return i(n.continuousScrolling)},set continuousScrolling(t){"auto"===t?n.continuousScrolling=t:n.continuousScrolling=!!t},get overscrollEffect(){return n.overscrollEffect},set overscrollEffect(t){t&&!~r.overscrollEffect.indexOf(t)&&(console.warn("`overscrollEffect` should be one of "+(0,s.default)(r.overscrollEffect)+", but got "+(0,s.default)(t)+". It will be set to `false` now."),t=!1),n.overscrollEffect=t},get overscrollEffectColor(){return n.overscrollEffectColor},set overscrollEffectColor(t){n.overscrollEffectColor=t}};(0,l.default)(n).filter(function(t){return!u.hasOwnProperty(t)}).forEach(function(t){(0,a.default)(u,t,{enumerable:!0,get:function(){return n[t]},set:function(e){if(isNaN(parseFloat(e)))throw new TypeError("expect `options."+t+"` to be a number, but got "+("undefined"==typeof e?"undefined":b(e)));n[t]=g.pickInRange.apply(void 0,[e].concat(o(r[t])))}})}),this.__readonly("options",u),this.setOptions(t)}var u=n(86),a=r(u),c=n(90),l=r(c),f=n(180),s=r(f),d=n(2),h=r(d),v=n(55),_=r(v),p=n(62),y=r(p),b="function"==typeof y.default&&"symbol"==typeof _.default?function(t){return typeof t}:function(t){return t&&"function"==typeof y.default&&t.constructor===y.default&&t!==y.default.prototype?"symbol":typeof t},g=n(112),m=n(78);Object.defineProperty(m.SmoothScrollbar.prototype,"__initOptions",{value:i,writable:!0,configurable:!0})},function(t,e,n){t.exports={default:n(181),__esModule:!0}},function(t,e,n){var r=n(12),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,n){"use strict";function r(){this.update(),this.__keyboardHandler(),this.__resizeHandler(),this.__selectHandler(),this.__mouseHandler(),this.__touchHandler(),this.__wheelHandler(),this.__dragHandler(),this.__render()}var o=n(78);Object.defineProperty(o.SmoothScrollbar.prototype,"__initScrollbar",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return(0,u.default)(this,t,{value:e,enumerable:!0,configurable:!0})}var i=n(86),u=r(i),a=n(78);Object.defineProperty(a.SmoothScrollbar.prototype,"__readonly",{value:o,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=this.targets,e=this.size,n=this.offset,r=this.thumbOffset,i=this.thumbSize;r.x=n.x/e.content.width*(e.container.width-(i.x-i.realX)),r.y=n.y/e.content.height*(e.container.height-(i.y-i.realY)),(0,o.setStyle)(t.xAxis.thumb,{"-transform":"translate3d("+r.x+"px, 0, 0)"}),(0,o.setStyle)(t.yAxis.thumb,{"-transform":"translate3d(0, "+r.y+"px, 0)"})}var o=n(112),i=n(78);Object.defineProperty(i.SmoothScrollbar.prototype,"__setThumbPosition",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=this.targets.container,e=t.getBoundingClientRect(),n=e.top,r=e.right,o=e.bottom,i=e.left,u=window,a=u.innerHeight,c=u.innerWidth;this.__readonly("bounding",{top:Math.max(n,0),right:Math.min(r,c),bottom:Math.min(o,a),left:Math.max(i,0)})}var o=n(78);Object.defineProperty(o.SmoothScrollbar.prototype,"__updateBounding",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}function i(){var t=this.targets,e=t.container,n=t.content;this.__readonly("children",[].concat(o(n.querySelectorAll(l.selectors)))),this.__readonly("isNestedScrollbar",!1);for(var r=[],i=e;i=i.parentElement;)l.sbList.has(i)&&(this.__readonly("isNestedScrollbar",!0),r.push(i));this.__readonly("parents",r)}var u=n(2),a=r(u),c=n(78),l=n(89);Object.defineProperty(c.SmoothScrollbar.prototype,"__updateTree",{value:i,writable:!0,configurable:!0})},function(t,e){}])});
},{}],45:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _wolfy87Eventemitter = require('wolfy87-eventemitter');

var _wolfy87Eventemitter2 = _interopRequireDefault(_wolfy87Eventemitter);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Resize = function (_eventEmitter) {
  _inherits(Resize, _eventEmitter);

  function Resize() {
    _classCallCheck(this, Resize);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Resize).call(this));

    _this.onResizeHandle = _this.onResize.bind(_this);

    window.addEventListener('resize', _this.onResizeHandle);
    window.addEventListener('orientationchange', _this.onResizeHandle);
    return _this;
  }

  _createClass(Resize, [{
    key: 'onResize',
    value: function onResize() {
      if (!this.started) {
        this.started = true;
        this.times = 0;

        this.emitEvent('resize:start');
      }

      if (this.handle != null) {
        this.times = 0;

        window.cancelAnimationFrame(this.handle);
      }

      this.handle = window.requestAnimationFrame(function tick() {
        if (++this.times === 10) {
          this.handle = null;
          this.started = false;
          this.times = 0;

          this.emitEvent('resize:end');
        } else {
          this.handle = window.requestAnimationFrame(tick.bind(this));
        }
      }.bind(this));
    }
  }, {
    key: 'destroy',
    value: function destroy() {
      window.removeEventListener('resize', this.onResizeHandle);
      window.removeEventListener('orientationchange', this.onResizeHandle);

      this.removeAllListeners();
    }
  }]);

  return Resize;
}(_wolfy87Eventemitter2.default);

exports.default = Resize;

},{"wolfy87-eventemitter":46}],46:[function(require,module,exports){
/*!
 * EventEmitter v4.2.11 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */

;(function () {
    'use strict';

    /**
     * Class for managing events.
     * Can be extended to provide event functionality in other classes.
     *
     * @class EventEmitter Manages event registering and emitting.
     */
    function EventEmitter() {}

    // Shortcuts to improve speed and size
    var proto = EventEmitter.prototype;
    var exports = this;
    var originalGlobalValue = exports.EventEmitter;

    /**
     * Finds the index of the listener for the event in its storage array.
     *
     * @param {Function[]} listeners Array of listeners to search through.
     * @param {Function} listener Method to look for.
     * @return {Number} Index of the specified listener, -1 if not found
     * @api private
     */
    function indexOfListener(listeners, listener) {
        var i = listeners.length;
        while (i--) {
            if (listeners[i].listener === listener) {
                return i;
            }
        }

        return -1;
    }

    /**
     * Alias a method while keeping the context correct, to allow for overwriting of target method.
     *
     * @param {String} name The name of the target method.
     * @return {Function} The aliased method
     * @api private
     */
    function alias(name) {
        return function aliasClosure() {
            return this[name].apply(this, arguments);
        };
    }

    /**
     * Returns the listener array for the specified event.
     * Will initialise the event object and listener arrays if required.
     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.
     * Each property in the object response is an array of listener functions.
     *
     * @param {String|RegExp} evt Name of the event to return the listeners from.
     * @return {Function[]|Object} All listener functions for the event.
     */
    proto.getListeners = function getListeners(evt) {
        var events = this._getEvents();
        var response;
        var key;

        // Return a concatenated array of all matching events if
        // the selector is a regular expression.
        if (evt instanceof RegExp) {
            response = {};
            for (key in events) {
                if (events.hasOwnProperty(key) && evt.test(key)) {
                    response[key] = events[key];
                }
            }
        }
        else {
            response = events[evt] || (events[evt] = []);
        }

        return response;
    };

    /**
     * Takes a list of listener objects and flattens it into a list of listener functions.
     *
     * @param {Object[]} listeners Raw listener objects.
     * @return {Function[]} Just the listener functions.
     */
    proto.flattenListeners = function flattenListeners(listeners) {
        var flatListeners = [];
        var i;

        for (i = 0; i < listeners.length; i += 1) {
            flatListeners.push(listeners[i].listener);
        }

        return flatListeners;
    };

    /**
     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.
     *
     * @param {String|RegExp} evt Name of the event to return the listeners from.
     * @return {Object} All listener functions for an event in an object.
     */
    proto.getListenersAsObject = function getListenersAsObject(evt) {
        var listeners = this.getListeners(evt);
        var response;

        if (listeners instanceof Array) {
            response = {};
            response[evt] = listeners;
        }

        return response || listeners;
    };

    /**
     * Adds a listener function to the specified event.
     * The listener will not be added if it is a duplicate.
     * If the listener returns true then it will be removed after it is called.
     * If you pass a regular expression as the event name then the listener will be added to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to attach the listener to.
     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addListener = function addListener(evt, listener) {
        var listeners = this.getListenersAsObject(evt);
        var listenerIsWrapped = typeof listener === 'object';
        var key;

        for (key in listeners) {
            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {
                listeners[key].push(listenerIsWrapped ? listener : {
                    listener: listener,
                    once: false
                });
            }
        }

        return this;
    };

    /**
     * Alias of addListener
     */
    proto.on = alias('addListener');

    /**
     * Semi-alias of addListener. It will add a listener that will be
     * automatically removed after its first execution.
     *
     * @param {String|RegExp} evt Name of the event to attach the listener to.
     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addOnceListener = function addOnceListener(evt, listener) {
        return this.addListener(evt, {
            listener: listener,
            once: true
        });
    };

    /**
     * Alias of addOnceListener.
     */
    proto.once = alias('addOnceListener');

    /**
     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.
     * You need to tell it what event names should be matched by a regex.
     *
     * @param {String} evt Name of the event to create.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.defineEvent = function defineEvent(evt) {
        this.getListeners(evt);
        return this;
    };

    /**
     * Uses defineEvent to define multiple events.
     *
     * @param {String[]} evts An array of event names to define.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.defineEvents = function defineEvents(evts) {
        for (var i = 0; i < evts.length; i += 1) {
            this.defineEvent(evts[i]);
        }
        return this;
    };

    /**
     * Removes a listener function from the specified event.
     * When passed a regular expression as the event name, it will remove the listener from all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to remove the listener from.
     * @param {Function} listener Method to remove from the event.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeListener = function removeListener(evt, listener) {
        var listeners = this.getListenersAsObject(evt);
        var index;
        var key;

        for (key in listeners) {
            if (listeners.hasOwnProperty(key)) {
                index = indexOfListener(listeners[key], listener);

                if (index !== -1) {
                    listeners[key].splice(index, 1);
                }
            }
        }

        return this;
    };

    /**
     * Alias of removeListener
     */
    proto.off = alias('removeListener');

    /**
     * Adds listeners in bulk using the manipulateListeners method.
     * If you pass an object as the second argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.
     * You can also pass it a regular expression to add the array of listeners to all events that match it.
     * Yeah, this function does quite a bit. That's probably a bad thing.
     *
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to add.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addListeners = function addListeners(evt, listeners) {
        // Pass through to manipulateListeners
        return this.manipulateListeners(false, evt, listeners);
    };

    /**
     * Removes listeners in bulk using the manipulateListeners method.
     * If you pass an object as the second argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
     * You can also pass it an event name and an array of listeners to be removed.
     * You can also pass it a regular expression to remove the listeners from all events that match it.
     *
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to remove.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeListeners = function removeListeners(evt, listeners) {
        // Pass through to manipulateListeners
        return this.manipulateListeners(true, evt, listeners);
    };

    /**
     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.
     * The first argument will determine if the listeners are removed (true) or added (false).
     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
     * You can also pass it an event name and an array of listeners to be added/removed.
     * You can also pass it a regular expression to manipulate the listeners of all events that match it.
     *
     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {
        var i;
        var value;
        var single = remove ? this.removeListener : this.addListener;
        var multiple = remove ? this.removeListeners : this.addListeners;

        // If evt is an object then pass each of its properties to this method
        if (typeof evt === 'object' && !(evt instanceof RegExp)) {
            for (i in evt) {
                if (evt.hasOwnProperty(i) && (value = evt[i])) {
                    // Pass the single listener straight through to the singular method
                    if (typeof value === 'function') {
                        single.call(this, i, value);
                    }
                    else {
                        // Otherwise pass back to the multiple function
                        multiple.call(this, i, value);
                    }
                }
            }
        }
        else {
            // So evt must be a string
            // And listeners must be an array of listeners
            // Loop over it and pass each one to the multiple method
            i = listeners.length;
            while (i--) {
                single.call(this, evt, listeners[i]);
            }
        }

        return this;
    };

    /**
     * Removes all listeners from a specified event.
     * If you do not specify an event then all listeners will be removed.
     * That means every event will be emptied.
     * You can also pass a regex to remove all events that match it.
     *
     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeEvent = function removeEvent(evt) {
        var type = typeof evt;
        var events = this._getEvents();
        var key;

        // Remove different things depending on the state of evt
        if (type === 'string') {
            // Remove all listeners for the specified event
            delete events[evt];
        }
        else if (evt instanceof RegExp) {
            // Remove all events matching the regex.
            for (key in events) {
                if (events.hasOwnProperty(key) && evt.test(key)) {
                    delete events[key];
                }
            }
        }
        else {
            // Remove all listeners in all events
            delete this._events;
        }

        return this;
    };

    /**
     * Alias of removeEvent.
     *
     * Added to mirror the node API.
     */
    proto.removeAllListeners = alias('removeEvent');

    /**
     * Emits an event of your choice.
     * When emitted, every listener attached to that event will be executed.
     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.
     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.
     * So they will not arrive within the array on the other side, they will be separate.
     * You can also pass a regular expression to emit to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.
     * @param {Array} [args] Optional array of arguments to be passed to each listener.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.emitEvent = function emitEvent(evt, args) {
        var listenersMap = this.getListenersAsObject(evt);
        var listeners;
        var listener;
        var i;
        var key;
        var response;

        for (key in listenersMap) {
            if (listenersMap.hasOwnProperty(key)) {
                listeners = listenersMap[key].slice(0);
                i = listeners.length;

                while (i--) {
                    // If the listener returns true then it shall be removed from the event
                    // The function is executed either with a basic call or an apply if there is an args array
                    listener = listeners[i];

                    if (listener.once === true) {
                        this.removeListener(evt, listener.listener);
                    }

                    response = listener.listener.apply(this, args || []);

                    if (response === this._getOnceReturnValue()) {
                        this.removeListener(evt, listener.listener);
                    }
                }
            }
        }

        return this;
    };

    /**
     * Alias of emitEvent
     */
    proto.trigger = alias('emitEvent');

    /**
     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.
     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.
     * @param {...*} Optional additional arguments to be passed to each listener.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.emit = function emit(evt) {
        var args = Array.prototype.slice.call(arguments, 1);
        return this.emitEvent(evt, args);
    };

    /**
     * Sets the current value to check against when executing listeners. If a
     * listeners return value matches the one set here then it will be removed
     * after execution. This value defaults to true.
     *
     * @param {*} value The new value to check for when executing listeners.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.setOnceReturnValue = function setOnceReturnValue(value) {
        this._onceReturnValue = value;
        return this;
    };

    /**
     * Fetches the current value to check against when executing listeners. If
     * the listeners return value matches this one then it should be removed
     * automatically. It will return true by default.
     *
     * @return {*|Boolean} The current value to check for or the default, true.
     * @api private
     */
    proto._getOnceReturnValue = function _getOnceReturnValue() {
        if (this.hasOwnProperty('_onceReturnValue')) {
            return this._onceReturnValue;
        }
        else {
            return true;
        }
    };

    /**
     * Fetches the events object and creates one if required.
     *
     * @return {Object} The events storage object.
     * @api private
     */
    proto._getEvents = function _getEvents() {
        return this._events || (this._events = {});
    };

    /**
     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.
     *
     * @return {Function} Non conflicting EventEmitter class.
     */
    EventEmitter.noConflict = function noConflict() {
        exports.EventEmitter = originalGlobalValue;
        return EventEmitter;
    };

    // Expose the class either via AMD, CommonJS or the global object
    if (typeof define === 'function' && define.amd) {
        define(function () {
            return EventEmitter;
        });
    }
    else if (typeof module === 'object' && module.exports){
        module.exports = EventEmitter;
    }
    else {
        exports.EventEmitter = EventEmitter;
    }
}.call(this));

},{}]},{},[1,3,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvQXBwLmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL2dsb2JhbC9QYWdlVHJhbnNpdGlvbnMuanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvZ2xvYmFsL2RlcGVuZGVuY2llcy5qcyIsImFzc2V0cy9wb21lcmxlYXUvc2NyaXB0cy9nbG9iYWwvc2Nyb2xsVG8uanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvbW9kdWxlcy5qcyIsImFzc2V0cy9wb21lcmxlYXUvc2NyaXB0cy9tb2R1bGVzL0Fic3RyYWN0TW9kdWxlLmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL21vZHVsZXMvQnV0dG9uLmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL21vZHVsZXMvQ2Fyb3VzZWwuanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvbW9kdWxlcy9DYXJvdXNlbE5ld3MuanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvbW9kdWxlcy9DYXJvdXNlbFRpbWVyLmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL21vZHVsZXMvQ29udGFjdEZvcm0uanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvbW9kdWxlcy9Eb3VibGVTbGlkZXIuanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvbW9kdWxlcy9Ecm9wZG93bi5qcyIsImFzc2V0cy9wb21lcmxlYXUvc2NyaXB0cy9tb2R1bGVzL0ZpbHRlcnMuanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvbW9kdWxlcy9HZW5lcmljLmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL21vZHVsZXMvSGVhZGVyUGFnZS5qcyIsImFzc2V0cy9wb21lcmxlYXUvc2NyaXB0cy9tb2R1bGVzL0xlZ2VuZC5qcyIsImFzc2V0cy9wb21lcmxlYXUvc2NyaXB0cy9tb2R1bGVzL0xpZ2h0Ym94VmlkZW8uanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvbW9kdWxlcy9Mb2NhdGlvblN3aXRjaGVyLmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL21vZHVsZXMvTWFwLmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL21vZHVsZXMvTmF2LmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL21vZHVsZXMvTmF2TmV3cy5qcyIsImFzc2V0cy9wb21lcmxlYXUvc2NyaXB0cy9tb2R1bGVzL05ld3MuanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvbW9kdWxlcy9QYWdlVHJhbnNpdGlvbnNNYW5hZ2VyLmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL21vZHVsZXMvU2VhcmNoLmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL21vZHVsZXMvU2ltaWxhclN3aXRjaGVyLmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL21vZHVsZXMvU2xpZGVySG9tZS5qcyIsImFzc2V0cy9wb21lcmxlYXUvc2NyaXB0cy9tb2R1bGVzL1NsaWRlclBhZ2UuanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvbW9kdWxlcy9TbGlkZXJQcm9qZWN0LmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL21vZHVsZXMvU21vb3RoU2Nyb2xsaW5nLmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL21vZHVsZXMvVGl0bGUuanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvcmFjdGl2ZS9yYWN0aXZlLWV2ZW50cy10YXAuanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvcmFjdGl2ZS9yYWN0aXZlLXRyYW5zaXRpb25zLWZhZGUuanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvdXRpbHMvYW5pbWF0ZVRvLmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL3V0aWxzL2FycmF5LmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL3V0aWxzL2Vudmlyb25tZW50LmpzIiwiYXNzZXRzL3BvbWVybGVhdS9zY3JpcHRzL3V0aWxzL2dsb2JhbHMuanMiLCJhc3NldHMvcG9tZXJsZWF1L3NjcmlwdHMvdXRpbHMvaHRtbC5qcyIsImFzc2V0cy9wb21lcmxlYXUvc2NyaXB0cy91dGlscy9pcy5qcyIsImFzc2V0cy9wb21lcmxlYXUvc2NyaXB0cy91dGlscy92aXNpYmlsaXR5LmpzIiwibm9kZV9tb2R1bGVzL2JhcmJhLmpzL2Rpc3QvYmFyYmEuanMiLCJub2RlX21vZHVsZXMvcmFjdGl2ZS1ldmVudHMtdGFwL2Rpc3QvcmFjdGl2ZS1ldmVudHMtdGFwLnVtZC5qcyIsIm5vZGVfbW9kdWxlcy9yYWN0aXZlLXRyYW5zaXRpb25zLWZhZGUvZGlzdC9yYWN0aXZlLXRyYW5zaXRpb25zLWZhZGUudW1kLmpzIiwibm9kZV9tb2R1bGVzL3Ntb290aC1zY3JvbGxiYXIvZGlzdC9zbW9vdGgtc2Nyb2xsYmFyLmpzIiwibm9kZV9tb2R1bGVzL3Rocm90dGxlZC1yZXNpemUvZGlzdC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy93b2xmeTg3LWV2ZW50ZW1pdHRlci9FdmVudEVtaXR0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0NBOztBQUNBOztBQUdBOzs7O0FBR0E7O0lBQVksTzs7Ozs7OzBKQVJaOzs7QUFJQTs7O0FBR0E7OztJQUdNLEc7QUFDTCxnQkFBYztBQUFBOztBQUFBOztBQUNiLE9BQUssT0FBTCxHQUFlLE9BQWY7QUFDQSxPQUFLLGNBQUwsR0FBc0IsRUFBdEI7O0FBRUEseUJBQVUsRUFBVixDQUFhLGlCQUFiLEVBQWdDLFVBQUMsS0FBRCxFQUFXO0FBQzFDLFNBQUssV0FBTCxDQUFpQixNQUFNLFVBQXZCLEVBQ0UsYUFERixHQUVFLFdBRkY7QUFHQSxHQUpEO0FBS0E7O0FBRUQ7Ozs7OztlQUlBLGEsNEJBQWdCO0FBQ2Y7QUFDQSxNQUFJLElBQUksS0FBSyxjQUFMLENBQW9CLE1BQTVCOztBQUVBO0FBQ0EsU0FBTyxHQUFQLEVBQVk7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdxREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbE5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3QkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyoganNoaW50IGVzbmV4dDogdHJ1ZSAqL1xuaW1wb3J0IHsgJGRvY3VtZW50LCAkd2luZG93LCAkaHRtbCwgJGJvZHkgfSBmcm9tICcuL3V0aWxzL2Vudmlyb25tZW50JztcbmltcG9ydCB7IGdldE5vZGVEYXRhIH0gZnJvbSAnLi91dGlscy9odG1sJztcblxuLy8gR2xvYmFsIGZ1bmN0aW9ucyBhbmQgdG9vbHNcbmltcG9ydCBnbG9iYWxzIGZyb20gJy4vdXRpbHMvZ2xvYmFscyc7XG5cbi8vIEJhc2ljIG1vZHVsZXNcbmltcG9ydCAqIGFzIG1vZHVsZXMgZnJvbSAnLi9tb2R1bGVzJztcblxuY2xhc3MgQXBwIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5tb2R1bGVzID0gbW9kdWxlcztcblx0XHR0aGlzLmN1cnJlbnRNb2R1bGVzID0gW107XG5cblx0XHQkZG9jdW1lbnQub24oJ2luaXRNb2R1bGVzLkFwcCcsIChldmVudCkgPT4ge1xuXHRcdFx0dGhpcy5pbml0R2xvYmFscyhldmVudC5maXJzdEJsb29kKVxuXHRcdFx0XHQuZGVsZXRlTW9kdWxlcygpXG5cdFx0XHRcdC5pbml0TW9kdWxlcygpO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlc3Ryb3kgYWxsIGV4aXN0aW5nIG1vZHVsZXNcblx0ICogQHJldHVybiAge09iamVjdH0gIHRoaXMgIEFsbG93cyBjaGFpbmluZ1xuXHQgKi9cblx0ZGVsZXRlTW9kdWxlcygpIHtcblx0XHQvLyBvb3AgbW9kdWxlc1xuXHRcdHZhciBpID0gdGhpcy5jdXJyZW50TW9kdWxlcy5sZW5ndGg7XG5cblx0XHQvLyBEZXN0cm95IGFsbCBtb2R1bGVzXG5cdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0dGhpcy5jdXJyZW50TW9kdWxlc1tpXS5kZXN0cm95KCk7XG5cdFx0XHR0aGlzLmN1cnJlbnRNb2R1bGVzLnNwbGljZShpKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBFeGVjdXRlIGdsb2JhbCBmdW5jdGlvbnMgYW5kIHNldHRpbmdzXG5cdCAqIEFsbG93cyB5b3UgdG8gaW5pdGlhbGl6ZSBnbG9iYWwgbW9kdWxlcyBvbmx5IG9uY2UgaWYgeW91IG5lZWRcblx0ICogKGV4Ljogd2hlbiB1c2luZyBCYXJiYS5qcyBvciBTbW9vdGhTdGF0ZS5qcylcblx0ICogQHJldHVybiAge09iamVjdH0gIHRoaXMgIEFsbG93cyBjaGFpbmluZ1xuXHQgKi9cblx0aW5pdEdsb2JhbHMoZmlyc3RCbG9vZCkge1xuXHRcdGdsb2JhbHMoZmlyc3RCbG9vZCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogRmluZCBtb2R1bGVzIGFuZCBpbml0aWFsaXplIHRoZW1cblx0ICogQHJldHVybiAge09iamVjdH0gIHRoaXMgIEFsbG93cyBjaGFpbmluZ1xuXHQgKi9cblx0aW5pdE1vZHVsZXMoc2NvcGUpIHtcblx0XHRpZiAoIXNjb3BlKSB7XG5cdFx0XHRzY29wZSA9IGRvY3VtZW50O1xuXHRcdH1cblx0XHQvLyBFbGVtZW50cyB3aXRoIG1vZHVsZVxuXHRcdHZhciBtb2R1bGVFbHMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2R1bGVdJyk7XG5cblx0XHQvLyBMb29wIHRocm91Z2ggZWxlbWVudHNcblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIGVsc0xlbiA9IG1vZHVsZUVscy5sZW5ndGg7XG5cblx0XHRmb3IgKDsgaSA8IGVsc0xlbjsgaSsrKSB7XG5cblx0XHRcdC8vIEN1cnJlbnQgZWxlbWVudFxuXHRcdFx0bGV0IGVsID0gbW9kdWxlRWxzW2ldO1xuXG5cdFx0XHQvLyBBbGwgZGF0YS0gYXR0cmlidXRlcyBjb25zaWRlcmVkIGFzIG9wdGlvbnNcblx0XHRcdGxldCBvcHRpb25zID0gZ2V0Tm9kZURhdGEoZWwpO1xuXG5cdFx0XHQvLyBBZGQgY3VycmVudCBET00gZWxlbWVudCBhbmQgalF1ZXJ5IGVsZW1lbnRcblx0XHRcdG9wdGlvbnMuZWwgPSBlbDtcblx0XHRcdG9wdGlvbnMuJGVsID0gJChlbCk7XG5cblx0XHRcdC8vIE1vZHVsZSBkb2VzIGV4aXN0IGF0IHRoaXMgcG9pbnRcblx0XHRcdGxldCBhdHRyID0gb3B0aW9ucy5tb2R1bGU7XG5cblx0XHRcdC8vIFNwbGl0dGluZyBtb2R1bGVzIGZvdW5kIGluIHRoZSBkYXRhLWF0dHJpYnV0ZVxuXHRcdFx0bGV0IG1vZHVsZUlkZW50cyA9IGF0dHIucmVwbGFjZSgvXFxzL2csICcnKS5zcGxpdCgnLCcpO1xuXG5cdFx0XHQvLyBMb29wIG1vZHVsZXNcblx0XHRcdGxldCBqID0gMDtcblx0XHRcdGxldCBtb2R1bGVzTGVuID0gbW9kdWxlSWRlbnRzLmxlbmd0aDtcblxuXHRcdFx0Zm9yICg7IGogPCBtb2R1bGVzTGVuOyBqKyspIHtcblx0XHRcdFx0bGV0IG1vZHVsZUF0dHIgPSBtb2R1bGVJZGVudHNbal07XG5cblx0XHRcdFx0aWYgKHR5cGVvZiB0aGlzLm1vZHVsZXNbbW9kdWxlQXR0cl0gPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRsZXQgbW9kdWxlID0gbmV3IHRoaXMubW9kdWxlc1ttb2R1bGVBdHRyXShvcHRpb25zKTtcblx0XHRcdFx0XHR0aGlzLmN1cnJlbnRNb2R1bGVzLnB1c2gobW9kdWxlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59XG5cbi8vIElJRkUgZm9yIGxvYWRpbmcgdGhlIGFwcGxpY2F0aW9uXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKGZ1bmN0aW9uKCkge1xuXHRsZXQgbG9hZGVkID0gZmFsc2U7XG5cdGxldCBtYXhMb2FkID0gMzAwMDtcblxuXHQvLyBPbiBsb2FkXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdCR3aW5kb3cub24oJ2xvYWQnLCBmdW5jdGlvbigpIHtcblx0XHRpZighbG9hZGVkKSB7XG5cdFx0XHRsb2FkZWQgPSB0cnVlO1xuXHRcdFx0bG9hZCgpO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gTWF4aW11bSBsb2FkXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0aWYoIWxvYWRlZCkge1xuXHRcdFx0bG9hZGVkID0gdHJ1ZTtcblx0XHRcdGxvYWQoKTtcblx0XHR9XG5cdH0sIG1heExvYWQpO1xuXG5cdC8vIExvYWRcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0ZnVuY3Rpb24gbG9hZCgpIHtcblx0XHR3aW5kb3cuQXBwID0gbmV3IEFwcCgpO1xuXHRcdCRkb2N1bWVudC50cmlnZ2VyKHtcblx0XHRcdHR5cGU6ICdpbml0TW9kdWxlcy5BcHAnLFxuXHRcdFx0Zmlyc3RCbG9vZDogdHJ1ZVxuXHRcdH0pO1xuXG5cdFx0aWYgKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9FZGdlLykgfHwgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1RyaWRlbnQvKSkge1xuXHRcdFx0JGJvZHkuYWRkQ2xhc3MoJ2lzLWllJyk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogMTE5OXB4KVwiKS5tYXRjaGVzKSB7XG5cdFx0YWRkTG9hZENsYXNzKCk7XG5cdH0gZWxzZSBpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiAxMjAwcHgpXCIpLm1hdGNoZXMpIHtcblx0XHQkZG9jdW1lbnQub24oJ1Ntb290aFNjcm9sbC5pc1JlYWR5JywgKGV2ZW50KSA9PiB7XG5cdFx0XHRhZGRMb2FkQ2xhc3MoKTtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGFkZExvYWRDbGFzcygpIHtcblx0XHQkYm9keS5hZGRDbGFzcygnaXMtbG9hZGVkJyk7XG5cblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0JGJvZHkuYWRkQ2xhc3MoJ2lzLWFuaW1hdGVkJyk7XG5cdFx0fSwgNjAwKTtcblx0fVxufSkoKTtcblxuXG4kKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLm8tbGlzdC10YWJsZV9pdGVtLmxpc3QtdG9nZ2xlLWNsaWNrXCIsIGZ1bmN0aW9uKCl7XG4gICAgaWYoISQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5maW5kKFwiLmxpc3QtdG9nZ2xlLWNsaWNrXCIpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5maW5kKFwiLmxpc3QtdG9nZ2xlLWNsaWNrIC5jb250ZW50LXRvZ2dsZVwiKS5zbGlkZVVwKCdmYXN0Jyk7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH1lbHNle1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICB9XG4gICAgJCh0aGlzKS5maW5kKFwiLmNvbnRlbnQtdG9nZ2xlXCIpLnNsaWRlVG9nZ2xlKFwiZmFzdFwiKTtcbn0pO1xuXG4kKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLmMtdGVhbV9pdGVtIC5jLXRlYW1faW1hZ2UgLmNvbnRlbnQtaW5uZXItY2xpY2tcIiwgZnVuY3Rpb24oKXtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbn0pOyIsImltcG9ydCB7ICRkb2N1bWVudCwgJGh0bWwsICRib2R5LCAkd2luZG93IH0gZnJvbSAnLi4vdXRpbHMvZW52aXJvbm1lbnQnO1xuXG4vKipcbiAqIExpc3Qgb2YgVHJhbnNpdGlvbnNcbiAqL1xuY29uc3QgdHJhbnNpdGlvbnMgPSB7XG5cdG1haW5UcmFuc2l0aW9uOiB7XG5cdFx0c3RhcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0JGJvZHkucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRlZCBpcy1hbmltYXRlZCBoYXMtbmF2LW5ld3Mtb3BlbicpO1xuXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0dGhpcy5uZXdDb250YWluZXJMb2FkaW5nLnRoZW4odGhpcy5maW5pc2guYmluZCh0aGlzKSk7XG5cdFx0XHR9LCA2MDApXG5cdFx0fSxcblx0XHRmaW5pc2g6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5kb25lKCk7XG5cblx0XHRcdGxldCAkZWwgPSAkKHRoaXMubmV3Q29udGFpbmVyKTtcbiAgICAgICAgICAgIGxldCB0ZW1wbGF0ZU5hbWUgPSAkZWwuZGF0YSgndGVtcGxhdGUnKTtcbiAgICAgICAgICAgICRib2R5LmF0dHIoJ2RhdGEtdGVtcGxhdGUnLCB0ZW1wbGF0ZU5hbWUpO1xuXG4gICAgICAgICAgICAvL3JlaW5pdCBtb2R1bGVzXG5cdFx0XHRsZXQgYXBwID0gd2luZG93LkFwcDtcblx0XHRcdGFwcC5kZWxldGVNb2R1bGVzKCk7XG5cdFx0XHRhcHAuaW5pdE1vZHVsZXMoKTtcblxuXHRcdFx0aWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogMTE5OXB4KVwiKS5tYXRjaGVzKSB7XG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gMDtcblx0XHRcdFx0JGJvZHkuYWRkQ2xhc3MoJ2lzLWxvYWRlZCcpO1xuXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0JGJvZHkuYWRkQ2xhc3MoJ2lzLWFuaW1hdGVkJyk7XG5cdFx0XHRcdH0sIDYwMCk7XG5cdFx0XHR9IGVsc2UgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogMTIwMHB4KVwiKS5tYXRjaGVzKSB7XG5cdCAgICAgICAgICAgICRkb2N1bWVudC5vbignU21vb3RoU2Nyb2xsLmlzUmVhZHknLCAoZXZlbnQpID0+IHtcblx0XHRcdFx0XHQkYm9keS5hZGRDbGFzcygnaXMtbG9hZGVkJyk7XG5cblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0JGJvZHkuYWRkQ2xhc3MoJ2lzLWFuaW1hdGVkJyk7XG5cdFx0XHRcdFx0fSwgNjAwKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRuYXZUcmFuc2l0aW9uOiB7XG5cdFx0c3RhcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0JGJvZHkucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRlZCBpcy1hbmltYXRlZCcpLmFkZENsYXNzKCdpcy1sb2FkaW5nJyk7XG5cblx0XHRcdHNldFRpbWVvdXQoKCk9Pntcblx0XHRcdFx0JGJvZHkucmVtb3ZlQ2xhc3MoJ2hhcy1uYXYtb3BlbicpO1xuXHRcdFx0fSw2MCk7XG5cblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXG5cdFx0XHRcdHRoaXMubmV3Q29udGFpbmVyTG9hZGluZy50aGVuKHRoaXMuZmluaXNoLmJpbmQodGhpcykpO1xuXHRcdFx0fSwgODAwKTtcblx0XHR9LFxuXHRcdGZpbmlzaDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmRvbmUoKTtcblxuXHRcdFx0bGV0ICRlbCA9ICQodGhpcy5uZXdDb250YWluZXIpO1xuICAgICAgICAgICAgbGV0IHRlbXBsYXRlTmFtZSA9ICRlbC5kYXRhKCd0ZW1wbGF0ZScpO1xuICAgICAgICAgICAgJGJvZHkuYXR0cignZGF0YS10ZW1wbGF0ZScsIHRlbXBsYXRlTmFtZSk7XG5cbiAgICAgICAgICAgIC8vcmVpbml0IG1vZHVsZXNcblx0XHRcdGxldCBhcHAgPSB3aW5kb3cuQXBwO1xuXHRcdFx0YXBwLmRlbGV0ZU1vZHVsZXMoKTtcblx0XHRcdGFwcC5pbml0TW9kdWxlcygpO1xuXG5cdFx0XHRpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiAxMTk5cHgpXCIpLm1hdGNoZXMpIHtcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSAwO1xuXHRcdFx0XHQkYm9keS5yZW1vdmVDbGFzcygnaXMtbG9hZGluZycpO1xuXHRcdFx0XHQkYm9keS5hZGRDbGFzcygnaXMtbG9hZGVkJyk7XG5cblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkYm9keS5hZGRDbGFzcygnaXMtYW5pbWF0ZWQnKTtcblx0XHRcdFx0fSwgNjAwKTtcblx0XHRcdH0gZWxzZSBpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiAxMjAwcHgpXCIpLm1hdGNoZXMpIHtcblx0ICAgICAgICAgICAgJGRvY3VtZW50Lm9uKCdTbW9vdGhTY3JvbGwuaXNSZWFkeScsIChldmVudCkgPT4ge1xuXHQgICAgICAgICAgICBcdCRib2R5LnJlbW92ZUNsYXNzKCdpcy1sb2FkaW5nJyk7XG5cdFx0XHRcdFx0JGJvZHkuYWRkQ2xhc3MoJ2lzLWxvYWRlZCcpO1xuXG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdCRib2R5LmFkZENsYXNzKCdpcy1hbmltYXRlZCcpO1xuXHRcdFx0XHRcdH0sIDYwMCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0c2VjdGlvblRyYW5zaXRpb246IHtcblx0XHRzdGFydDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIFNjcm9sbCB0byB0b3Bcblx0XHRcdCRkb2N1bWVudC50cmlnZ2VyKHtcblx0XHRcdFx0dHlwZTogJ1Ntb290aFNjcm9sbC5nb1RvVG9wJ1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMub2xkSGVhZGVyID0gJCgnLmpzLWhlYWRlci1ob21lJyk7XG5cblx0XHRcdHRoaXMub3B0aW9uID0gJGJvZHkuYXR0cignZGF0YS1yb3V0ZS1vcHRpb24nKTtcblxuXHRcdFx0aWYodGhpcy5vcHRpb24gPT09ICduZXh0LXNlY3Rpb24nKXtcblx0XHRcdFx0dGhpcy5vbGRIZWFkZXIuYWRkQ2xhc3MoJ2lzLXByZXYnKTtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHR0aGlzLm9sZEhlYWRlci5hZGRDbGFzcygnaXMtbmV4dCcpO1xuXHRcdFx0fVxuXG5cdFx0XHQkYm9keS5hZGRDbGFzcygnaXMtbG9hZGluZycpO1xuXHRcdFx0JGJvZHkucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRlZCcpO1xuXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0dGhpcy5uZXdDb250YWluZXJMb2FkaW5nLnRoZW4odGhpcy5maW5pc2guYmluZCh0aGlzKSk7XG5cdFx0XHR9LCAxMjAwKTtcblxuXHRcdH0sXG5cdFx0ZmluaXNoOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0dGhpcy5kb25lKCk7XG5cblx0XHRcdGxldCAkZWwgPSAkKHRoaXMubmV3Q29udGFpbmVyKTtcblx0XHRcdHRoaXMubmV3SGVhZGVyID0gJCgnLmpzLWhlYWRlci1ob21lJywkZWwpO1xuXG5cdFx0XHRpZih0aGlzLm9wdGlvbiA9PT0gJ25leHQtc2VjdGlvbicpe1xuXHRcdFx0XHR0aGlzLm5ld0hlYWRlci5hZGRDbGFzcygnaXMtbmV4dC1zZWN0aW9uJyk7XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0dGhpcy5uZXdIZWFkZXIuYWRkQ2xhc3MoJ2lzLXByZXYtc2VjdGlvbicpO1xuXHRcdFx0fVxuXG4gICAgICAgICAgICBsZXQgdGVtcGxhdGVOYW1lID0gJGVsLmRhdGEoJ3RlbXBsYXRlJyk7XG4gICAgICAgICAgICAkYm9keS5hdHRyKCdkYXRhLXRlbXBsYXRlJywgdGVtcGxhdGVOYW1lKTtcblxuICAgICAgICAgICAgLy9yZWluaXQgbW9kdWxlc1xuXHRcdFx0bGV0IGFwcCA9IHdpbmRvdy5BcHA7XG5cdFx0XHRhcHAuZGVsZXRlTW9kdWxlcygpO1xuXHRcdFx0YXBwLmluaXRNb2R1bGVzKCk7XG5cblx0XHRcdHNldFRpbWVvdXQoKCk9Pntcblx0XHRcdFx0dGhpcy5uZXdIZWFkZXIucmVtb3ZlQ2xhc3MoJ2lzLXByZXYtc2VjdGlvbiBpcy1uZXh0LXNlY3Rpb24nKTtcblx0XHRcdH0sMzAwKTtcblxuXHRcdFx0aWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogMTE5OXB4KVwiKS5tYXRjaGVzKSB7XG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gMDtcblx0XHRcdFx0JGJvZHkucmVtb3ZlQ2xhc3MoJ2lzLWxvYWRpbmcnKTtcblx0XHRcdFx0JGJvZHkuYWRkQ2xhc3MoJ2lzLWxvYWRlZCcpO1xuXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0JGJvZHkuYWRkQ2xhc3MoJ2lzLWFuaW1hdGVkJyk7XG5cdFx0XHRcdH0sIDYwMCk7XG5cdFx0XHR9IGVsc2UgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogMTIwMHB4KVwiKS5tYXRjaGVzKSB7XG5cdCAgICAgICAgICAgICRkb2N1bWVudC5vbignU21vb3RoU2Nyb2xsLmlzUmVhZHknLCAoZXZlbnQpID0+IHtcblx0ICAgICAgICAgICAgXHQkYm9keS5yZW1vdmVDbGFzcygnaXMtbG9hZGluZycpO1xuXHRcdFx0XHRcdCRib2R5LmFkZENsYXNzKCdpcy1sb2FkZWQnKTtcblxuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHQkYm9keS5hZGRDbGFzcygnaXMtYW5pbWF0ZWQnKTtcblx0XHRcdFx0XHR9LCA2MDApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IHsgdHJhbnNpdGlvbnMgfTtcbiIsIi8qIGpzaGludCBlc25leHQ6IHRydWUgKi9cbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlscy9pcyc7XG5pbXBvcnQgeyBhcnJheUNvbnRhaW5zLCBmaW5kQnlLZXlWYWx1ZSwgcmVtb3ZlRnJvbUFycmF5IH0gZnJvbSAnLi4vdXRpbHMvYXJyYXknO1xuaW1wb3J0IHsgJGRvY3VtZW50IH0gZnJvbSAnLi4vdXRpbHMvZW52aXJvbm1lbnQnO1xuXG5jb25zdCBERVBFTkRFTkNJRVMgPSBbXTtcblxuY29uc3QgUFJFRklYID0gJ2RlcGVuZGVuY3ktJztcblxudmFyIFVVSUQgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkRGVwZW5kZW5jeShzb3VyY2UsIHRhcmdldCkge1xuXHR2YXIgaWRlbnQgPSBQUkVGSVggKyBVVUlEKys7XG5cblx0REVQRU5ERU5DSUVTLnB1c2goe1xuXHRcdGlkZW50OiBpZGVudCxcblx0XHR0YXJnZXQ6IHRhcmdldCxcblx0XHRzb3VyY2U6IHNvdXJjZVxuXHR9KTtcblxuXHRyZXR1cm4gaWRlbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNEZXBlbmRlbmNpZXMoaWRlbnQpIHtcblx0dmFyIGRlcHMgPSBERVBFTkRFTkNJRVMuc2xpY2UoKS5maWx0ZXIoZnVuY3Rpb24ob2JqZWN0KSB7XG5cdFx0aWYgKG9iamVjdC50YXJnZXQgPT09IGlkZW50KSB7XG5cdFx0XHRyZXR1cm4gb2JqZWN0O1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBkZXBzLmxlbmd0aCA+IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlRGVwZW5kZW5jeShpZGVudCkge1xuXHRpZiAodHlwZW9mIGlkZW50ICA9PT0gJ3VuZGVmaW5lZCcgfHwgaWRlbnQgPT09ICcnKSB7XG5cdFx0Y29uc29sZS53YXJuKCdOZWVkIGlkZW50IHRvIHJlc29sdmUgZGVwZW5kZW5jeS4nKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHR2YXIgZGVwZW5kZW5jeSA9IGZpbmRCeUtleVZhbHVlKERFUEVOREVOQ0lFUywgJ2lkZW50JywgaWRlbnQpWzBdO1xuXG5cdGlmICh0eXBlb2YgZGVwZW5kZW5jeSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRsZXQgdGFyZ2V0ID0gZGVwZW5kZW5jeS50YXJnZXQ7XG5cblx0XHRyZW1vdmVGcm9tQXJyYXkoREVQRU5ERU5DSUVTLCBkZXBlbmRlbmN5KTtcblxuXHRcdGlmICghaGFzRGVwZW5kZW5jaWVzKHRhcmdldCkpIHtcblx0XHRcdCRkb2N1bWVudC50cmlnZ2VyKCdyZXNvbHZlRGVwZW5kZW5jaWVzLicgKyB0YXJnZXQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybignRGVwZW5kZW5jeSBjb3VsZCBub3QgYmUgZm91bmQnKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cbiIsIi8qIGpzaGludCBlc25leHQ6IHRydWUgKi9cbnZhciBpc0FuaW1hdGluZyA9IGZhbHNlO1xuXG52YXIgZGVmYXVsdHMgPSB7XG4gICAgZWFzaW5nOiAnc3dpbmcnLFxuICAgIGhlYWRlck9mZnNldDogNjAsXG4gICAgc3BlZWQ6IDMwMFxufTtcblxuLyoqXG4gKiBzY3JvbGxUbyBpcyBhIGZ1bmN0aW9uIHRoYXQgc2Nyb2xscyBhIGNvbnRhaW5lciB0byBhbiBlbGVtZW50J3MgcG9zaXRpb24gd2l0aGluIHRoYXQgY29udHJvbGxlclxuICogVXNlcyBqUXVlcnkncyAkLkRlZmVycmVkIHRvIGFsbG93IHVzaW5nIGEgY2FsbGJhY2sgb24gYW5pbWF0aW9uIGNvbXBsZXRpb25cbiAqIEBwYXJhbSAgIHtvYmplY3R9ICAkZWxlbWVudCAgQSBqUXVlcnkgbm9kZVxuICogQHBhcmFtICAge29iamVjdH0gIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFRvKCRlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdmFyIGRlZmVycmVkID0gJC5EZWZlcnJlZCgpO1xuXG4gICAgLy8gRHJvcCBldmVyeXRoaW5nIGlmIHRoaXMgYWluJ3QgYSBqUXVlcnkgb2JqZWN0XG4gICAgaWYgKCRlbGVtZW50IGluc3RhbmNlb2YgalF1ZXJ5ICYmICRlbGVtZW50Lmxlbmd0aCA+IDApIHtcblxuICAgICAgICAvLyBNZXJnaW5nIG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgKHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMgOiB7fSkpO1xuXG4gICAgICAgIC8vIFByZXZlbnRzIGFjY3VtdWxhdGlvbiBvZiBhbmltYXRpb25zXG4gICAgICAgIGlmIChpc0FuaW1hdGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlzQW5pbWF0aW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gRGVmYXVsdCBjb250YWluZXIgdGhhdCB3ZSdsbCBiZSBzY3JvbGxpbmdcbiAgICAgICAgICAgIHZhciAkY29udGFpbmVyID0gJCgnaHRtbCwgYm9keScpO1xuICAgICAgICAgICAgdmFyIGVsZW1lbnRPZmZzZXQgPSAwO1xuXG4gICAgICAgICAgICAvLyBUZXN0aW5nIGNvbnRhaW5lciBpbiBvcHRpb25zIGZvciBqUXVlcnktbmVzc1xuICAgICAgICAgICAgLy8gSWYgd2UncmUgbm90IHVzaW5nIGEgY3VzdG9tIGNvbnRhaW5lciwgd2UgdGFrZSB0aGUgdG9wIGRvY3VtZW50IG9mZnNldFxuICAgICAgICAgICAgLy8gSWYgd2UgYXJlLCB3ZSB1c2UgdGhlIGVsZW1lbnRzIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBjb250YWluZXJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy4kY29udGFpbmVyICE9PSAndW5kZWZpbmVkJyAmJiBvcHRpb25zLiRjb250YWluZXIgaW5zdGFuY2VvZiBqUXVlcnkgJiYgb3B0aW9ucy4kY29udGFpbmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAkY29udGFpbmVyID0gb3B0aW9ucy4kY29udGFpbmVyO1xuICAgICAgICAgICAgICAgIGVsZW1lbnRPZmZzZXQgPSAkZWxlbWVudC5wb3NpdGlvbigpLnRvcFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50T2Zmc2V0ID0gJGVsZW1lbnQub2Zmc2V0KCkudG9wXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRjb250YWluZXIuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBlbGVtZW50T2Zmc2V0IC0gb3B0aW9ucy5oZWFkZXJPZmZzZXRcbiAgICAgICAgICAgIH0sIG9wdGlvbnMuc3BlZWQsIG9wdGlvbnMuZWFzaW5nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpc0FuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcbn1cbiIsIi8qIGpzaGludCBlc25leHQ6IHRydWUgKi9cbmV4cG9ydCB7ZGVmYXVsdCBhcyBOYXZ9IGZyb20gJy4vbW9kdWxlcy9OYXYnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIERyb3Bkb3dufSBmcm9tICcuL21vZHVsZXMvRHJvcGRvd24nO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFNsaWRlckhvbWV9IGZyb20gJy4vbW9kdWxlcy9TbGlkZXJIb21lJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBTbGlkZXJQYWdlfSBmcm9tICcuL21vZHVsZXMvU2xpZGVyUGFnZSc7XG5leHBvcnQge2RlZmF1bHQgYXMgU2xpZGVyUHJvamVjdH0gZnJvbSAnLi9tb2R1bGVzL1NsaWRlclByb2plY3QnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIExpZ2h0Ym94VmlkZW99IGZyb20gJy4vbW9kdWxlcy9MaWdodGJveFZpZGVvJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBIZWFkZXJQYWdlfSBmcm9tICcuL21vZHVsZXMvSGVhZGVyUGFnZSc7XG5leHBvcnQge2RlZmF1bHQgYXMgQ2Fyb3VzZWx9IGZyb20gJy4vbW9kdWxlcy9DYXJvdXNlbCc7XG5leHBvcnQge2RlZmF1bHQgYXMgQ2Fyb3VzZWxUaW1lcn0gZnJvbSAnLi9tb2R1bGVzL0Nhcm91c2VsVGltZXInO1xuZXhwb3J0IHtkZWZhdWx0IGFzIENhcm91c2VsTmV3c30gZnJvbSAnLi9tb2R1bGVzL0Nhcm91c2VsTmV3cyc7XG5leHBvcnQge2RlZmF1bHQgYXMgU21vb3RoU2Nyb2xsaW5nfSBmcm9tICcuL21vZHVsZXMvU21vb3RoU2Nyb2xsaW5nJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBOYXZOZXdzfSBmcm9tICcuL21vZHVsZXMvTmF2TmV3cyc7XG5leHBvcnQge2RlZmF1bHQgYXMgTmV3c30gZnJvbSAnLi9tb2R1bGVzL05ld3MnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIExvY2F0aW9uU3dpdGNoZXJ9IGZyb20gJy4vbW9kdWxlcy9Mb2NhdGlvblN3aXRjaGVyJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBGaWx0ZXJzfSBmcm9tICcuL21vZHVsZXMvRmlsdGVycyc7XG5leHBvcnQge2RlZmF1bHQgYXMgQ29udGFjdEZvcm19IGZyb20gJy4vbW9kdWxlcy9Db250YWN0Rm9ybSc7XG5leHBvcnQge2RlZmF1bHQgYXMgUGFnZVRyYW5zaXRpb25zTWFuYWdlcn0gZnJvbSAnLi9tb2R1bGVzL1BhZ2VUcmFuc2l0aW9uc01hbmFnZXInO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFNlYXJjaH0gZnJvbSAnLi9tb2R1bGVzL1NlYXJjaCc7XG5leHBvcnQge2RlZmF1bHQgYXMgU2ltaWxhclN3aXRjaGVyfSBmcm9tICcuL21vZHVsZXMvU2ltaWxhclN3aXRjaGVyJztcbiIsIi8qIGpzaGludCBlc25leHQ6IHRydWUgKi9cbmltcG9ydCB7ICRkb2N1bWVudCwgJHdpbmRvdywgJGh0bWwsICRib2R5IH0gZnJvbSAnLi4vdXRpbHMvZW52aXJvbm1lbnQnO1xuXG4vKipcbiAqIEFic3RyYWN0IG1vZHVsZVxuICogR2l2ZXMgYWNjZXNzIHRvIGdlbmVyaWMgalF1ZXJ5IG5vZGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHRoaXMuJGRvY3VtZW50ID0gJGRvY3VtZW50O1xuXHRcdHRoaXMuJHdpbmRvdyA9ICR3aW5kb3c7XG5cdFx0dGhpcy4kaHRtbCA9ICRodG1sO1xuXHRcdHRoaXMuJGJvZHkgPSAkYm9keTtcblx0XHR0aGlzLiRlbCA9IG9wdGlvbnMuJGVsO1xuXHRcdHRoaXMuZWwgPSBvcHRpb25zLmVsO1xuXHR9XG5cblx0dW5lc2NhcGVIVE1MKHN0cmluZykge1xuXHRcdHJldHVybiBzdHJpbmcucmVwbGFjZSgvJmx0Oy9nLCc8JykucmVwbGFjZSgvJmd0Oy9nLCc+JykucmVwbGFjZSgvJmFtcDsvZywnJicpO1xuXHR9XG59XG4iLCIvKiBqc2hpbnQgZXNuZXh0OiB0cnVlICovXG5pbXBvcnQgQWJzdHJhY3RNb2R1bGUgZnJvbSAnLi9BYnN0cmFjdE1vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RNb2R1bGUge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cblx0XHR0aGlzLiRlbC5vbignY2xpY2suQnV0dG9uJywgKGV2ZW50KSA9PiB7XG5cdFx0XHR0aGlzLiRkb2N1bWVudC50cmlnZ2VyKCdUaXRsZS5jaGFuZ2VMYWJlbCcsIFskKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnZhbCgpXSk7XG5cdFx0fSk7XG5cdH1cblxuXHRkZXN0cm95KCkge1xuXHRcdHRoaXMuJGVsLm9mZignLkJ1dHRvbicpO1xuXHR9XG59XG4iLCIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gR2VuZXJpYyBtb2R1bGVcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5pbXBvcnQgQWJzdHJhY3RNb2R1bGUgZnJvbSAnLi9BYnN0cmFjdE1vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RNb2R1bGUge1xuXHRjb25zdHJ1Y3RvciAob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXG5cdFx0dGhpcy5pbml0U2xpY2soKTtcblx0fVxuXG5cdC8vIEluaXQgc2xpY2tcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0aW5pdFNsaWNrKCkge1xuXHRcdHRoaXMuJGVsLnNsaWNrKHtcblx0XHRcdGFycm93czogdHJ1ZSxcblx0XHRcdGRvdHM6IGZhbHNlLFxuXHRcdFx0c3BlZWQ6IDYwMCxcblx0XHRcdGNzc0Vhc2U6ICdjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpJyxcblx0XHRcdHByZXZBcnJvdzogJzxidXR0b24gY2xhc3M9XCJjLWNhcm91c2VsX2Fycm93IC1wcmV2IG8tYnV0dG9uIC1zcXVhcmUgLWxlZnRcIiB0eXBlPVwiYnV0dG9uXCI+PHNwYW4gY2xhc3M9XCJvLWJ1dHRvbl9sYWJlbFwiPjxzdmcgY2xhc3M9XCJvLWJ1dHRvbl9pY29uXCIgcm9sZT1cImltZ1wiIHRpdGxlPVwiUHJldmlvdXNcIj48dXNlIHhsaW5rOmhyZWY9XCJhc3NldHMvcG9tZXJsZWF1L2ltYWdlcy9zcHJpdGUuc3ZnI2Fycm93LXByZXZcIj48L3VzZT48L3N2Zz48L3NwYW4+PC9idXR0b24+Jyxcblx0XHRcdG5leHRBcnJvdzogJzxidXR0b24gY2xhc3M9XCJjLWNhcm91c2VsX2Fycm93IC1uZXh0IG8tYnV0dG9uIC1zcXVhcmUgLXJpZ2h0XCIgdHlwZT1cImJ1dHRvblwiPjxzcGFuIGNsYXNzPVwiby1idXR0b25fbGFiZWxcIj48c3ZnIGNsYXNzPVwiby1idXR0b25faWNvblwiIHJvbGU9XCJpbWdcIiB0aXRsZT1cIk5leHRcIj48dXNlIHhsaW5rOmhyZWY9XCJhc3NldHMvcG9tZXJsZWF1L2ltYWdlcy9zcHJpdGUuc3ZnI2Fycm93LW5leHRcIj48L3VzZT48L3N2Zz48L3NwYW4+PC9idXR0b24+Jyxcblx0XHRcdC8vIG1vYmlsZUZpcnN0OiB0cnVlLFxuXHRcdFx0Ly8gcmVzcG9uc2l2ZTogW1xuXHRcdFx0Ly8gXHR7XG5cdCAgLy8gICBcdFx0XHRicmVha3BvaW50OiA3MDAsXG5cdCAgLy8gICBcdFx0XHRzZXR0aW5nczoge1xuXHQgIC8vICAgXHRcdFx0XHRjZW50ZXJNb2RlOiB0cnVlLFxuXHQgIC8vICAgXHRcdFx0XHRjZW50ZXJQYWRkaW5nOiAnMjQwcHgnXG5cdCAgLy8gICBcdFx0XHR9XG5cdCAgLy8gICBcdFx0fVxuXHQgIC8vICAgXHRdXG5cdCAgICB9KTtcblx0fVxuXG5cdC8vIERlc3Ryb3lcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0ZGVzdHJveSgpIHtcblx0XHR0aGlzLiRlbC5vZmYoKTtcblx0fVxufVxuIiwiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEdlbmVyaWMgbW9kdWxlXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuaW1wb3J0IEFic3RyYWN0TW9kdWxlIGZyb20gJy4vQWJzdHJhY3RNb2R1bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEFic3RyYWN0TW9kdWxlIHtcblx0Y29uc3RydWN0b3IgKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblxuXHRcdHRoaXMuaW5pdFNsaWNrKCk7XG5cdH1cblxuXHQvLyBJbml0IHNsaWNrXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGluaXRTbGljaygpIHtcblx0XHR0aGlzLiRlbC5zbGljayh7XG5cdFx0XHRhcnJvd3M6IHRydWUsXG5cdFx0XHRkb3RzOiBmYWxzZSxcblx0XHRcdHNwZWVkOiA2MDAsXG5cdFx0XHRjc3NFYXNlOiAnY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKScsXG5cdFx0XHRwcmV2QXJyb3c6ICc8YnV0dG9uIGNsYXNzPVwiYy1jYXJvdXNlbF9hcnJvdyAtcHJldiBvLWJ1dHRvbiAtc3F1YXJlIC1sZWZ0XCIgdHlwZT1cImJ1dHRvblwiPjxzcGFuIGNsYXNzPVwiby1idXR0b25fbGFiZWxcIj48c3ZnIGNsYXNzPVwiby1idXR0b25faWNvblwiIHJvbGU9XCJpbWdcIiB0aXRsZT1cIlByZXZpb3VzXCI+PHVzZSB4bGluazpocmVmPVwiYXNzZXRzL3BvbWVybGVhdS9pbWFnZXMvc3ByaXRlLnN2ZyNhcnJvdy1wcmV2XCI+PC91c2U+PC9zdmc+PC9zcGFuPjwvYnV0dG9uPicsXG5cdFx0XHRuZXh0QXJyb3c6ICc8YnV0dG9uIGNsYXNzPVwiYy1jYXJvdXNlbF9hcnJvdyAtbmV4dCBvLWJ1dHRvbiAtc3F1YXJlIC1yaWdodFwiIHR5cGU9XCJidXR0b25cIj48c3BhbiBjbGFzcz1cIm8tYnV0dG9uX2xhYmVsXCI+PHN2ZyBjbGFzcz1cIm8tYnV0dG9uX2ljb25cIiByb2xlPVwiaW1nXCIgdGl0bGU9XCJOZXh0XCI+PHVzZSB4bGluazpocmVmPVwiYXNzZXRzL3BvbWVybGVhdS9pbWFnZXMvc3ByaXRlLnN2ZyNhcnJvdy1uZXh0XCI+PC91c2U+PC9zdmc+PC9zcGFuPjwvYnV0dG9uPicsXG5cdFx0XHRtb2JpbGVGaXJzdDogdHJ1ZSxcblx0XHRcdHJlc3BvbnNpdmU6IFtcblx0XHRcdFx0e1xuXHQgICAgXHRcdFx0YnJlYWtwb2ludDogNzAwLFxuXHQgICAgXHRcdFx0c2V0dGluZ3M6IHtcblx0ICAgIFx0XHRcdFx0dmFyaWFibGVXaWR0aDogdHJ1ZSxcblx0ICAgIFx0XHRcdH1cblx0ICAgIFx0XHR9XG5cdCAgICBcdF1cblx0XHR9KTtcblx0fVxuXG5cdC8vIERlc3Ryb3lcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0ZGVzdHJveSgpIHtcblx0XHR0aGlzLiRlbC5vZmYoKTtcblx0fVxufVxuIiwiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEdlbmVyaWMgbW9kdWxlXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuaW1wb3J0IEFic3RyYWN0TW9kdWxlIGZyb20gJy4vQWJzdHJhY3RNb2R1bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEFic3RyYWN0TW9kdWxlIHtcblx0Y29uc3RydWN0b3IgKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblxuXHRcdHRoaXMuaW5pdFNsaWNrKCk7XG5cdH1cblxuXHQvLyBJbml0IHNsaWNrXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGluaXRTbGljaygpIHtcblx0XHR0aGlzLiRlbC5zbGljayh7XG5cdFx0XHRhcnJvd3M6IGZhbHNlLFxuXHRcdFx0YXV0b3BsYXk6IHRydWUsXG5cdFx0XHRhdXRvcGxheVNwZWVkOiA0MDAwLFxuXHRcdFx0ZG90czogdHJ1ZSxcblx0XHRcdHNwZWVkOiA2MDAsXG5cdFx0XHRwYXVzZU9uSG92ZXI6IGZhbHNlLFxuXHRcdFx0cGF1c2VPbkZvY3VzOiBmYWxzZSxcblx0XHRcdGluZmluaXRlOiB0cnVlLFxuXHRcdFx0ZmFkZTogdHJ1ZSxcblx0XHRcdGNzc0Vhc2U6ICdjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpJyxcblx0XHQgICAgY3VzdG9tUGFnaW5nIDogZnVuY3Rpb24oc2xpZGVyLCBpKSB7XG5cdFx0ICAgIFx0aSsrO1xuXHRcdCAgICBcdGlmKGkgPT09IDEpe1xuXHRcdCAgICBcdFx0cmV0dXJuICc8YnV0dG9uIGNsYXNzPVwiYy1jYXJvdXNlbF9kb3QganMtY2Fyb3VzZWwtZG90IGlzLWZpcnN0XCIgdHlwZT1cImJ1dHRvblwiPjxzcGFuIGNsYXNzPVwiYy1jYXJvdXNlbF9kb3RfbGFiZWxcIj4wJytpKyc8L3NwYW4+PHNwYW4gY2xhc3M9XCJjLWNhcm91c2VsX2RvdF9saW5lXCI+PC9zcGFuPjwvYnV0dG9uPic7XG5cdFx0ICAgIFx0fSBlbHNlIHtcblx0XHQgICAgXHRcdHJldHVybiAnPGJ1dHRvbiBjbGFzcz1cImMtY2Fyb3VzZWxfZG90IGpzLWNhcm91c2VsLWRvdFwiIHR5cGU9XCJidXR0b25cIj48c3BhbiBjbGFzcz1cImMtY2Fyb3VzZWxfZG90X2xhYmVsXCI+MCcraSsnPC9zcGFuPjxzcGFuIGNsYXNzPVwiYy1jYXJvdXNlbF9kb3RfbGluZVwiPjwvc3Bhbj48L2J1dHRvbj4nO1xuXHRcdCAgICBcdH1cblx0XHQgICAgfVxuXHRcdH0pO1xuXG5cdFx0dGhpcy4kZWwuc2xpY2soJ3NsaWNrUGF1c2UnKTtcblxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0dGhpcy4kZWwuZmluZCgnLmpzLWNhcm91c2VsLWRvdC5pcy1maXJzdCcpLnJlbW92ZUNsYXNzKCdpcy1maXJzdCcpO1xuXHRcdFx0dGhpcy4kZWwuc2xpY2soJ3NsaWNrUGxheScpO1xuXHRcdH0sIDQwMDApO1xuXHR9XG5cblx0Ly8gRGVzdHJveVxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRkZXN0cm95KCkge1xuXHRcdHRoaXMuJGVsLm9mZigpO1xuXHR9XG59XG4iLCIvKiBqc2hpbnQgZXNuZXh0OiB0cnVlICovXG5pbXBvcnQgQWJzdHJhY3RNb2R1bGUgZnJvbSAnLi9BYnN0cmFjdE1vZHVsZSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBBYnN0cmFjdE1vZHVsZSB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHR0aGlzLiRpbnB1dHMgPSB0aGlzLiRlbC5maW5kKCc6aW5wdXQnKTtcblx0XHR0aGlzLmlucHV0U2VsZWN0b3JzID0gJ2lucHV0W3R5cGU9dGV4dF0sIGlucHV0W3R5cGU9cGFzc3dvcmRdLCBpbnB1dFt0eXBlPWVtYWlsXSwgaW5wdXRbdHlwZT11cmxdLCBpbnB1dFt0eXBlPXRlbF0sIGlucHV0W3R5cGU9bnVtYmVyXSwgaW5wdXRbdHlwZT1zZWFyY2hdLCB0ZXh0YXJlYSc7XG5cdFx0dGhpcy4kcGFuZXMgPSB0aGlzLiRlbC5maW5kKCcuanMtZm9ybS1wYW5lJyk7XG5cdFx0dGhpcy4kY29uc2VudCA9IHRoaXMuJGVsLmZpbmQoJy5qcy1mb3JtLWNvbnNlbnQnKTtcblx0XHR0aGlzLiRjb25zZW50TGFiZWwgPSB0aGlzLiRlbC5maW5kKCcuanMtZm9ybS1jb25zZW50LWxhYmVsJyk7XG5cdFx0dGhpcy4kY29uc2VudEVycm9yID0gdGhpcy4kZWwuZmluZCgnLmpzLWZvcm0tY29uc2VudC1lcnJvcicpO1xuXHRcdHRoaXMuJGNvbnNlbnRFcnJvciA9IHRoaXMuJGVsLmZpbmQoJy5qcy1mb3JtLWNvbnNlbnQtZXJyb3InKTtcblx0XHR0aGlzLiRmb3JtV3JhcCA9IHRoaXMuJGVsLmZpbmQoJy5qcy1mb3JtLXdyYXAnKTtcblx0XHR0aGlzLiRmb3JtRmVlZGJhY2sgPSB0aGlzLiRlbC5maW5kKCcuanMtZm9ybS1mZWVkYmFjaycpO1xuXHRcdHRoaXMuY3VycmVudFBhbmUgPSAwO1xuXG5cdFx0dGhpcy51cGRhdGVUZXh0RmllbGRzKCk7XG5cblxuXG5cdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdC8vIFN3aXRjaCBmb3JtIHBhbmVzXG5cdFx0Ly8gU2ltcGxlIHN3aXRjaCBiZXR3ZWVuIGluZGV4IDAgYW5kIDEgZm9yIG5vd1xuXHRcdHRoaXMuJGVsLm9uKCdjbGljay5Db250YWN0Rm9ybScsICcuanMtc3dpdGNoLXBhbmUnLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmdvVG9OZXh0UGFuZSgpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy4kZWwub24oJ2NsaWNrLkNvbnRhY3RGb3JtJywgJy5qcy1zdWJtaXQnLCAoKSA9PiB7XG5cdFx0XHR0aGlzLiRlbC5zdWJtaXQoKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuJGVsLm9uKCdzdWJtaXQuQ29udGFjdEZvcm0nLCBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0aWYgKF90aGlzLmN1cnJlbnRQYW5lID09PSAwKSB7XG5cdFx0XHRcdF90aGlzLmdvVG9OZXh0UGFuZSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGRhdGEgPSAkKHRoaXMpLnNlcmlhbGl6ZUFycmF5KCk7XG5cdFx0XHRcdF90aGlzLnN1Ym1pdEZvcm0oZXZlbnQsIGRhdGEpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gQWRkIGFjdGl2ZSBpZiBmb3JtIGF1dG8gY29tcGxldGVcblx0XHR0aGlzLiRlbC5vbignY2hhbmdlLkNvbnRhY3RGb3JtJywgdGhpcy5pbnB1dFNlbGVjdG9ycywgZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyICRpbnB1dEVsZW1lbnQgPSAkKHRoaXMpO1xuXG5cdFx0XHRpZigkaW5wdXRFbGVtZW50LnZhbCgpLmxlbmd0aCAhPT0gMCB8fCAkaW5wdXRFbGVtZW50LmF0dHIoJ3BsYWNlaG9sZGVyJykgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHQkaW5wdXRFbGVtZW50LnNpYmxpbmdzKCdsYWJlbCcpLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcblx0XHRcdH1cblx0XHRcdHZhciBlcnJvciA9IF90aGlzLmZpZWxkSGFzRXJyb3IoJGlucHV0RWxlbWVudCk7XG5cdFx0fSk7XG5cblx0XHQvLyBBZGQgYWN0aXZlIHdoZW4gZWxlbWVudCBoYXMgZm9jdXNcblx0XHR0aGlzLiRlbC5vbignZm9jdXMuQ29udGFjdEZvcm0nLCB0aGlzLmlucHV0U2VsZWN0b3JzLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHQkKHRoaXMpLnNpYmxpbmdzKCdsYWJlbCwgaScpLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuJGVsLm9uKCdibHVyLkNvbnRhY3RGb3JtJywgdGhpcy5pbnB1dFNlbGVjdG9ycywgZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyICRpbnB1dEVsZW1lbnQgPSAkKHRoaXMpO1xuXG5cdFx0XHRpZiAoJGlucHV0RWxlbWVudC52YWwoKS5sZW5ndGggPT09IDAgJiYgJGlucHV0RWxlbWVudFswXS52YWxpZGl0eS5iYWRJbnB1dCAhPT0gdHJ1ZSAmJiAkaW5wdXRFbGVtZW50LmF0dHIoJ3BsYWNlaG9sZGVyJykgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHQkaW5wdXRFbGVtZW50LnNpYmxpbmdzKCdsYWJlbCwgaScpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCRpbnB1dEVsZW1lbnQudmFsKCkubGVuZ3RoID09PSAwICYmICRpbnB1dEVsZW1lbnRbMF0udmFsaWRpdHkuYmFkSW5wdXQgIT09IHRydWUgJiYgJGlucHV0RWxlbWVudC5hdHRyKCdwbGFjZWhvbGRlcicpICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0JGlucHV0RWxlbWVudC5zaWJsaW5ncygnaScpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGVycm9yID0gX3RoaXMuZmllbGRIYXNFcnJvcigkaW5wdXRFbGVtZW50KTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVcG9uIGZvcm0gc3VibWl0LCBtYW55IHRoaW5ncyBoYXBwZW5cblx0ICogLSBWYWxpZGF0aW9uIG9mIGlucHV0c1xuXHQgKiAtIFZhbGlkYXRpb24gb2YgY29uc2VudFxuXHQgKiAtIERlbGl2ZXJ5IG9mIGZvcm0gZGF0YSB0byB0aGUgc2VydmVyXG5cdCAqIC0gTWFuYWdpbmcgc2VydmVyIHJlc3BvbnNlIHN0YXRlc1xuXHQgKlxuXHQgKiBAcGFyYW0gIHtFdmVudH0gICAgICAgICBldmVudCAgalF1ZXJ5IEV2ZW50IG9iamVjdFxuXHQgKiBAcGFyYW0gIHthcnJheXxzdHJpbmd9ICBkYXRhICBGb3JtIGRhdGFcblx0ICovXG5cdHN1Ym1pdEZvcm0oZXZlbnQsIGRhdGEpIHtcblx0XHR2YXIgaGFzRXJyb3JzID0gdGhpcy5maWVsZHNIYXZlRXJyb3JzKHRoaXMuJGlucHV0cyk7XG5cblx0XHRpZiAoIXRoaXMuJGNvbnNlbnQuaXMoJzpjaGVja2VkJykpIHtcblx0XHRcdHRoaXMuJGNvbnNlbnRMYWJlbC5hZGRDbGFzcygnaGFzLWVycm9yJyk7XG5cdFx0XHR0aGlzLiRjb25zZW50RXJyb3IucmVtb3ZlQ2xhc3MoJ2lzLWhpZGRlbicpO1xuXHRcdFx0aGFzRXJyb3JzID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoIWhhc0Vycm9ycykge1xuXHRcdFx0dGhpcy4kY29uc2VudExhYmVsLnJlbW92ZUNsYXNzKCdoYXMtZXJyb3InKTtcblx0XHRcdHRoaXMuJGNvbnNlbnRFcnJvci5hZGRDbGFzcygnaXMtaGlkZGVuJyk7XG5cblx0XHRcdHZhciBqcXhociA9ICQuYWpheCh7XG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHR1cmw6IHRoaXMuJGVsLmF0dHIoJ2FjdGlvbicpLFxuXHRcdFx0XHRkYXRhOiBkYXRhXG5cdFx0XHR9KVxuXHRcdFx0LmRvbmUoKHJlc3BvbnNlKSA9PiB7XG5cdFx0XHRcdGlmIChyZXNwb25zZS5zdWNjZXNzID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0dGhpcy4kcGFuZXMuZXEodGhpcy5jdXJyZW50UGFuZSkuZmFkZU91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLiRmb3JtRmVlZGJhY2suZmFkZUluKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5tYW5hZ2VFcnJvcnMocmVzcG9uc2UuZXJyb3JzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC5mYWlsKCgpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yJyk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU2ltcGxlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBpZiBmb3JtIGlzIHZhbGlkIGVub3VnaCB0byBzd2l0Y2ggcGFuZXNcblx0ICogVXNlZCBieSAnTmV4dCcgYnV0dG9uIGFuZCBmb3JtIHN1Ym1pdFxuXHQgKi9cblx0Z29Ub05leHRQYW5lKCkge1xuXHRcdGlmICghdGhpcy5maWVsZHNIYXZlRXJyb3JzKHRoaXMuJHBhbmVzLmVxKHRoaXMuY3VycmVudFBhbmUpLmZpbmQoJzppbnB1dCcpKSkge1xuXHRcdFx0dGhpcy4kcGFuZXMuZXEodGhpcy5jdXJyZW50UGFuZSkuZmFkZU91dCgoKSA9PiB7XG5cdFx0XHRcdHRoaXMuY3VycmVudFBhbmUgPSAxO1xuXHRcdFx0XHR0aGlzLiRwYW5lcy5lcSh0aGlzLmN1cnJlbnRQYW5lKS5mYWRlSW4oKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBMb29wIHRocm91Z2ggZXJyb3JzIHNlbnQgYmFjayBieSB0aGUgc2VydmVycyBhbmQgYXR0ZW1wdCB0byBpZGVudGlmeSB0aGUgZmF1bHR5IGVsZW1lbnRzXG5cdCAqIEBwYXJhbSAge2FycmF5fSAgZXJyb3JzICBBbiBhcnJheSBvZiBlbGVtZW50IG5hbWVzIHRoYXQgYXJlIGluIGVycm9yXG5cdCAqL1xuXHRtYW5hZ2VFcnJvcnMoZXJyb3JzKSB7XG5cdFx0dmFyIGkgPSAwLCBsZW4gPSBlcnJvcnMubGVuZ3RoO1xuXHRcdGZvciAoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdCQoJyMnICsgZXJyb3JzW2ldKS5hZGRDbGFzcygnaGFzLWVycm9yJyk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEZ1bmN0aW9uIHRvIHVwZGF0ZSBsYWJlbHMgb2YgdGV4dCBmaWVsZHNcblx0ICogQHNlZSAgTWF0ZXJpYWxpemVDU1Ncblx0ICovXG5cdHVwZGF0ZVRleHRGaWVsZHMoKSB7XG5cdFx0JCh0aGlzLmlucHV0U2VsZWN0b3JzKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG5cdFx0XHRpZiAoJChlbGVtZW50KS52YWwoKS5sZW5ndGggPiAwIHx8IGVsZW1lbnQuYXV0b2ZvY3VzIHx8ICQodGhpcykuYXR0cigncGxhY2Vob2xkZXInKSAhPT0gdW5kZWZpbmVkIHx8ICQoZWxlbWVudClbMF0udmFsaWRpdHkuYmFkSW5wdXQgPT09IHRydWUpIHtcblx0XHRcdFx0JCh0aGlzKS5zaWJsaW5ncygnbGFiZWwsIGknKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKHRoaXMpLnNpYmxpbmdzKCdsYWJlbCwgaScpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBGdW5jdGlvbiB0byB2YWxpZGF0ZSBzaW5nbGUgaW5wdXRzXG5cdCAqIEBzZWUgIE1hdGVyaWFsaXplQ1NTXG5cdCAqL1xuXHRmaWVsZEhhc0Vycm9yKCRvYmplY3QpIHtcblx0XHR2YXIgaGFzTGVuZ3RoID0gJG9iamVjdC5hdHRyKCdsZW5ndGgnKSAhPT0gdW5kZWZpbmVkO1xuXHRcdHZhciBsZW5BdHRyID0gcGFyc2VJbnQoJG9iamVjdC5hdHRyKCdsZW5ndGgnKSk7XG5cdFx0dmFyIGxlbiA9ICRvYmplY3QudmFsKCkubGVuZ3RoO1xuXHRcdHZhciBmaWVsZEhhc0Vycm9yID0gZmFsc2U7XG5cblx0XHRpZiAoJG9iamVjdC5oYXNDbGFzcygnanMtdmFsaWRhdGUnKSkge1xuXHRcdFx0aWYgKCRvYmplY3QudmFsKCkubGVuZ3RoICE9PSAwKSB7XG5cdFx0XHRcdGlmICgkb2JqZWN0WzBdLnZhbGlkaXR5LmJhZElucHV0ICE9PSBmYWxzZSkge1xuXHRcdFx0XHRcdC8vIENoZWNrIGZvciBjaGFyYWN0ZXIgY291bnRlciBhdHRyaWJ1dGVzXG5cdFx0XHRcdFx0aWYgKCgkb2JqZWN0LmlzKCc6dmFsaWQnKSAmJiBoYXNMZW5ndGggJiYgKGxlbiA8PSBsZW5BdHRyKSkgfHwgKCRvYmplY3QuaXMoJzp2YWxpZCcpICYmICFoYXNMZW5ndGgpKSB7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGZpZWxkSGFzRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoJG9iamVjdC5hdHRyKCd0eXBlJykgPT0gJ2VtYWlsJykge1xuXHRcdFx0XHRcdHZhciBFTUFJTF9SRUdFWCA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuXHRcdFx0XHRcdGlmICghRU1BSUxfUkVHRVgudGVzdCgkb2JqZWN0LnZhbCgpKSkge1xuXHRcdFx0XHRcdFx0ZmllbGRIYXNFcnJvciA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZpZWxkSGFzRXJyb3IgPSB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZmllbGRIYXNFcnJvcikge1xuXHRcdFx0XHQkb2JqZWN0LmFkZENsYXNzKCdoYXMtZXJyb3InKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCRvYmplY3QucmVtb3ZlQ2xhc3MoJ2hhcy1lcnJvcicpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmaWVsZEhhc0Vycm9yO1xuXHR9XG5cblx0LyoqXG5cdCAqIFZhbGlkYXRlIG11bHRpcGxlIGlucHV0c1xuXHQgKiBAcmV0dXJuIHtib29sZWFufVxuXHQgKi9cblx0ZmllbGRzSGF2ZUVycm9ycygkaW5wdXRzKSB7XG5cdFx0dmFyIGkgPSAwO1xuXHRcdHZhciBsZW4gPSAkaW5wdXRzLmxlbmd0aDtcblx0XHR2YXIgaGFzRXJyb3JzID0gZmFsc2U7XG5cblx0XHRmb3IgKDtpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmKHRoaXMuZmllbGRIYXNFcnJvcigkaW5wdXRzLmVxKGkpKSkge1xuXHRcdFx0XHRoYXNFcnJvcnMgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBoYXNFcnJvcnM7XG5cdH1cblxuXHRkZXN0cm95KCkge1xuXHRcdHRoaXMuJGVsLm9mZignLkNvbnRhY3RGb3JtJyk7XG5cdH1cbn1cbiIsIi8qIGpzaGludCBlc25leHQ6IHRydWUgKi9cbmltcG9ydCBBYnN0cmFjdE1vZHVsZSBmcm9tICcuL0Fic3RyYWN0TW9kdWxlJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEFic3RyYWN0TW9kdWxlIHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXG5cdFx0dGhpcy4kc2xpZGVyT25lID0gb3B0aW9ucy5zbGlkZXJzLm9uZS4kZWw7XG5cdFx0dGhpcy4kc2xpZGVyVHdvID0gb3B0aW9ucy5zbGlkZXJzLnR3by4kZWw7XG5cblx0XHR0aGlzLiRzbGlkZXJPbmUuc2xpY2soXG5cdFx0XHRvcHRpb25zLnNsaWRlcnMub25lLm9wdGlvbnNcblx0XHQpLm9uKCdiZWZvcmVDaGFuZ2UnLCAoZXZlbnQsIHNsaWNrLCBjdXJyZW50U2xpZGUsIG5leHRTbGlkZSkgPT4ge1xuXHRcdFx0aWYgKGN1cnJlbnRTbGlkZSAhPT0gbmV4dFNsaWRlKSB7XG5cdFx0XHRcdGxldCBhY3Rpb247XG5cdFx0XHRcdGlmIChNYXRoLmFicyhuZXh0U2xpZGUgLSBjdXJyZW50U2xpZGUpID09PSAxKSB7XG5cdFx0XHRcdFx0YWN0aW9uID0gKG5leHRTbGlkZSAtIGN1cnJlbnRTbGlkZSA+IDApID8gJ3NsaWNrTmV4dCcgOiAnc2xpY2tQcmV2Jztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhY3Rpb24gPSAobmV4dFNsaWRlIC0gY3VycmVudFNsaWRlID4gMCkgPyAnc2xpY2tQcmV2JyA6ICdzbGlja05leHQnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuJHNsaWRlclR3by5zbGljayhhY3Rpb24pO1xuXHRcdFx0XHR0aGlzLmFjdGl2ZVNsaWRlQ2hhbmdlZChuZXh0U2xpZGUpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dGhpcy4kc2xpZGVyVHdvLnNsaWNrKG9wdGlvbnMuc2xpZGVycy50d28ub3B0aW9ucyk7XG5cblx0XHR0aGlzLiRlbC5vbignY2xpY2suRG91YmxlU2xpZGVyJywgJy5qcy1zbGlkZXItYnV0dG9uJywgKGV2ZW50KSA9PiB7XG5cdFx0XHR0aGlzLmNoYW5nZVNsaWRlKGV2ZW50KTtcblx0XHR9KVxuXHR9XG5cblx0LyoqXG5cdCAqIENoYW5nZSBhY3RpdmUgc2xpZGUgZm9yIGJvdGggc2xpZGVyc1xuXHQgKiBAdmFyICB7RXZlbnR9ICBldmVudFxuXHQgKi9cblx0Y2hhbmdlU2xpZGUoZXZlbnQpIHtcblx0XHR2YXIgJHRhcmdldCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG5cdFx0dmFyIGFjdGlvbiA9ICR0YXJnZXQuZGF0YSgnYWN0aW9uJyk7XG5cblx0XHRzd2l0Y2ggKGFjdGlvbikge1xuXHRcdFx0Y2FzZSAncHJldic6XG5cdFx0XHRcdHRoaXMuJHNsaWRlck9uZS5zbGljaygnc2xpY2tQcmV2Jyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnbmV4dCc6XG5cdFx0XHRcdHRoaXMuJHNsaWRlck9uZS5zbGljaygnc2xpY2tOZXh0Jyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdGFjdGl2ZVNsaWRlQ2hhbmdlZChpbmRleCkge31cblxuXHRkZXN0cm95KCkge1xuXHRcdHRoaXMuJHNsaWRlck9uZS5zbGljaygndW5zbGljaycpO1xuXHRcdHRoaXMuJHNsaWRlclR3by5zbGljaygndW5zbGljaycpO1xuXHRcdHRoaXMuJGVsLm9mZignLkRvdWJsZVNsaWRlcicpO1xuXHR9XG59XG4iLCJpbXBvcnQgQWJzdHJhY3RNb2R1bGUgZnJvbSAnLi9BYnN0cmFjdE1vZHVsZSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBBYnN0cmFjdE1vZHVsZSB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5tb2RlID0gdHlwZW9mKG9wdGlvbnNbJ2Ryb3Bkb3duLW1vZGUnXSkgIT09ICd1bmRlZmluZWQnID8gb3B0aW9uc1snZHJvcGRvd24tbW9kZSddIDogJ2FjY29yZGVvbic7XG5cblx0XHR0aGlzLiRlbC5vbignY2xpY2suRHJvcGRvd24nLCAnLmpzLWRyb3Bkb3duLXRvZ2dsZScsIChldmVudCkgPT4gdGhpcy5tYW5hZ2VEcm9wZG93bkNsaWNrKGV2ZW50KSk7XG5cdH1cblxuXHQvLyBUb2dnbGUgZHJvcGRvd25cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0bWFuYWdlRHJvcGRvd25DbGljayhldmVudCkge1xuXHRcdGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDExOTlweClcIikubWF0Y2hlcykge1xuXHRcdFx0dmFyICR0YXJnZXQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuXHRcdFx0dmFyICRwYXJlbnQgPSAkdGFyZ2V0LnBhcmVudHMoJy5qcy1kcm9wZG93bicpO1xuXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRpZiAoJHRhcmdldC5oYXNDbGFzcygnaXMtZGlzYWJsZWQnKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLm1vZGUgPT09ICdhY2NvcmRlb24nKSB7XG5cdFx0XHRcdCRwYXJlbnQuc2libGluZ3MoJy5qcy1kcm9wZG93bicpXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCdoYXMtZHJvcGRvd24nKVxuXHRcdFx0XHRcdC5maW5kKCcuanMtZHJvcGRvd24tbGlzdCcpXG5cdFx0XHRcdFx0LnN0b3AoKVxuXHRcdFx0XHRcdC5zbGlkZVVwKCk7XG5cdFx0XHR9XG5cblx0XHRcdCR0YXJnZXQuc2libGluZ3MoJy5qcy1kcm9wZG93bi1saXN0Jylcblx0XHRcdFx0LnN0b3AoKVxuXHRcdFx0XHQuc2xpZGVUb2dnbGUoKTtcblxuXHRcdFx0aWYgKCRwYXJlbnQuaGFzQ2xhc3MoJ2hhcy1kcm9wZG93bicpKSB7XG5cdFx0XHRcdCRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2hhcy1kcm9wZG93bicpO1xuXHRcdFx0XHR0aGlzLiRlbC5yZW1vdmVDbGFzcygnaGFzLWRyb3Bkb3duJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkcGFyZW50LmFkZENsYXNzKCdoYXMtZHJvcGRvd24nKTtcblx0XHRcdFx0dGhpcy4kZWwuYWRkQ2xhc3MoJ2hhcy1kcm9wZG93bicpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIERlc3Ryb3lcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0ZGVzdHJveSgpIHtcblx0XHR0aGlzLiRlbC5vZmYoJy5Ecm9wZG93bicpO1xuXHR9XG59XG4iLCIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRmlsdGVyc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8qIGpzaGludCBlc25leHQ6IHRydWUgKi9cbmltcG9ydCBBYnN0cmFjdE1vZHVsZSBmcm9tICcuL0Fic3RyYWN0TW9kdWxlJztcbmltcG9ydCBhbmltYXRlVG8gZnJvbSAnLi4vdXRpbHMvYW5pbWF0ZVRvJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlscy9pcyc7XG5pbXBvcnQgeyBhZGREZXBlbmRlbmN5LCByZXNvbHZlRGVwZW5kZW5jeSB9IGZyb20gJy4uL2dsb2JhbC9kZXBlbmRlbmNpZXMnO1xuaW1wb3J0IFNjcm9sbGJhciBmcm9tICdzbW9vdGgtc2Nyb2xsYmFyJztcbmltcG9ydCB0YXAgZnJvbSAnLi4vcmFjdGl2ZS9yYWN0aXZlLWV2ZW50cy10YXAnO1xuaW1wb3J0IGZhZGUgZnJvbSAnLi4vcmFjdGl2ZS9yYWN0aXZlLXRyYW5zaXRpb25zLWZhZGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEFic3RyYWN0TW9kdWxlIHtcblx0Y29uc3RydWN0b3IgKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblxuXHRcdHRoaXMuc2VhcmNoSXNPcGVuID0gZmFsc2U7XG5cblx0XHR0aGlzLmVsZW1lbnRzID0ge1xuXHRcdFx0JHRvdGFsOiAkKCcuanMtcHJvamVjdC10b3RhbCcpLFxuXHRcdFx0JGZpbHRlcnM6ICQoJy5qcy1maWx0ZXJzJyksXG5cdFx0XHQkcHJvamVjdHM6ICQoJy5qcy1wcm9qZWN0cycpXG5cdFx0fTtcblxuXHRcdHdpbmRvdy5SYWN0aXZlLkRFQlVHID0gZmFsc2U7XG5cblx0XHR0aGlzLmZpbHRlcnNDb250cm9sbGVyID0gdGhpcy5pbml0RmlsdGVyc0NvbnRyb2xsZXIoKTtcblx0XHR0aGlzLnByb2plY3RzQ29udHJvbGxlciA9IHRoaXMuaW5pdFByb2plY3RzQ29udHJvbGxlcigpO1xuXG5cdFx0dGhpcy5zbW9vdGhTY3JvbGxpbmdEZXBlbmRlbmN5ID0gYWRkRGVwZW5kZW5jeSgnRmlsdGVycycsICdTbW9vdGhTY3JvbGxpbmcnKTtcblxuXHRcdHRoaXMuZmlsdGVyc0NvbnRyb2xsZXIuZGlzcGF0Y2hGaWx0ZXJzKHtcblx0XHRcdGZpcnN0Qmxvb2Q6IHRydWVcblx0XHR9KTtcblxuXHRcdGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDEyMDBweClcIikubWF0Y2hlcykge1xuXHRcdFx0dGhpcy5zY3JvbGxiYXJUYWdzID0gU2Nyb2xsYmFyLmluaXQodGhpcy4kZWwuZmluZCgnLmpzLWZpbHRlcnMtdGFncycpWzBdKTtcblx0XHRcdHRoaXMuc2Nyb2xsYmFyRmlsdGVycyA9IFNjcm9sbGJhci5pbml0KHRoaXMuJGVsLmZpbmQoJy5qcy1maWx0ZXJzLWxpc3QnKVswXSk7XG5cdFx0fVxuXG5cdFx0dGhpcy4kZWwub24oJ2NsaWNrLkZpbHRlcnMnLCAnLmpzLWZpbHRlcnMtb3BlbicsIChldmVudCkgPT4gdGhpcy50b2dnbGVGaWx0ZXJzKGV2ZW50KSk7XG5cdFx0dGhpcy4kZWwub24oJ2NsaWNrLkZpbHRlcnMnLCAnLmpzLWZpbHRlcnMtc2VhcmNoLW9wZW4nLCAoZXZlbnQpID0+IHRoaXMudG9nZ2xlRmlsdGVyc1NlYXJjaChldmVudCkpO1xuXHRcdHRoaXMuJGVsLm9uKCdjbGljay5GaWx0ZXJzJywgJy5qcy1maWx0ZXJzLWJ1dHRvbicsIChldmVudCkgPT4gdGhpcy5maWx0ZXIoZXZlbnQpKTtcblx0XHR0aGlzLiRlbC5vbignY2xpY2suRmlsdGVycycsICcuanMtZmlsdGVycy1zZWFyY2gtYnV0dG9uJywgKGV2ZW50KSA9PiB0aGlzLnNlYXJjaChldmVudCkpO1xuXHR9XG5cblx0Ly9cdFRvZ2dsZSBmaWx0ZXJzXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdHRvZ2dsZUZpbHRlcnMoZXZlbnQpIHtcblx0XHR0aGlzLiRib2R5LnRvZ2dsZUNsYXNzKCdoYXMtZmlsdGVycy1vcGVuJykucmVtb3ZlQ2xhc3MoJ2hhcy1maWx0ZXJzLXNlYXJjaC1vcGVuJyk7XG5cdFx0JChldmVudC5jdXJyZW50VGFyZ2V0KS50b2dnbGVDbGFzcygnaXMtYWN0aXZlJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnLmpzLWZpbHRlcnMtc2VhcmNoLW9wZW4uaXMtYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuXG5cdFx0aWYgKHRoaXMuJGJvZHkuaGFzQ2xhc3MoJ2hhcy1maWx0ZXJzLW9wZW4nKSkge1xuXHRcdFx0dGhpcy4kZWwuZmluZCgnLmpzLWZpbHRlcnMtbGlzdCcpLnNjcm9sbFRvcCgwKTtcblx0XHR9XG5cdH1cblxuXHQvL1x0Q2xvc2UgZmlsdGVyc1xuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRjbG9zZUZpbHRlcnMoKSB7XG5cdFx0dGhpcy4kYm9keS5yZW1vdmVDbGFzcygnaGFzLWZpbHRlcnMtb3BlbicpO1xuXHRcdHRoaXMuJGVsLmZpbmQoJy5qcy1maWx0ZXJzLW9wZW4nKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG5cdH1cblxuXHQvL1x0VG9nZ2xlIGZpbHRlcnMgc2VhcmNoXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdHRvZ2dsZUZpbHRlcnNTZWFyY2goZXZlbnQpIHtcblx0XHR2YXIgJHNlYXJjaElucHV0ID0gdGhpcy4kZWwuZmluZCgnLmpzLWZpbHRlcnMtc2VhcmNoLWlucHV0Jyk7XG5cblx0XHR0aGlzLiRib2R5LnRvZ2dsZUNsYXNzKCdoYXMtZmlsdGVycy1zZWFyY2gtb3BlbicpLnJlbW92ZUNsYXNzKCdoYXMtZmlsdGVycy1vcGVuJyk7XG5cdFx0JChldmVudC5jdXJyZW50VGFyZ2V0KS50b2dnbGVDbGFzcygnaXMtYWN0aXZlJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnLmpzLWZpbHRlcnMtb3Blbi5pcy1hY3RpdmUnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG5cblx0XHRpZiAoIXRoaXMuc2VhcmNoSXNPcGVuKSB7XG5cdFx0XHQkc2VhcmNoSW5wdXQuZm9jdXMoKTtcblx0XHRcdHRoaXMuc2VhcmNoSXNPcGVuID0gdHJ1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JHNlYXJjaElucHV0LmJsdXIoKTtcblx0XHRcdHRoaXMuc2VhcmNoSXNPcGVuID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0Ly9cdENsb3NlIGZpbHRlcnMgc2VhcmNoXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGNsb3NlRmlsdGVyc1NlYXJjaChldmVudCkge1xuXHRcdHRoaXMuJGJvZHkucmVtb3ZlQ2xhc3MoJ2hhcy1maWx0ZXJzLXNlYXJjaC1vcGVuJyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnLmpzLWZpbHRlcnMtc2VhcmNoLW9wZW4nKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG5cdH1cblxuXHQvLyBGaWx0ZXJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0ZmlsdGVyKGV2ZW50KSB7XG5cdFx0YW5pbWF0ZVRvKHRoaXMuZWxlbWVudHMuJHByb2plY3RzKTtcblx0XHR0aGlzLmNsb3NlRmlsdGVycygpO1xuXHR9XG5cblx0Ly8gU2VhcmNoXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdHNlYXJjaChldmVudCkge1xuXHRcdHRoaXMuY2xvc2VGaWx0ZXJzU2VhcmNoKCk7XG5cdH1cblxuXHQvKipcblx0ICogVGhpcyBjb250cm9sbGVyIGlzIHVzZWQgZm9yIG1hbmFnaW5nIGZpbHRlcnMgYmVpbmcgYWRkZWQgYW5kIHJlbW92ZWRcblx0ICogSXQgdGVsbHMgdGhlIHByb2plY3QgY29udHJvbGxlciB3aGljaCBmaWx0ZXJzIGFyZSBhY3RpdmUgb3Igbm90IHRocm91Z2ggZXZlbnQgZGlzcGF0Y2hpbmdcblx0ICpcblx0ICogQHJldHVybiAge1JhY3RpdmUgT2JqZWN0fSAgUmFjdGl2ZSBpbnN0YW5jZVxuXHQgKi9cblx0aW5pdEZpbHRlcnNDb250cm9sbGVyKCkge1xuXHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cdFx0dmFyIHJhY3RpdmUgPSBuZXcgUmFjdGl2ZSh7XG5cdFx0XHRlbDogdGhpcy5lbGVtZW50cy4kZmlsdGVycyxcblx0XHRcdHRlbXBsYXRlOiB0aGlzLnVuZXNjYXBlSFRNTCh0aGlzLmVsZW1lbnRzLiRmaWx0ZXJzLmh0bWwoKSksXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdGl0ZW1zOiBbXSxcblx0XHRcdFx0YWN0aXZlQ2F0ZWdvcmllczogd2luZG93LnRlbXBsYXRlRGF0YS5hY3RpdmVDYXRlZ29yaWVzLFxuXHRcdFx0XHRhY3RpdmVTZXJ2aWNlczogd2luZG93LnRlbXBsYXRlRGF0YS5hY3RpdmVTZXJ2aWNlcyxcblx0XHRcdFx0YWN0aXZlQ2hhcmFjdGVyaXN0aWNzOiB3aW5kb3cudGVtcGxhdGVEYXRhLmFjdGl2ZUNoYXJhY3RlcmlzdGljcyxcblx0XHRcdFx0YWN0aXZlVGFnczogd2luZG93LnRlbXBsYXRlRGF0YS5hY3RpdmVUYWdzLFxuXHRcdFx0XHRhY3RpdmVUeXBlOiB3aW5kb3cudGVtcGxhdGVEYXRhLmFjdGl2ZVR5cGUsXG5cdFx0XHRcdGZpbHRlckJveGVzOiB3aW5kb3cudGVtcGxhdGVEYXRhLmZpbHRlckJveGVzLFxuXHRcdFx0XHRwcm9qZWN0VHlwZXM6IHdpbmRvdy50ZW1wbGF0ZURhdGEucHJvamVjdFR5cGVzLFxuXHRcdFx0XHRwcm9qZWN0Q2F0ZWdvcmllczogd2luZG93LnRlbXBsYXRlRGF0YS5wcm9qZWN0Q2F0ZWdvcmllcyxcblx0XHRcdFx0cHJvamVjdFRhZ3M6IHdpbmRvdy50ZW1wbGF0ZURhdGEucHJvamVjdFRhZ3Ncblx0XHRcdH0sXG5cdFx0XHRkZWxpbWl0ZXJzOiBbJ1tbJywgJ11dJ10sXG5cdFx0XHR0cmlwbGVEZWxpbWl0ZXJzOiBbJ1tbWycsICddXV0nXSxcblx0XHRcdGV2ZW50czogeyB0YXAgfSxcblx0XHRcdC8qKlxuXHRcdFx0ICogQWRkcyBhbiBpdGVtIHRvIGZpbHRlcnNcblx0XHRcdCAqXG5cdFx0XHQgKiBAcGFyYW0ge29iamVjdH0gIG1vZGVsICBJdGVtIG1vZGVsXG5cdFx0XHQgKi9cblx0XHRcdGFkZEl0ZW06IGZ1bmN0aW9uIChtb2RlbCkge1xuXHRcdFx0XHR0aGlzLnB1c2goJ2l0ZW1zJywgbW9kZWwpO1xuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBGaXJlIGFuIGV2ZW50LCBzbyB3ZSBjYW4gcXVlcnkgdGhlIHNlcnZlciBmb3IgcHJvamVjdHMgYWNjb3JkaW5nIHRvIGFjdGl2ZSBmaWx0ZXJzXG5cdFx0XHQgKi9cblx0XHRcdGRpc3BhdGNoRmlsdGVyczogZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0XHRcdFx0b3B0aW9ucyA9ICQuZXh0ZW5kKG9wdGlvbnMsIHt9KTtcblxuXHRcdFx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdFx0XHRmaWx0ZXJzOiB0aGlzLmdldCgnaXRlbXMnKSxcblx0XHRcdFx0XHRrZXl3b3JkOiB0aGlzLmdldCgna2V5d29yZCcpXG5cdFx0XHRcdH07XG5cdFx0XHRcdF90aGlzLnByb2plY3RzQ29udHJvbGxlci5maXJlKCdyZWZyZXNoUHJvamVjdHMnLCBkYXRhLCBvcHRpb25zKTtcblx0XHRcdH0sXG5cblx0XHRcdC8qKlxuXHRcdFx0ICogRmluZCBhbiBpdGVtIGluIGl0ZW1zIGFycmF5IHVzaW5nIGl0cyBJRFxuXHRcdFx0ICpcblx0XHRcdCAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgaWQgIFF1YXNpLXVuaXF1ZSBpZGVudGlmaWVyIGNvbXBvc2VkIG9mIHt7ZmlsdGVySWRlbnR9fV97e2lkZW50fX1cblx0XHRcdCAqIEByZXR1cm4ge2ludHxib29sZWFufSAgICAgIEluZGV4IG9mIHRoZSBpdGVtIGluIHRoZSBhcnJheSBvciBmYWxzZSBpZiBjYW4ndCBiZSBmb3VuZFxuXHRcdFx0ICovXG5cdFx0XHRmaW5kSW5kZXg6IGZ1bmN0aW9uICggaWQgKSB7XG5cdFx0XHRcdHZhciBpdGVtcyA9IHRoaXMuZ2V0KCdpdGVtcycpO1xuXHRcdFx0XHR2YXIgaSA9IGl0ZW1zLmxlbmd0aDtcblxuXHRcdFx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRcdFx0aWYgKGl0ZW1zW2ldLmlkID09PSBpZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0sXG5cblx0XHRcdC8qKlxuXHRcdFx0ICogU2VhcmNoIGl0ZW0gc2V0IGZvciBpdGVtcyB3aXRoIGEgc3BlY2lmaWMgdGF4b25vbXlcblx0XHRcdCAqIEBwYXJhbSAgIHtzdHJpbmd9ICB0YXhvbm9teSAgVGF4b25vbXkgaWRlbnRpZmllclxuXHRcdFx0ICogQHJldHVybiAge2FycmF5fSAgICAgICAgICAgICBBcnJheSBvZiBpdGVtIGluZGV4ZXNcblx0XHRcdCAqL1xuXHRcdFx0ZmluZFRheG9ub215SW5kZXhlczogZnVuY3Rpb24gKCB0YXhvbm9teSApIHtcblx0XHRcdFx0dmFyIGl0ZW1zID0gdGhpcy5nZXQoJ2l0ZW1zJyk7XG5cdFx0XHRcdHZhciBpID0gaXRlbXMubGVuZ3RoO1xuXHRcdFx0XHR2YXIgaW5kZXhlcyA9IFtdO1xuXG5cdFx0XHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdFx0XHRpZiAoaXRlbXNbaV0udGF4b25vbXkgPT09IHRheG9ub215KSB7XG5cdFx0XHRcdFx0XHRpbmRleGVzLnB1c2goaSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBpbmRleGVzO1xuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBJdGVtIG1vZGVsXG5cdFx0XHQgKiBAcGFyYW0gIHtvYmplY3R9ICBwYXJhbXMgIEluaXRpYWwgdmFsdWVzIGZvciB0aGUgbW9kZWxcblx0XHRcdCAqIEByZXR1cm4ge29iamVjdH0gICAgICAgICAgSXRlbSBtb2RlbFxuXHRcdFx0ICpcblx0XHRcdCAqIE1vZGVsIHByb3BlcnRpZXNcblx0XHRcdCAqXG5cdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gIGlkICAgICAgICBRdWFzaS11bmlxdWUgaWRlbnRpZmllciBjb21wb3NlZCBvZiB7e2ZpbHRlcklkZW50fX1fe3tpZGVudH19XG5cdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gIHRheG9ub215ICBGaWx0ZXIgdGF4b25vbXlcblx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSAgbGFiZWwgICAgIEZyb250IGVuZCB2aWV3XG5cdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gIHZhbHVlICAgICBJbnB1dCB2YWx1ZSB1c2VkIGZvciBmaWx0ZXJpbmcgcHJvamVjdHMgaW4gb3VyIGFjdGlvblxuXHRcdFx0ICovXG5cdFx0XHRnZXRJdGVtTW9kZWw6IGZ1bmN0aW9uICggcGFyYW1zICkge1xuXHRcdFx0XHR2YXIgZGVmYXVsdHMgPSB7XG5cdFx0XHRcdFx0aWQ6IG51bGwsXG5cdFx0XHRcdFx0dGF4b25vbXk6ICcnLFxuXHRcdFx0XHRcdGxhYmVsOiAnJyxcblx0XHRcdFx0XHR2YWx1ZTogJydcblx0XHRcdFx0fTtcblx0XHRcdFx0cmV0dXJuICQuZXh0ZW5kKGRlZmF1bHRzLCBwYXJhbXMpO1xuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBFeHRyYWN0IGFuIGl0ZW0gbW9kZWwgZnJvbSBhIG5vZGVcblx0XHRcdCAqIEBwYXJhbSAge29iamVjdH0gIGV2ZW50ICBSYWN0aXZlIGV2ZW50IG9iamVjdFxuXHRcdFx0ICogQHJldHVybiB7b2JqZWN0fSAgICAgICAgIEl0ZW0gbW9kZWxcblx0XHRcdCAqL1xuXHRcdFx0Z2V0SXRlbU1vZGVsRnJvbU5vZGU6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmdldEl0ZW1Nb2RlbCh7XG5cdFx0XHRcdFx0aWQ6IGV2ZW50Lm5vZGUuaWQsXG5cdFx0XHRcdFx0dGF4b25vbXk6IGV2ZW50Lm5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXRheG9ub215JyksXG5cdFx0XHRcdFx0bGFiZWw6IGV2ZW50Lm5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWxhYmVsJyksXG5cdFx0XHRcdFx0dmFsdWU6IGV2ZW50Lm5vZGUudmFsdWVcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXG5cdFx0XHQvKipcblx0XHRcdCAqIFJlbW92ZSBhbiBpdGVtIGluIHRoZSBpdGVtcyBhcnJheSBhY2NvcmRpbmcgdG8gaXRzIGluZGV4XG5cdFx0XHQgKiBBbHNvIHVuY2hlY2sgaXRzIGFzc29jaWF0ZWQgaW5wdXRcblx0XHRcdCAqIENvdWxkbid0IGZpbmQgYSB3YXkgdG8gZGF0YS1iaW5kIGluIHRoaXMgc2l0dWF0aW9uXG5cdFx0XHQgKlxuXHRcdFx0ICogQHBhcmFtICB7aW50fSAgICAgaW5kZXggIEluZGV4IG9mIHRoZSBpdGVtIHdpdGhpbiB0aGUgYXJyYXlcblx0XHRcdCAqL1xuXHRcdFx0cmVtb3ZlSXRlbTogZnVuY3Rpb24gKCBpbmRleCApIHtcblx0XHRcdFx0Ly8gRmFsc2Ugd291bGQgaW5kaWNhdGUgdGhhdCB0aGUgaXRlbSBjb3VsZCBub3QgYmUgZm91bmQgaW4gaXRlbXMgYXJyYXlcblx0XHRcdFx0aWYgKGluZGV4ICE9PSBmYWxzZSkge1xuXHRcdFx0XHRcdC8vIEdldCBpdGVtIGJ5IGtleXBhdGguIEFsbG93cyB1cyB0byBmaW5kIGl0cyBIVE1MIGlucHV0IGVsZW1lbnRcblx0XHRcdFx0XHR2YXIgaXRlbSA9IHRoaXMuZ2V0KCdpdGVtcy4nICsgaW5kZXgpO1xuXHRcdFx0XHRcdHZhciAkaXRlbSA9ICQoJyMnICsgaXRlbS5pZCk7XG5cblx0XHRcdFx0XHQvLyBSZW1vdmluZyB0aGUgaXRlbSBmcm9tIHRoZSBpdGVtcyBhcnJheVxuXHRcdFx0XHRcdHRoaXMuc3BsaWNlKCAnaXRlbXMnLCBpbmRleCwgMSApO1xuXG5cdFx0XHRcdFx0Ly8gTm90IHNvIGdyYWNlZnVsLCBzaW5jZSB3ZSBjb3VsZG4ndCByZWFsbHkgZGF0YS1iaW5kIHRoZSBpbnB1dFxuXHRcdFx0XHRcdCRpdGVtLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdC8qKlxuXHRcdFx0ICogUmVjZWl2ZXMgYSBsaXN0IG9mIGluZGV4ZXMgdG8gcmVtb3ZlIGZyb20gYGl0ZW1zYFxuXHRcdFx0ICpcblx0XHRcdCAqIEBwYXJhbSAge2FycmF5fSAgaW5kZXhlcyAgQXJyYXkgb2YgaW5kZXhlcyB0byByZW1vdmVcblx0XHRcdCAqL1xuXHRcdFx0cmVtb3ZlSXRlbXM6IGZ1bmN0aW9uICggaW5kZXhlcyApIHtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGluZGV4ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0XHR0aGlzLnJlbW92ZUl0ZW0oIGluZGV4ZXNbaV0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBBZGQgYSBmaWx0ZXIgdG8gaXRlbXMgYWNjb3JkaW5nIHRvIGRlZmluZWQgZmlsdGVyc1xuXHRcdFx0ICpcblx0XHRcdCAqIEBwYXJhbSAge3N0cmluZ30gICAgICB0YXhvbm9teSAgRmlsdGVyIHRheG9ub215XG5cdFx0XHQgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgZGF0YVNldCAgIFJhY3RpdmUgZGF0YXNldCB0byBwYXJzZVxuXHRcdFx0ICogQHBhcmFtICB7aW50fHN0cmluZ30gIHZhbHVlICAgICBWYWx1ZSBmb3VuZCBpbiBVUkxcblx0XHRcdCAqL1xuXHRcdFx0c2V0QWN0aXZlRmlsdGVyOiBmdW5jdGlvbiAoIHRheG9ub215LCBkYXRhU2V0LCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIGRhdGFTZXQgPSB0aGlzLmdldChkYXRhU2V0KTtcblx0XHRcdFx0dmFyIGRhdGFTZXRGaWx0ZXJzID0gW107XG5cblx0XHRcdFx0aWYgKGlzQXJyYXkoZGF0YVNldCkpIHtcblx0XHRcdFx0XHRkYXRhU2V0RmlsdGVycyA9IGRhdGFTZXQuc2xpY2UoKS5tYXAoKGN1cnJlbnRWYWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGN1cnJlbnRWYWx1ZS5maWx0ZXJzO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGRhdGFTZXRGaWx0ZXJzID0gW10uY29uY2F0LmFwcGx5KFtdLCBkYXRhU2V0RmlsdGVycyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGF0YVNldEZpbHRlcnMgPSBkYXRhU2V0LmZpbHRlcnM7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBGaW5kIGZpbHRlciBvYmplY3QgaW4gZGF0YXNldHMgYnkgZmlsdGVyaW5nIHRoZSB2YWx1ZXMgYnkgdGhlaXIgSURcblx0XHRcdFx0dmFyIG9iamVjdCA9IGRhdGFTZXRGaWx0ZXJzLmZpbHRlcihmdW5jdGlvbihvYmplY3Qpe1xuXHRcdFx0XHRcdGlmIChvYmplY3QuaWQgPT0gdmFsdWUpIHtcblx0XHRcdFx0XHRcdHJldHVybiBvYmplY3Q7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVswXTtcblxuXHRcdFx0XHR0aGlzLmFkZEl0ZW0odGhpcy5nZXRJdGVtTW9kZWwoe1xuXHRcdFx0XHRcdGlkOiB0YXhvbm9teSArICdfJyArIG9iamVjdC5pZCxcblx0XHRcdFx0XHR0YXhvbm9teTogdGF4b25vbXksXG5cdFx0XHRcdFx0bGFiZWw6IG9iamVjdC5uYW1lLFxuXHRcdFx0XHRcdHZhbHVlOiBvYmplY3QuaWRcblx0XHRcdFx0fSkpO1xuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBBbGxvd3MgdXMgdG8gc2V0IHByb3h5IGV2ZW50cyBhbmQgcnVuIG90aGVyIHRhc2tzIHdoZW4gY29udHJvbGxlciBpcyBpbml0aWFsaXplZFxuXHRcdFx0ICpcblx0XHRcdCAqIEBwYXJhbSAge2FycmF5fSAgb3B0aW9ucyAgQXJyYXkgb2Ygb3B0aW9uc1xuXHRcdFx0ICovXG5cdFx0XHRvbmluaXQ6IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcblxuXHRcdFx0XHQvLyBDaGVjayBmb3IgZXhpc3RpbmcgZmlsdGVycyBvbiBtb2R1bGUgaW5pdFxuXHRcdFx0XHR2YXIgYWN0aXZlVHlwZSA9IHRoaXMuZ2V0KCdhY3RpdmVUeXBlJyk7XG5cdFx0XHRcdHZhciBhY3RpdmVDYXRlZ29yaWVzID0gdGhpcy5nZXQoJ2FjdGl2ZUNhdGVnb3JpZXMnKS5zbGljZSgpO1xuXHRcdFx0XHR2YXIgYWN0aXZlU2VydmljZXMgPSB0aGlzLmdldCgnYWN0aXZlU2VydmljZXMnKS5zbGljZSgpO1xuXHRcdFx0XHR2YXIgYWN0aXZlQ2hhcmFjdGVyaXN0aWNzID0gdGhpcy5nZXQoJ2FjdGl2ZUNoYXJhY3RlcmlzdGljcycpLnNsaWNlKCk7XG5cdFx0XHRcdHZhciBhY3RpdmVUYWdzID0gdGhpcy5nZXQoJ2FjdGl2ZVRhZ3MnKTtcblxuXHRcdFx0XHRpZiAoYWN0aXZlVHlwZSAhPT0gJycpIHtcblx0XHRcdFx0XHR0aGlzLnNldEFjdGl2ZUZpbHRlcigndHlwZScsICdwcm9qZWN0VHlwZXMnLCBhY3RpdmVUeXBlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChhY3RpdmVDYXRlZ29yaWVzLmxlbmd0aCAhPT0gMCkge1xuXHRcdFx0XHRcdGFjdGl2ZUNhdGVnb3JpZXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXRBY3RpdmVGaWx0ZXIoJ2NhdGVnb3JpZXMnLCAncHJvamVjdENhdGVnb3JpZXMnLCBlbGVtZW50KTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8vIE5lZWRzIGEgbGl0dGxlIHRpbWVvdXRcblx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGFjdGl2ZUNhdGVnb3JpZXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuXHRcdFx0XHRcdFx0XHQkKCcjY2F0ZWdvcmllc18nICsgZWxlbWVudCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSwgNTAwKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChhY3RpdmVTZXJ2aWNlcy5sZW5ndGggIT09IDApIHtcblx0XHRcdFx0XHRhY3RpdmVTZXJ2aWNlcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldEFjdGl2ZUZpbHRlcignc2VydmljZXMnLCAnZmlsdGVyQm94ZXMnLCBlbGVtZW50KTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8vIE5lZWRzIGEgbGl0dGxlIHRpbWVvdXRcblx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGFjdGl2ZVNlcnZpY2VzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcblx0XHRcdFx0XHRcdFx0JCgnI3NlcnZpY2VzXycgKyBlbGVtZW50KS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9LCA1MDApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFjdGl2ZUNoYXJhY3RlcmlzdGljcy5sZW5ndGggIT09IDApIHtcblx0XHRcdFx0XHRhY3RpdmVDaGFyYWN0ZXJpc3RpY3MuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXRBY3RpdmVGaWx0ZXIoJ2NoYXJhY3RlcmlzdGljcycsICdmaWx0ZXJCb3hlcycsIGVsZW1lbnQpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0Ly8gTmVlZHMgYSBsaXR0bGUgdGltZW91dFxuXHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0YWN0aXZlQ2hhcmFjdGVyaXN0aWNzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcblx0XHRcdFx0XHRcdFx0JCgnI2NoYXJhY3RlcmlzdGljc18nICsgZWxlbWVudCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSwgNTAwKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChhY3RpdmVUYWdzLmxlbmd0aCAhPT0gMCkge1xuXHRcdFx0XHRcdHRoaXMuc2V0QWN0aXZlRmlsdGVyKCd0YWdzJywgJ3Byb2plY3RUYWdzJywgYWN0aXZlVGFnc1swXSk7XG5cblx0XHRcdFx0XHQvLyBOZWVkcyBhIGxpdHRsZSB0aW1lb3V0XG5cdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHQkKCcjdGFnc18nICsgYWN0aXZlVGFncy5pZCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXHRcdFx0XHRcdH0sIDUwMCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLm9uKHtcblx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHQgKiBEZXRlcm1pbmUgdGhlIGFtb3VudCBvZiBwcm9qZWN0cyBwZXIgcHJvamVjdFR5cGVcblx0XHRcdFx0XHQgKlxuXHRcdFx0XHRcdCAqIEBwYXJhbSAge2FycmF5fSBwcm9qZWN0cyBBcnJheSBvZiBwcm9qZWN0LlxuXHRcdFx0XHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdHJlZnJlc2hQcm9qZWN0VHlwZUNvdW50OiBmdW5jdGlvbihwcm9qZWN0cykge1xuXHRcdFx0XHRcdFx0dmFyIGNvdW50c0J5VHlwZSA9IFtdO1xuXHRcdFx0XHRcdFx0dmFyIGkgPSBwcm9qZWN0cy5sZW5ndGg7XG5cblx0XHRcdFx0XHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdFx0XHRcdFx0bGV0IHR5cGUgPSBwcm9qZWN0c1tpXS50eXBlO1xuXHRcdFx0XHRcdFx0XHRjb3VudHNCeVR5cGVbdHlwZV0gPSAodHlwZW9mIGNvdW50c0J5VHlwZVt0eXBlXSAhPT0gJ3VuZGVmaW5lZCcgPyBjb3VudHNCeVR5cGVbdHlwZV0gKyAxIDogMSk7XG5cdFx0XHRcdFx0XHRcdHByb2plY3RzLnNwbGljZShpKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dmFyIHByb2plY3RUeXBlcyA9IHRoaXMuZ2V0KCdwcm9qZWN0VHlwZXMnKS5maWx0ZXJzLnNsaWNlKCk7XG5cdFx0XHRcdFx0XHR2YXIgaiA9IHByb2plY3RUeXBlcy5sZW5ndGg7XG5cblx0XHRcdFx0XHRcdHdoaWxlIChqLS0pIHtcblx0XHRcdFx0XHRcdFx0bGV0IGNvdW50ID0gY291bnRzQnlUeXBlW3Byb2plY3RUeXBlc1tqXS5pZF07XG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0KCdwcm9qZWN0VHlwZXMuZmlsdGVycy4nICsgaiArICcuY291bnQnLCAodHlwZW9mIGNvdW50ID09PSAndW5kZWZpbmVkJykgPyAwIDogY291bnQpO1xuXHRcdFx0XHRcdFx0XHRwcm9qZWN0VHlwZXMuc3BsaWNlKGopXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdCAqIEV2ZW50IHRyaWdnZXJlZCBieSBmaWx0ZXIgaXRlbXMgd2hlbiBjbGlja2luZyBjbG9zZSBidXR0b25cblx0XHRcdFx0XHQgKiBXZSBmaW5kIHRoZSBpdGVtJ3MgaW5kZXggdXNpbmcgdGhlIGtleXBhdGggYW5kIHJlbW92ZSBpdCBmcm9tIGFycmF5XG5cdFx0XHRcdFx0ICpcblx0XHRcdFx0XHQgKiBAcGFyYW0gIHtvYmplY3R9ICBldmVudCAgUmFjdGl2ZSBldmVudCBvYmplY3Rcblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRyZW1vdmU6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIENoZWNrIGlmIGl0cyBhIHByb2plY3QgdHlwZS5cblx0XHRcdFx0XHRcdC8vIFdlIG5lZWQgdG8gbWFudWFsbHkgdW5zZXQgdGhlIGFjdGl2ZVR5cGUgdmFyaWFibGUgYW5kIHJlbW92ZXMgaXRzIHJlbGF0ZWQgY2F0ZWdvcmllc1xuXHRcdFx0XHRcdFx0aWYgKGV2ZW50LmNvbnRleHQudGF4b25vbXkgPT09ICd0eXBlJykge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnNldCgnYWN0aXZlVHlwZScsICcnKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5zZXQoJ2FjdGl2ZUNhdGVnb3JpZXMnLCBbXSk7XG5cdFx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlSXRlbXModGhpcy5maW5kVGF4b25vbXlJbmRleGVzKCdjYXRlZ29yaWVzJykpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dmFyIGkgPSBldmVudC5rZXlwYXRoLnJlcGxhY2UoJ2l0ZW1zLicsICcnKTtcblx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlSXRlbShpKTtcblxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwYXRjaEZpbHRlcnMoKTtcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0cmVtb3ZlQWxsKCkge1xuXHRcdFx0XHRcdFx0dmFyIGkgPSB0aGlzLmdldCgnaXRlbXMnKS5sZW5ndGg7XG5cblx0XHRcdFx0XHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVJdGVtKGkpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BhdGNoRmlsdGVycygpO1xuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHQgKiBFdmVudCB0cmlnZ2VyZWQgYnkgYSBjaGFuZ2Ugb24gZmlsdGVyIGlucHV0c1xuXHRcdFx0XHRcdCAqIERldGVybWluZSBpZiBpbnB1dCBpcyBiZWluZyBjaGVja2VkIG9yIG5vdFxuXHRcdFx0XHRcdCAqIEFkZCBvciByZW1vdmUgZmlsdGVyIGl0ZW0gZGVwZW5kaW5nIG9uIGNoZWNrZWQgc3RhdGVcblx0XHRcdFx0XHQgKlxuXHRcdFx0XHRcdCAqIEBwYXJhbSAge29iamVjdH0gIGV2ZW50ICBSYWN0aXZlIGV2ZW50IG9iamVjdFxuXHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdHRvZ2dsZUl0ZW06IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHR2YXIgaXNDaGVja2VkID0gZXZlbnQubm9kZS5jaGVja2VkO1xuXHRcdFx0XHRcdFx0dmFyIG1vZGVsID0gdGhpcy5nZXRJdGVtTW9kZWxGcm9tTm9kZSggZXZlbnQgKTtcblxuXHRcdFx0XHRcdFx0aWYgKGlzQ2hlY2tlZCkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmFkZEl0ZW0obW9kZWwpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVJdGVtKCB0aGlzLmZpbmRJbmRleCggbW9kZWwuaWQgKSApO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BhdGNoRmlsdGVycygpO1xuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHQgKiBFdmVudCB0cmlnZ2VyZWQgd2hlbiB0eXBlIGlzIGNoYW5nZWRcblx0XHRcdFx0XHQgKiBEZXRlcm1pbmUgd2hpY2ggdHlwZSBvZiBjYXRlZ29yaWVzIHRvIHNob3cgYW5kIHRvZ2dsZSB0aGVtIGFsbCBvZmZcblx0XHRcdFx0XHQgKlxuXHRcdFx0XHRcdCAqIEBwYXJhbSAge29iamVjdH0gIGV2ZW50ICBSYWN0aXZlIGV2ZW50IG9iamVjdFxuXHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdHRvZ2dsZVR5cGU6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHR2YXIgbW9kZWwgPSB0aGlzLmdldEl0ZW1Nb2RlbEZyb21Ob2RlKCBldmVudCApO1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgYWN0aXZlIHR5cGUocykgZnJvbSBmaWx0ZXJzXG5cdFx0XHRcdFx0XHR0aGlzLnJlbW92ZUl0ZW1zKCB0aGlzLmZpbmRUYXhvbm9teUluZGV4ZXMoIG1vZGVsLnRheG9ub215ICkgKTtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGFsbCB0aGUgcmVsYXRlZCBjYXRlZ29yaWVzIHRvb1xuXHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVJdGVtcyggdGhpcy5maW5kVGF4b25vbXlJbmRleGVzKCAnY2F0ZWdvcmllcycgKSApO1xuXG5cdFx0XHRcdFx0XHQvLyBOb3cgYWRkIHRoZSB0b2dnbGVkIG9uZVxuXHRcdFx0XHRcdFx0dGhpcy5hZGRJdGVtKG1vZGVsKTtcblxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwYXRjaEZpbHRlcnMoKTtcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0ICogRXZlbnQgdHJpZ2dlcmVkIHdoZW4gc2VhcmNoIGZvcm0gaXMgc3VibWl0dGVkXG5cdFx0XHRcdFx0ICogRXh0cmFjdCB0aGUga2V5d29yZCBhbmQgZmlsdGVyIHRoZSBwcm9qZWN0IGxpc3Rcblx0XHRcdFx0XHQgKlxuXHRcdFx0XHRcdCAqIEBwYXJhbSAge29iamVjdH0gIGV2ZW50ICBSYWN0aXZlIGV2ZW50IG9iamVjdFxuXHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdHNlYXJjaDogZnVuY3Rpb24gKCBldmVudCApIHtcblx0XHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BhdGNoRmlsdGVycygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcmFjdGl2ZTtcblx0fVxuXG5cdGluaXRQcm9qZWN0c0NvbnRyb2xsZXIoKSB7XG5cdFx0dmFyIF90aGlzID0gdGhpcztcblx0XHR2YXIgcmFjdGl2ZSA9IG5ldyBSYWN0aXZlKHtcblx0XHRcdGVsOiB0aGlzLmVsZW1lbnRzLiRwcm9qZWN0cyxcblx0XHRcdHRlbXBsYXRlOiB0aGlzLnVuZXNjYXBlSFRNTCh0aGlzLmVsZW1lbnRzLiRwcm9qZWN0cy5odG1sKCkpLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHR2aWV3VHlwZTogJ2dyaWQnLFxuXHRcdFx0XHRkaXNwbGF5UHJvamVjdExpc3Q6IGZhbHNlLFxuXHRcdFx0XHRwcm9qZWN0czogW10sXG5cdFx0XHRcdHBhZ2VBcnJheTogW10sXG5cdFx0XHRcdHBhZ2U6IDEsXG5cdFx0XHRcdHByb2plY3RzUGVyUGFnZTogMjQsXG5cdFx0XHRcdHN0YXRlOiAnaW5lcnQnXG5cdFx0XHR9LFxuXHRcdFx0Y29tcHV0ZWQ6IHtcblx0XHRcdFx0aGFzTW9yZVByb2plY3RzOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0KCdwYWdlJykgPCB0aGlzLm1heFBhZ2VzKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHByb2plY3RDb3VudDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLmdldCgncHJvamVjdHMnKS5sZW5ndGg7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRwYXJ0aWFsczoge1xuXHRcdFx0XHRpbWFnZTogJzxzcGFuIGNsYXNzPVwiby1iYWNrZ3JvdW5kIC1wYXJhbGxheC1zbWFsbCBqcy1wYXJhbGxheFwiIGRhdGEtc3BlZWQ9XCItMC42XCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoW1sgaW1hZ2UgXV0pO1wiPjwvc3Bhbj4nXG5cdFx0XHR9LFxuXHRcdFx0ZGVsaW1pdGVyczogWydbWycsICddXSddLFxuXHRcdFx0dHJpcGxlRGVsaW1pdGVyczogWydbW1snLCAnXV1dJ10sXG5cdFx0XHR0cmFuc2l0aW9uczogeyBmYWRlIH0sXG5cblxuXHRcdFx0bWF4UGFnZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgcHJvamVjdENvdW50ID0gdGhpcy5nZXQoJ3Byb2plY3RDb3VudCcpO1xuXHRcdFx0XHR2YXIgcHJvamVjdHNQZXJQYWdlID0gdGhpcy5nZXQoJ3Byb2plY3RzUGVyUGFnZScpO1xuXHRcdFx0XHR2YXIgcmVtYWluZGVyID0gKHByb2plY3RDb3VudCAlIHByb2plY3RzUGVyUGFnZSk7XG5cdFx0XHRcdHJldHVybiAocHJvamVjdENvdW50IC0gcmVtYWluZGVyKSAvIHByb2plY3RzUGVyUGFnZSArIChyZW1haW5kZXIgIT09IDAgPyAxIDogMCk7XG5cdFx0XHR9LFxuXG5cdFx0XHR1cGRhdGVQYWdlQXJyYXk6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIHBhZ2VBcnJheTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHZhciBwcm9qZWN0cyA9IHRoaXMuZ2V0KCdwcm9qZWN0cycpO1xuXHRcdFx0XHRcdHZhciBwcm9qZWN0c1BlclBhZ2UgPSB0aGlzLmdldCgncHJvamVjdHNQZXJQYWdlJyk7XG5cdFx0XHRcdFx0dmFyIHBhZ2VBcnJheSA9IFtdO1xuXHRcdFx0XHRcdHZhciBpID0gMDtcblx0XHRcdFx0XHR2YXIgbGVuID0gdGhpcy5nZXQoJ3BhZ2UnKTtcblx0XHRcdFx0XHRmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdFx0XHRsZXQgbWluID0gcHJvamVjdHNQZXJQYWdlICogaTtcblx0XHRcdFx0XHRcdGxldCBtYXggPSAocHJvamVjdHNQZXJQYWdlICogaSkgKyBwcm9qZWN0c1BlclBhZ2U7XG5cdFx0XHRcdFx0XHRsZXQgcGFnZSA9IHByb2plY3RzLnNsaWNlKG1pbiwgbWF4KTtcblx0XHRcdFx0XHRcdHBhZ2VBcnJheVtpXSA9IHtcblx0XHRcdFx0XHRcdFx0cHJvamVjdHM6IHBhZ2UsXG5cdFx0XHRcdFx0XHRcdHByb2plY3RzTG9hZGluZzogKGkgPT09IGxlbiAtIDEpXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLnNldCgncGFnZUFycmF5JywgcGFnZUFycmF5KVxuXHRcdFx0XHRcdC8vIHJldHVybiBwYWdlQXJyYXk7XG5cdFx0XHRcdC8vIH0sXG5cdFx0XHR9LFxuXG5cdFx0XHQvKipcblx0XHRcdCAqIEFsbG93cyB1cyB0byBzZXQgcHJveHkgZXZlbnRzIGFuZCBydW4gb3RoZXIgdGFza3Mgd2hlbiBjb250cm9sbGVyIGlzIGluaXRpYWxpemVkXG5cdFx0XHQgKi9cblx0XHRcdG9uaW5pdCA6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0Ly8gX3RoaXMuJGRvY3VtZW50LnRyaWdnZXIoJ3BhcmFsbGF4LnVwZGF0ZScpO1xuXG5cdFx0XHRcdC8vIFByb3h5IGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRcdHRoaXMub24oe1xuXHRcdFx0XHRcdGxvYWROZXh0UGFnZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmFkZCgncGFnZScpLnRoZW4oKCkgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdHRoaXMudXBkYXRlUGFnZUFycmF5KCk7XG5cblx0XHRcdFx0XHRcdFx0JChkb2N1bWVudCkudHJpZ2dlcignU21vb3RoU2Nyb2xsaW5nLnJlYnVpbGQnKTtcblxuXHRcdFx0XHRcdFx0XHR2YXIgcGFnZXMgPSB0aGlzLmdldCgncGFnZUFycmF5Jykuc2xpY2UoKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5zZXQoJ3BhZ2VBcnJheS4nICsgKHBhZ2VzLmxlbmd0aCAtIDEpICsgJy5wcm9qZWN0c0xvYWRpbmcnLCBmYWxzZSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHJlZnJlc2hQcm9qZWN0czogZnVuY3Rpb24gKGRhdGEsIG9wdGlvbnMpIHtcblx0XHRcdFx0XHRcdHRoaXMuc2V0KCdzdGF0ZScsJ2xvYWRpbmcnKTtcblx0XHRcdFx0XHRcdF90aGlzLmludm9rZUZpbHRlcmVkSXRlbXMoZGF0YSwgKHByb2plY3RzKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0KCdkaXNwbGF5UHJvamVjdExpc3QnLCBmYWxzZSkudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zZXQoJ3BhZ2UnLCAxKTtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldCgncHJvamVjdHMnLCBwcm9qZWN0cykudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnVwZGF0ZVBhZ2VBcnJheSgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRfdGhpcy5maWx0ZXJzQ29udHJvbGxlci5maXJlKCdyZWZyZXNoUHJvamVjdFR5cGVDb3VudCcsIHByb2plY3RzLnNsaWNlKCkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAodHlwZW9mIG9wdGlvbnMuZmlyc3RCbG9vZCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YW5pbWF0ZVRvKCQoJy5qcy1wcm9qZWN0cycpKTsgLy8gQHNoYW1lXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlRGVwZW5kZW5jeShfdGhpcy5zbW9vdGhTY3JvbGxpbmdEZXBlbmRlbmN5KTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0X3RoaXMuZWxlbWVudHMuJHRvdGFsLnRleHQocHJvamVjdHMubGVuZ3RoKVxuXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldCgnc3RhdGUnLCAnaW5lcnQnKS50aGVuKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5zZXQoJ2Rpc3BsYXlQcm9qZWN0TGlzdCcsIHRydWUpLnRoZW4oKCkgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHBhZ2VzID0gdGhpcy5nZXQoJ3BhZ2VBcnJheScpLnNsaWNlKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldCgncGFnZUFycmF5LicgKyAocGFnZXMubGVuZ3RoIC0gMSkgKyAnLnByb2plY3RzTG9hZGluZycsIGZhbHNlKS50aGVuKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5maXJzdEJsb29kKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCQoZG9jdW1lbnQpLnRyaWdnZXIoJ1Ntb290aFNjcm9sbGluZy5yZWJ1aWxkJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCQoZG9jdW1lbnQpLnRyaWdnZXIoJ1Ntb290aFNjcm9sbGluZy5yZWJ1aWxkJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIDMwMSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcmFjdGl2ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBRdWVyeSBzZXJ2ZXIgZm9yIGl0ZW1zIGFuZCBzZW5kIHRoZW0gdG8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uXG5cdCAqIEBwYXJhbSAge2FycmF5fSAgICAgZGF0YSAgICAgIE9iamVjdCBmb3JtZWQgYnkgYSBrZXl3b3JkIGFuZCBhIGxpc3Qgb2YgZmlsdGVycyB0byBxdWVyeSBEQiB3aXRoXG5cdCAqIEBwYXJhbSAge2Z1bmN0aW9ufSAgY2FsbGJhY2sgIEZ1bmN0aW9uIHRvIGV4ZWN1dGUgYWZ0ZXIgdGhlIEFKQVggcmVxdWVzdCBpcyBkb25lXG5cdCAqL1xuXHRpbnZva2VGaWx0ZXJlZEl0ZW1zIChkYXRhLCBjYWxsYmFjaykge1xuXHRcdHZhciByZXN1bHRzID0gW107XG5cdFx0dmFyIGpxeGhyID0gJC5hamF4KHtcblx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHR1cmw6ICdwcm9qZWN0L2xpc3QnLFxuXHRcdFx0ZGF0YTogZGF0YVxuXHRcdH0pXG5cdFx0LmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdGlmIChyZXNwb25zZS5zdWNjZXNzID09PSB0cnVlKSB7XG5cdFx0XHRcdHJlc3VsdHMgPSByZXNwb25zZS5yZXN1bHRzO1xuXHRcdFx0fVxuXHRcdH0pXG5cdFx0LmZhaWwoZnVuY3Rpb24oKXt9KVxuXHRcdC5hbHdheXMoZnVuY3Rpb24oKSB7XG5cdFx0XHRjYWxsYmFjayhyZXN1bHRzKTtcblx0XHR9KTtcblx0fVxuXG5cdGRlc3Ryb3kgKCkge1xuXHRcdGlmICh0eXBlb2YgdGhpcy5zY3JvbGxiYXJUYWdzICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0dGhpcy5zY3JvbGxiYXJUYWdzLmRlc3Ryb3koKTtcblx0XHRcdHRoaXMuc2Nyb2xsYmFyRmlsdGVycy5kZXN0cm95KCk7XG5cdFx0fVxuXHRcdHRoaXMuZmlsdGVyc0NvbnRyb2xsZXIudGVhcmRvd24oKTtcblx0XHR0aGlzLnByb2plY3RzQ29udHJvbGxlci50ZWFyZG93bigpO1xuXHRcdHRoaXMuJGVsLm9mZignLkZpbHRlcnMnKTtcblx0fVxufVxuIiwiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEdlbmVyaWMgbW9kdWxlXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuaW1wb3J0IEFic3RyYWN0TW9kdWxlIGZyb20gJy4vQWJzdHJhY3RNb2R1bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEFic3RyYWN0TW9kdWxlIHtcbiAgICBjb25zdHJ1Y3RvciAob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvLyBEZXN0cm95XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLiRlbC5vZmYoKTtcbiAgICB9XG59XG4iLCIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU2xpZGVyIHBhZ2Vcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5pbXBvcnQgQWJzdHJhY3RNb2R1bGUgZnJvbSAnLi9BYnN0cmFjdE1vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RNb2R1bGUge1xuXHRjb25zdHJ1Y3RvciAob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXG5cdFx0dGhpcy5jdXJyZW50U2xpZGUgPSAxO1xuXHRcdHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcblx0XHR0aGlzLmFuaW1hdGlvbkR1cmF0aW9uID0gMTIwMDtcblx0XHR0aGlzLm1heFNsaWRlID0gdGhpcy4kZWwuZmluZCgkKCcuanMtc2xpZGVyLWhvbWUtc2xpZGUnKSkubGVuZ3RoO1xuXHRcdHRoaXMuJGNvbnRyb2xzID0gdGhpcy4kZWwuZmluZCgnLmpzLXNsaWRlci1ob21lLWJ1dHRvbicpO1xuXG5cdFx0dGhpcy4kZWwub24oJ2NsaWNrJywgJy5qcy1zbGlkZXItaG9tZS1uZXh0JywgKGV2ZW50KSA9PiB0aGlzLm5leHRTbGlkZSgpKTtcblx0XHR0aGlzLiRlbC5vbignY2xpY2snLCAnLmpzLXNsaWRlci1ob21lLXByZXYnLCAoZXZlbnQpID0+IHRoaXMucHJldlNsaWRlKCkpO1xuXHR9XG5cblx0Ly8gTmV4dCBzbGlkZVxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRuZXh0U2xpZGUoKSB7XG5cdFx0dGhpcy5wcmV2ZW50Q2xpY2soKTtcblxuXHRcdGlmICh0aGlzLmN1cnJlbnRTbGlkZSA9PT0gdGhpcy5tYXhTbGlkZSkge1xuXHRcdFx0dGhpcy5jdXJyZW50U2xpZGUgPSAwO1xuXHRcdH1cblxuXHRcdHRoaXMuY3VycmVudFNsaWRlKys7XG5cdFx0dGhpcy4kZWwuZmluZCgnLmpzLXNsaWRlci1ob21lLXNsaWRlLmlzLXByZXYnKS5yZW1vdmVDbGFzcygnaXMtcHJldicpLmFkZENsYXNzKCdpcy1uZXh0Jyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnLmpzLXNsaWRlci1ob21lLXNsaWRlLmlzLWN1cnJlbnQnKS5yZW1vdmVDbGFzcygnaXMtY3VycmVudCcpLmFkZENsYXNzKCdpcy1wcmV2Jyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnLmpzLXNsaWRlci1ob21lLXNsaWRlW2RhdGEtc2xpZGU9XCInK3RoaXMuY3VycmVudFNsaWRlKydcIl0nKS5yZW1vdmVDbGFzcygnaXMtbmV4dCcpLmFkZENsYXNzKCdpcy1jdXJyZW50Jyk7XG5cdH1cblxuXHQvLyBQcmV2IHNsaWRlXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdHByZXZTbGlkZSgpIHtcblx0XHR0aGlzLnByZXZlbnRDbGljaygpO1xuXG5cdFx0aWYgKHRoaXMuY3VycmVudFNsaWRlID09PSAxKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRTbGlkZSA9IHRoaXMubWF4U2xpZGUgKyAxO1xuXHRcdH1cblxuXHRcdHRoaXMuY3VycmVudFNsaWRlLS07XG5cdFx0dGhpcy4kZWwuZmluZCgnLmpzLXNsaWRlci1ob21lLXNsaWRlLmlzLW5leHQnKS5yZW1vdmVDbGFzcygnaXMtbmV4dCcpLmFkZENsYXNzKCdpcy1wcmV2Jyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnLmpzLXNsaWRlci1ob21lLXNsaWRlLmlzLWN1cnJlbnQnKS5yZW1vdmVDbGFzcygnaXMtY3VycmVudCcpLmFkZENsYXNzKCdpcy1uZXh0Jyk7XG5cdFx0dGhpcy4kZWwuZmluZCgnLmpzLXNsaWRlci1ob21lLXNsaWRlW2RhdGEtc2xpZGU9XCInK3RoaXMuY3VycmVudFNsaWRlKydcIl0nKS5yZW1vdmVDbGFzcygnaXMtcHJldicpLmFkZENsYXNzKCdpcy1jdXJyZW50Jyk7XG5cdH1cblxuXHQvLyBQcmV2ZW50IGNsaWNrXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdHByZXZlbnRDbGljaygpIHtcblx0XHR0aGlzLmlzQW5pbWF0aW5nID0gdHJ1ZTtcblx0XHR0aGlzLiRjb250cm9scy5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHR0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XG5cdFx0XHR0aGlzLiRjb250cm9scy5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblx0XHR9LCB0aGlzLmFuaW1hdGlvbkR1cmF0aW9uKTtcblx0fVxuXG5cdC8vIERlc3Ryb3lcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0ZGVzdHJveSgpIHtcblx0XHR0aGlzLiRlbC5vZmYoKTtcblx0fVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklpSXNJbVpwYkdVaU9pSk1aV2RsYm1RdWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXMTE5IiwiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEdlbmVyaWMgbW9kdWxlXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuaW1wb3J0IEFic3RyYWN0TW9kdWxlIGZyb20gJy4vQWJzdHJhY3RNb2R1bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEFic3RyYWN0TW9kdWxlIHtcblx0Y29uc3RydWN0b3IgKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblxuXHRcdHRoaXMuJGVsLm9uKCdjbGljaycsICcuanMtbGlnaHRib3gtdmlkZW8tb3BlbicsIChldmVudCkgPT4gdGhpcy5vcGVuTGlnaHRib3goZXZlbnQpKTtcblx0XHR0aGlzLiRlbC5vbignY2xpY2snLCAnLmpzLWxpZ2h0Ym94LXZpZGVvLWNsb3NlJywgKCkgPT4gdGhpcy5jbG9zZUxpZ2h0Ym94KCkpO1xuXHR9XG5cblx0Ly8gT3BlblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRvcGVuTGlnaHRib3goZXZlbnQpIHtcblx0XHRsZXQgZGF0YVZpZGVvID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKCd2aWRlbycpO1xuXHRcdHRoaXMuJGJvZHkuYWRkQ2xhc3MoJ2hhcy1saWdodGJveC12aWRlby1vcGVuJyk7XG5cdFx0JCgnLmpzLWxpZ2h0Ym94LXZpZGVvLWNvbnRlbnQnKS5odG1sKGRhdGFWaWRlbyk7XG5cdH1cblxuXHQvLyBDbG9zZVxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRjbG9zZUxpZ2h0Ym94KCkge1xuXHRcdHRoaXMuJGJvZHkucmVtb3ZlQ2xhc3MoJ2hhcy1saWdodGJveC12aWRlby1vcGVuJyk7XG5cblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdCQoJy5qcy1saWdodGJveC12aWRlby1jb250ZW50JykuaHRtbChcIlwiKTtcblx0XHR9LCA2MDApO1xuXHR9XG5cblx0Ly8gRGVzdHJveVxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRkZXN0cm95KCkge1xuXHRcdHRoaXMuJGVsLm9mZigpO1xuXHR9XG59XG4iLCIvKiBqc2hpbnQgZXNuZXh0OiB0cnVlICovXG5pbXBvcnQgQWJzdHJhY3RNb2R1bGUgZnJvbSAnLi9BYnN0cmFjdE1vZHVsZSdcbmltcG9ydCBNYXAgZnJvbSAnLi9NYXAnXG5pbXBvcnQgdGFwIGZyb20gJ3JhY3RpdmUtZXZlbnRzLXRhcCc7XG5pbXBvcnQgZmFkZSBmcm9tICdyYWN0aXZlLXRyYW5zaXRpb25zLWZhZGUnO1xuaW1wb3J0IHsgYWRkRGVwZW5kZW5jeSwgcmVzb2x2ZURlcGVuZGVuY3kgfSBmcm9tICcuLi9nbG9iYWwvZGVwZW5kZW5jaWVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBBYnN0cmFjdE1vZHVsZSB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHR0aGlzLnNtb290aFNjcm9sbGluZ0RlcGVuZGVuY3kgPSBhZGREZXBlbmRlbmN5KCdMb2NhdGlvblN3aXRjaGVyJywgJ1Ntb290aFNjcm9sbGluZycpO1xuXG5cdFx0dGhpcy4kbWFwQ29udGFpbmVyID0gdGhpcy4kZWwuZmluZCgnLmpzLW1hcC1jb250YWluZXInKTtcblx0XHR0aGlzLiRzd2l0Y2hlckNvbnRhaW5lciA9IHRoaXMuJGVsLmZpbmQoJy5qcy1zd2l0Y2hlci1jb250YWluZXInKTtcblx0XHR0aGlzLmlkUHJlZml4ID0gJ2xvY2F0aW9uXyc7XG5cdFx0dGhpcy5pY29uID0gdGhpcy4kbWFwQ29udGFpbmVyLmRhdGEoJ2ljb24nKTtcblx0XHR0aGlzLnBsYWNlcyA9IHRoaXMucHJlcGFyZUxvY2F0aW9ucyh3aW5kb3cubG9jYXRpb25zT3B0aW9ucy5sb2NhdGlvbnMpO1xuXG5cdFx0dGhpcy5sb2NhdGlvbkNvbnRyb2xsZXIgPSB0aGlzLmluaXRMb2NhdGlvbkNvbnRyb2xsZXIoKTtcblx0XHR3aW5kb3cuUmFjdGl2ZS5ERUJVRyA9IGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoaXMgY29udHJvbGxlciBpcyB1c2VkIGZvciBzd2l0Y2hpbmcgYmV0d2VlbiBhY3RpdmUgbG9jYXRpb25zXG5cdCAqIEByZXR1cm4gIHtSYWN0aXZlIE9iamVjdH0gIFJhY3RpdmUgaW5zdGFuY2Vcblx0ICovXG5cdGluaXRMb2NhdGlvbkNvbnRyb2xsZXIoKSB7XG5cdFx0dmFyIF90aGlzID0gdGhpcztcblx0XHR2YXIgcmFjdGl2ZSA9IG5ldyBSYWN0aXZlKHtcblx0XHRcdGVsOiB0aGlzLiRzd2l0Y2hlckNvbnRhaW5lcixcblx0XHRcdHRlbXBsYXRlOiB0aGlzLnVuZXNjYXBlSFRNTCh0aGlzLiRzd2l0Y2hlckNvbnRhaW5lci5odG1sKCkpLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRsb2NhdGlvbnM6IHdpbmRvdy5sb2NhdGlvbnNPcHRpb25zLmxvY2F0aW9ucyxcblx0XHRcdFx0YWN0aXZlTG9jYXRpb246IHt9LFxuXHRcdFx0XHRkaXNwbGF5QWN0aXZlTG9jYXRpb246IHRydWUsXG5cdFx0XHRcdGlzQWN0aXZlOiBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0XHRcdHJldHVybiBpdGVtLmlkID09PSB0aGlzLmdldCgnYWN0aXZlTG9jYXRpb24nKS5pZDtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGV2ZW50czogeyB0YXAgfSxcblx0XHRcdHRyYW5zaXRpb25zOiB7IGZhZGUgfSxcblx0XHRcdC8qKlxuXHRcdFx0ICogQWxsb3dzIHVzIHRvIHNldCBwcm94eSBldmVudHMgYW5kIHJ1biBvdGhlciB0YXNrcyB3aGVuIGNvbnRyb2xsZXIgaXMgaW5pdGlhbGl6ZWRcblx0XHRcdCAqIEBwYXJhbSAge2FycmF5fSAgb3B0aW9ucyAgQXJyYXkgb2Ygb3B0aW9uc1xuXHRcdFx0ICovXG5cdFx0XHRvbmluaXQgOiBmdW5jdGlvbiAoIG9wdGlvbnMgKSB7XG5cdFx0XHRcdC8vIFNldCBhY3RpdmUgbG9jYXRpb24gYXMgZmlyc3Qgb2YgbG9jYXRpb25zIHNldFxuXHRcdFx0XHR0aGlzLnNldCgnYWN0aXZlTG9jYXRpb24nLCB0aGlzLmdldCgnbG9jYXRpb25zLjAnKSk7XG5cblx0XHRcdFx0Ly8gSW5pdCBtYXAgYW5kIHNldCBmaXJzdCBsb2NhdGlvbiBhcyBcImFjdGl2ZVwiXG5cdFx0XHRcdF90aGlzLm1hcCA9IG5ldyBNYXAoe1xuXHRcdFx0XHRcdCRjb250YWluZXI6IF90aGlzLiRtYXBDb250YWluZXIsXG5cdFx0XHRcdFx0bWFwT3B0aW9uczoge1xuXHRcdFx0XHRcdFx0cGxhY2VzOiBfdGhpcy5wbGFjZXNcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGNvbnRyb2xsZXJSZWFkeUNhbGxiYWNrOiBmdW5jdGlvbihtYXApIHtcblx0XHRcdFx0XHRcdHJlc29sdmVEZXBlbmRlbmN5KF90aGlzLnNtb290aFNjcm9sbGluZ0RlcGVuZGVuY3kpO1xuXHRcdFx0XHRcdFx0cmFjdGl2ZS5kaXNwbGF5QWN0aXZlTG9jYXRpb24oKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHRoaXMub24oe1xuXHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdCAqIFdoZW4gd2UgdG9nZ2xlIGEgbG9jYXRpb24sIHdlIHNldCB0aGUgYWN0aXZlIGV2ZW50XG5cdFx0XHRcdFx0ICogYW5kIGNoYW5nZSB0aGUgbWFwXG5cdFx0XHRcdFx0ICogQHBhcmFtICB7b2JqZWN0fSAgZXZlbnQgIFJhY3RpdmUgZXZlbnQgb2JqZWN0XG5cdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0dG9nZ2xlTG9jYXRpb246IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldCgnZGlzcGxheUFjdGl2ZUxvY2F0aW9uJywgZmFsc2UpLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHJhY3RpdmUuc2V0KCdhY3RpdmVMb2NhdGlvbicsIHJhY3RpdmUuZ2V0KGV2ZW50LmtleXBhdGgpKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHJhY3RpdmUuc2V0KCdkaXNwbGF5QWN0aXZlTG9jYXRpb24nLCB0cnVlKTtcblx0XHRcdFx0XHRcdFx0XHRyYWN0aXZlLmRpc3BsYXlBY3RpdmVMb2NhdGlvbigpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBVcGRhdGVzIHRoZSBHb29nbGUgTWFwIGJ5IHNob3dpbmcgb25seSB0aGUgYWN0aXZlIGxvY2F0aW9uXG5cdFx0XHQgKi9cblx0XHRcdGRpc3BsYXlBY3RpdmVMb2NhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBpZGVudCA9IF90aGlzLmlkUHJlZml4ICsgdGhpcy5nZXQoJ2FjdGl2ZUxvY2F0aW9uJykuaWQ7XG5cdFx0XHRcdHZhciBwbGFjZSA9IF90aGlzLm1hcC5jb250cm9sbGVyLmdldF9wbGFjZShpZGVudCk7XG5cblx0XHRcdFx0X3RoaXMubWFwLmNvbnRyb2xsZXIuZmlsdGVyKGlkZW50KTtcblx0XHRcdFx0X3RoaXMubWFwLmNvbnRyb2xsZXIuc2V0X3pvb20oMTApO1xuXHRcdFx0XHRfdGhpcy5tYXAuY29udHJvbGxlci5tYXAoKS5zZXRDZW50ZXIocGxhY2Uub2JqZWN0KCkuZ2V0UG9zaXRpb24oKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcmFjdGl2ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0IG91ciBMb2NhdGlvbiBtb2RlbHMgdG8gQkIgTWFwIG9iamVjdHNcblx0ICogQHJldHVybiB7YXJyYXl9XG5cdCAqL1xuXHRwcmVwYXJlTG9jYXRpb25zKGxvY2F0aW9ucykge1xuXHRcdHZhciBpID0gMDtcblx0XHR2YXIgbGVuID0gbG9jYXRpb25zLmxlbmd0aDtcblx0XHR2YXIgcHJlcHBlZExvY2F0aW9ucyA9IHt9O1xuXG5cdFx0Zm9yICg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0bGV0IGlkID0gdGhpcy5pZFByZWZpeCArIGxvY2F0aW9uc1tpXS5pZDtcblx0XHRcdHByZXBwZWRMb2NhdGlvbnNbaWRdID0ge1xuXHRcdFx0XHR0eXBlIDogJ21hcmtlcicsXG5cdFx0XHRcdGNhdGVnb3JpZXM6IFtpZF0sXG5cdFx0XHRcdGljb246IHtcblx0XHRcdFx0XHRzcmM6IHRoaXMuaWNvbixcblx0XHRcdFx0XHRoZWlnaHQ6IDQwLFxuXHRcdFx0XHRcdHdpZHRoOiAzM1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb29yZHMgOiBbXG5cdFx0XHRcdFx0bG9jYXRpb25zW2ldLmxhdCxcblx0XHRcdFx0XHRsb2NhdGlvbnNbaV0ubG9uXG5cdFx0XHRcdF1cblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHByZXBwZWRMb2NhdGlvbnM7XG5cdH1cblxuXHQvLyBEZXN0cm95XG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGRlc3Ryb3koKSB7XG5cdFx0dGhpcy5sb2NhdGlvbkNvbnRyb2xsZXIudGVhcmRvd24oKTtcblx0XHR0aGlzLiRlbC5vZmYoJy5Mb2NhdGlvblN3aXRjaGVyJyk7XG5cdH1cbn1cbiIsIi8qIGpzaGludCBlc25leHQ6IHRydWUgKi9cbmNsYXNzIE1hcCB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdHRoaXMuY29udHJvbGxlciA9IHVuZGVmaW5lZDtcblx0XHRcdHRoaXMuJGNvbnRhaW5lciA9IG9wdGlvbnMuJGNvbnRhaW5lcjtcblxuXHRcdFx0dmFyIG1hcE9wdGlvbnMgPSAgKHR5cGVvZihvcHRpb25zLm1hcE9wdGlvbnMpICE9PSAndW5kZWZpbmVkJykgPyBvcHRpb25zLm1hcE9wdGlvbnMgOiB7fTtcblx0XHRcdHZhciBjb250cm9sbGVyUmVhZHlDYWxsYmFjayA9ICh0eXBlb2Yob3B0aW9ucy5jb250cm9sbGVyUmVhZHlDYWxsYmFjaykgIT09ICd1bmRlZmluZWQnKSA/IG9wdGlvbnMuY29udHJvbGxlclJlYWR5Q2FsbGJhY2sgOiBmdW5jdGlvbigpe307XG5cblx0XHRcdHRoaXMuJGNvbnRhaW5lci5vbignY29udHJvbGxlclJlYWR5Lk1hcCcsICgpID0+IHtcblx0XHRcdFx0Y29udHJvbGxlclJlYWR5Q2FsbGJhY2sodGhpcyk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gSWYgZ29vZ2xlIGlzIHVuZGVmaW5lZFxuXHRcdFx0aWYgKCF3aW5kb3cuZ29vZ2xlIHx8ICF3aW5kb3cuZ29vZ2xlLm1hcHMpIHtcblx0XHRcdFx0d2luZG93Ll90bXBfZ29vZ2xlX29ubG9hZCA9ICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXlNYXAobWFwT3B0aW9ucyk7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0JC5nZXRTY3JpcHQoXG5cdFx0XHRcdFx0J2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz9zZW5zb3I9dHJ1ZSZ2PTMnICtcblx0XHRcdFx0XHQnJmxhbmd1YWdlPWZyJmNhbGxiYWNrPV90bXBfZ29vZ2xlX29ubG9hZCZrZXk9QUl6YVN5Q1JMLWxoUFhtNVNNNmNDN1kwamRrakNmQXBVOFh1cjNZJyxcblx0XHRcdFx0XHRmdW5jdGlvbiAoKSB7fVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZGlzcGxheU1hcChtYXBPcHRpb25zKTtcblx0XHRcdH1cblx0XHR9LCAxNzAwKTtcblx0fVxuXG5cdGRpc3BsYXlNYXAobWFwT3B0aW9ucykge1xuXHRcdGlmICghdGhpcy4kY29udGFpbmVyLmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHZhciBpY29uID0gdGhpcy4kY29udGFpbmVyLmRhdGEoJ2ljb24nKTtcblx0XHR2YXIgYWRkcmVzcyA9IHRoaXMuJGNvbnRhaW5lci5kYXRhKCdhZGRyZXNzJyk7XG5cdFx0dmFyIHNjcm9sbHdoZWVsID0gKHR5cGVvZih0aGlzLiRjb250YWluZXIuZGF0YSgnc2Nyb2xsd2hlZWwnKSkgIT09ICd1bmRlZmluZWQnKSA/IHRydWUgOiBmYWxzZTtcblx0XHR2YXIgcGxhY2VzID0gKHR5cGVvZihtYXBPcHRpb25zLnBsYWNlcykgIT09ICd1bmRlZmluZWQnKSA/IG1hcE9wdGlvbnMucGxhY2VzIDoge307XG5cblx0XHQvLyBEZWZhdWx0IG9wdGlvbnMuXG5cdFx0Ly8gTWFwIGNlbnRlciBjaGFuZ2VzIGFmdGVyIHRoZSBtYXJrZXIgaXMgYWRkZWRcblx0XHR2YXIgY29udHJvbGxlck9wdGlvbnMgPSB7XG5cdFx0XHRtYXA6IHtcblx0XHRcdFx0Y2VudGVyOiB7XG5cdFx0XHRcdFx0eDogNDUuMzcxMjkyMyxcblx0XHRcdFx0XHR5OiAtNzMuOTgyMDk5NFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR6b29tOiAzLFxuXHRcdFx0XHRzY3JvbGx3aGVlbDogc2Nyb2xsd2hlZWwsXG5cdFx0XHRcdG1hcFR5cGU6ICdyb2FkbWFwJyxcblx0XHRcdFx0Y29vcmRzVHlwZTogJ2lucGFnZScsIC8vIGFycmF5LCBqc29uPyAodnMgdWwgbGkpXG5cdFx0XHRcdG1hcF9tb2RlOiAnZGVmYXVsdCcsXG5cdFx0XHRcdC8vZGlzYWJsZURlZmF1bHRVSTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHBsYWNlczogcGxhY2VzLFxuXHRcdFx0bWF4X2ZpdGJvdW5kc196b29tOiAxNFxuXHRcdH07XG5cblx0XHR0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQkIuZ21hcC5jb250cm9sbGVyKHRoaXMuJGNvbnRhaW5lci5nZXQoMCksIGNvbnRyb2xsZXJPcHRpb25zKTtcblxuXHRcdHRoaXMuY29udHJvbGxlci5pbml0KCk7XG5cblx0XHR0aGlzLmNvbnRyb2xsZXIuc2V0X3N0eWxlcyhbe1wiZmVhdHVyZVR5cGVcIjpcImFsbFwiLFwiZWxlbWVudFR5cGVcIjpcImdlb21ldHJ5XCIsXCJzdHlsZXJzXCI6W3tcImxpZ2h0bmVzc1wiOlwiLTVcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwiYWxsXCIsXCJlbGVtZW50VHlwZVwiOlwiZ2VvbWV0cnkuZmlsbFwiLFwic3R5bGVyc1wiOlt7XCJsaWdodG5lc3NcIjpcIi0xMFwifSx7XCJzYXR1cmF0aW9uXCI6XCItMTAwXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcImFsbFwiLFwiZWxlbWVudFR5cGVcIjpcImxhYmVsc1wiLFwic3R5bGVyc1wiOlt7XCJ2aXNpYmlsaXR5XCI6XCJvZmZcIn0se1wibGlnaHRuZXNzXCI6XCIwXCJ9LHtcImdhbW1hXCI6XCIxXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcImFsbFwiLFwiZWxlbWVudFR5cGVcIjpcImxhYmVscy50ZXh0XCIsXCJzdHlsZXJzXCI6W3tcInZpc2liaWxpdHlcIjpcIm9uXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcImFsbFwiLFwiZWxlbWVudFR5cGVcIjpcImxhYmVscy50ZXh0LmZpbGxcIixcInN0eWxlcnNcIjpbe1widmlzaWJpbGl0eVwiOlwib25cIn0se1wibGlnaHRuZXNzXCI6XCIwXCJ9LHtcImdhbW1hXCI6XCIxXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcImFsbFwiLFwiZWxlbWVudFR5cGVcIjpcImxhYmVscy50ZXh0LnN0cm9rZVwiLFwic3R5bGVyc1wiOlt7XCJodWVcIjpcIiNkNzAwZmZcIn0se1widmlzaWJpbGl0eVwiOlwib2ZmXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcImFsbFwiLFwiZWxlbWVudFR5cGVcIjpcImxhYmVscy5pY29uXCIsXCJzdHlsZXJzXCI6W3tcImh1ZVwiOlwiI2ZmMDAwMFwifV19LHtcImZlYXR1cmVUeXBlXCI6XCJhZG1pbmlzdHJhdGl2ZVwiLFwiZWxlbWVudFR5cGVcIjpcImxhYmVscy50ZXh0LmZpbGxcIixcInN0eWxlcnNcIjpbe1wiY29sb3JcIjpcIiM0NDQ0NDRcIn0se1wic2F0dXJhdGlvblwiOlwiMFwifSx7XCJsaWdodG5lc3NcIjpcIjBcIn0se1widmlzaWJpbGl0eVwiOlwib25cIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwiYWRtaW5pc3RyYXRpdmUuY291bnRyeVwiLFwiZWxlbWVudFR5cGVcIjpcImdlb21ldHJ5LnN0cm9rZVwiLFwic3R5bGVyc1wiOlt7XCJsaWdodG5lc3NcIjpcIjUwXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcImFkbWluaXN0cmF0aXZlLmNvdW50cnlcIixcImVsZW1lbnRUeXBlXCI6XCJsYWJlbHMudGV4dC5maWxsXCIsXCJzdHlsZXJzXCI6W3tcImxpZ2h0bmVzc1wiOlwiMjVcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwiYWRtaW5pc3RyYXRpdmUucHJvdmluY2VcIixcImVsZW1lbnRUeXBlXCI6XCJnZW9tZXRyeS5zdHJva2VcIixcInN0eWxlcnNcIjpbe1wid2VpZ2h0XCI6XCIxXCJ9LHtcImxpZ2h0bmVzc1wiOlwiMFwifV19LHtcImZlYXR1cmVUeXBlXCI6XCJhZG1pbmlzdHJhdGl2ZS5wcm92aW5jZVwiLFwiZWxlbWVudFR5cGVcIjpcImxhYmVscy50ZXh0XCIsXCJzdHlsZXJzXCI6W3tcImxpZ2h0bmVzc1wiOlwiMjVcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwiYWRtaW5pc3RyYXRpdmUubG9jYWxpdHlcIixcImVsZW1lbnRUeXBlXCI6XCJsYWJlbHMudGV4dFwiLFwic3R5bGVyc1wiOlt7XCJsaWdodG5lc3NcIjpcIjMwXCJ9LHtcImdhbW1hXCI6XCIxLjAwXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcImFkbWluaXN0cmF0aXZlLm5laWdoYm9yaG9vZFwiLFwiZWxlbWVudFR5cGVcIjpcImxhYmVscy50ZXh0XCIsXCJzdHlsZXJzXCI6W3tcImxpZ2h0bmVzc1wiOlwiNTNcIn0se1wiZ2FtbWFcIjpcIjEuMDBcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwiYWRtaW5pc3RyYXRpdmUubmVpZ2hib3Job29kXCIsXCJlbGVtZW50VHlwZVwiOlwibGFiZWxzLnRleHQuZmlsbFwiLFwic3R5bGVyc1wiOlt7XCJsaWdodG5lc3NcIjpcIi0yMFwifSx7XCJnYW1tYVwiOlwiMS4wMFwifV19LHtcImZlYXR1cmVUeXBlXCI6XCJhZG1pbmlzdHJhdGl2ZS5sYW5kX3BhcmNlbFwiLFwiZWxlbWVudFR5cGVcIjpcImxhYmVscy50ZXh0LmZpbGxcIixcInN0eWxlcnNcIjpbe1wibGlnaHRuZXNzXCI6XCIzMFwifSx7XCJnYW1tYVwiOlwiMVwifSx7XCJ2aXNpYmlsaXR5XCI6XCJvblwifV19LHtcImZlYXR1cmVUeXBlXCI6XCJhZG1pbmlzdHJhdGl2ZS5sYW5kX3BhcmNlbFwiLFwiZWxlbWVudFR5cGVcIjpcImxhYmVscy50ZXh0LnN0cm9rZVwiLFwic3R5bGVyc1wiOlt7XCJ2aXNpYmlsaXR5XCI6XCJvblwifV19LHtcImZlYXR1cmVUeXBlXCI6XCJsYW5kc2NhcGVcIixcImVsZW1lbnRUeXBlXCI6XCJhbGxcIixcInN0eWxlcnNcIjpbe1wiY29sb3JcIjpcIiNmMmYyZjJcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwibGFuZHNjYXBlXCIsXCJlbGVtZW50VHlwZVwiOlwiZ2VvbWV0cnkuZmlsbFwiLFwic3R5bGVyc1wiOlt7XCJsaWdodG5lc3NcIjpcIi0xMFwifV19LHtcImZlYXR1cmVUeXBlXCI6XCJsYW5kc2NhcGVcIixcImVsZW1lbnRUeXBlXCI6XCJsYWJlbHMudGV4dC5maWxsXCIsXCJzdHlsZXJzXCI6W3tcImxpZ2h0bmVzc1wiOlwiLTQwXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcInBvaVwiLFwiZWxlbWVudFR5cGVcIjpcImFsbFwiLFwic3R5bGVyc1wiOlt7XCJ2aXNpYmlsaXR5XCI6XCJvZmZcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwicm9hZFwiLFwiZWxlbWVudFR5cGVcIjpcImFsbFwiLFwic3R5bGVyc1wiOlt7XCJsaWdodG5lc3NcIjpcIjE4XCJ9LHtcInNhdHVyYXRpb25cIjpcIi0xMDBcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwicm9hZFwiLFwiZWxlbWVudFR5cGVcIjpcImdlb21ldHJ5LmZpbGxcIixcInN0eWxlcnNcIjpbe1wibGlnaHRuZXNzXCI6XCItMzBcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwicm9hZFwiLFwiZWxlbWVudFR5cGVcIjpcImxhYmVscy5pY29uXCIsXCJzdHlsZXJzXCI6W3tcInZpc2liaWxpdHlcIjpcIm9mZlwifSx7XCJsaWdodG5lc3NcIjpcIjUwXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcInJvYWQuaGlnaHdheVwiLFwiZWxlbWVudFR5cGVcIjpcImFsbFwiLFwic3R5bGVyc1wiOlt7XCJ2aXNpYmlsaXR5XCI6XCJzaW1wbGlmaWVkXCJ9LHtcImxpZ2h0bmVzc1wiOlwiMFwifV19LHtcImZlYXR1cmVUeXBlXCI6XCJyb2FkLmhpZ2h3YXlcIixcImVsZW1lbnRUeXBlXCI6XCJnZW9tZXRyeS5maWxsXCIsXCJzdHlsZXJzXCI6W3tcIndlaWdodFwiOlwiMVwifSx7XCJzYXR1cmF0aW9uXCI6XCIwXCJ9LHtcImxpZ2h0bmVzc1wiOlwiODNcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwicm9hZC5hcnRlcmlhbFwiLFwiZWxlbWVudFR5cGVcIjpcImFsbFwiLFwic3R5bGVyc1wiOlt7XCJsaWdodG5lc3NcIjpcIjBcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwicm9hZC5hcnRlcmlhbFwiLFwiZWxlbWVudFR5cGVcIjpcImdlb21ldHJ5LmZpbGxcIixcInN0eWxlcnNcIjpbe1wibGlnaHRuZXNzXCI6XCI4MFwifV19LHtcImZlYXR1cmVUeXBlXCI6XCJyb2FkLmFydGVyaWFsXCIsXCJlbGVtZW50VHlwZVwiOlwibGFiZWxzLmljb25cIixcInN0eWxlcnNcIjpbe1widmlzaWJpbGl0eVwiOlwib2ZmXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcInJvYWQubG9jYWxcIixcImVsZW1lbnRUeXBlXCI6XCJhbGxcIixcInN0eWxlcnNcIjpbe1wibGlnaHRuZXNzXCI6XCIwXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcInJvYWQubG9jYWxcIixcImVsZW1lbnRUeXBlXCI6XCJnZW9tZXRyeS5maWxsXCIsXCJzdHlsZXJzXCI6W3tcImxpZ2h0bmVzc1wiOlwiODBcIn0se1wiZ2FtbWFcIjpcIjFcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwicm9hZC5sb2NhbFwiLFwiZWxlbWVudFR5cGVcIjpcImdlb21ldHJ5LnN0cm9rZVwiLFwic3R5bGVyc1wiOlt7XCJzYXR1cmF0aW9uXCI6XCIwXCJ9LHtcImxpZ2h0bmVzc1wiOlwiLTE1XCJ9LHtcIndlaWdodFwiOlwiLjI1XCJ9LHtcImdhbW1hXCI6XCIxXCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcInJvYWQubG9jYWxcIixcImVsZW1lbnRUeXBlXCI6XCJsYWJlbHMudGV4dFwiLFwic3R5bGVyc1wiOlt7XCJsaWdodG5lc3NcIjpcIjBcIn0se1wiZ2FtbWFcIjpcIjEuMDBcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwidHJhbnNpdFwiLFwiZWxlbWVudFR5cGVcIjpcImFsbFwiLFwic3R5bGVyc1wiOlt7XCJ2aXNpYmlsaXR5XCI6XCJvZmZcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwid2F0ZXJcIixcImVsZW1lbnRUeXBlXCI6XCJhbGxcIixcInN0eWxlcnNcIjpbe1wiY29sb3JcIjpcIiNmZmMxZDlcIn0se1widmlzaWJpbGl0eVwiOlwib25cIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwid2F0ZXJcIixcImVsZW1lbnRUeXBlXCI6XCJnZW9tZXRyeS5maWxsXCIsXCJzdHlsZXJzXCI6W3tcImNvbG9yXCI6XCIjZmZmZmZmXCJ9LHtcInNhdHVyYXRpb25cIjpcIi0xMDBcIn0se1wibGlnaHRuZXNzXCI6XCItNVwifSx7XCJnYW1tYVwiOlwiMC41XCJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcIndhdGVyXCIsXCJlbGVtZW50VHlwZVwiOlwibGFiZWxzLnRleHQuZmlsbFwiLFwic3R5bGVyc1wiOlt7XCJ2aXNpYmlsaXR5XCI6XCJvZmZcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwid2F0ZXJcIixcImVsZW1lbnRUeXBlXCI6XCJsYWJlbHMudGV4dC5zdHJva2VcIixcInN0eWxlcnNcIjpbe1wid2VpZ2h0XCI6XCIuNzVcIn0se1widmlzaWJpbGl0eVwiOlwib2ZmXCJ9XX1dKTtcblxuXHRcdGlmIChhZGRyZXNzICE9PSAnJykge1xuXHRcdFx0dGhpcy5jb250cm9sbGVyLmFkZF9wbGFjZV9ieV9hZGRyZXNzKCdwbGFjZScsIGFkZHJlc3MsIHtcblx0XHRcdFx0dHlwZTogJ21hcmtlcicsXG5cdFx0XHRcdGljb246IHtcblx0XHRcdFx0XHRzcmM6IGljb24sXG5cdFx0XHRcdFx0aGVpZ2h0OiA4NCxcblx0XHRcdFx0XHR3aWR0aDogNjBcblx0XHRcdFx0fSxcblx0XHRcdFx0bG9hZGVkX2NhbGxiYWNrOiAobykgPT4ge1xuXHRcdFx0XHRcdHRoaXMuY29udHJvbGxlci5maXRfYm91bmRzKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHRoaXMuY29udHJvbGxlci5yZWFkeSgoKSA9PiB7XG5cdFx0XHR0aGlzLiRjb250YWluZXIudHJpZ2dlcignY29udHJvbGxlclJlYWR5Lk1hcCcpO1xuXHRcdH0pO1xuXHR9XG5cblxuXHQvLyBEZXN0cm95XG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGRlc3Ryb3koKSB7XG5cdFx0dGhpcy4kY29udGFpbmVyLm9mZignLk1hcCcpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1hcDtcbiIsIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBHZW5lcmljIG1vZHVsZVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmltcG9ydCBBYnN0cmFjdE1vZHVsZSBmcm9tICcuL0Fic3RyYWN0TW9kdWxlJztcbmltcG9ydCBTY3JvbGxiYXIgZnJvbSAnc21vb3RoLXNjcm9sbGJhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RNb2R1bGUge1xuXHRjb25zdHJ1Y3RvciAob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXG5cdFx0JCgnLmpzLW5hdi10b2dnbGUnKS5jbGljaygoZXZlbnQpID0+IHRoaXMudG9nZ2xlTmF2KCkpO1xuXG5cdFx0dGhpcy4kZWwuZmluZCgnLmpzLW5hdi1zZWFyY2gnKS5jbGljaygoZXZlbnQpID0+IHt9KTtcblx0XHR0aGlzLiRlbC5vbignY2xpY2snLCAnLmpzLXNlYXJjaC1idXR0b24nLCAoZXZlbnQpID0+IHRoaXMub3BlblNlYXJjaChldmVudCkpO1xuXG5cdFx0aWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogMTIwMHB4KVwiKS5tYXRjaGVzKSB7XG5cdFx0XHR0aGlzLnNjcm9sbGJhciA9IFNjcm9sbGJhci5pbml0KHRoaXMuJGVsLmZpbmQoJ1tkYXRhLXNjcm9sbGJhcl0nKVswXSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gT3BlbiBzZWFyY2hcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0b3BlblNlYXJjaChldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR0aGlzLiRib2R5LnRvZ2dsZUNsYXNzKCdoYXMtc2VhcmNoLW9wZW4nKTtcblxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0dGhpcy4kZWwuZmluZCgnLmpzLXNlYXJjaC1pbnB1dCcpLmZvY3VzKCk7XG5cdFx0fSwgMzAwKTtcblx0fVxuXG5cdC8vIFRvZ2dsZSBuYXZcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0dG9nZ2xlTmF2KCkge1xuXHRcdGlmICh0aGlzLiRib2R5Lmhhc0NsYXNzKCdoYXMtbmF2LW9wZW4nKSkge1xuXHRcdFx0dGhpcy4kYm9keS5yZW1vdmVDbGFzcygnaGFzLW5hdi1vcGVuJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuJGVsLmZpbmQoJy5qcy1zZWFyY2gtaW5wdXQnKS52YWwoJycpO1xuXHRcdFx0dGhpcy4kZWwuZmluZCgnLmpzLXNlYXJjaC1yZXN1bHRzJykuaHRtbCgnJyk7XG5cdFx0XHR0aGlzLiRib2R5LnJlbW92ZUNsYXNzKCdoYXMtc2VhcmNoLW9wZW4nKS5hZGRDbGFzcygnaGFzLW5hdi1vcGVuJyk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gRGVzdHJveVxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRkZXN0cm95KCkge1xuXHRcdHRoaXMuJGVsLm9mZigpO1xuXHR9XG59XG4iLCIvKiBqc2hpbnQgZXNuZXh0OiB0cnVlICovXG5pbXBvcnQgQWJzdHJhY3RNb2R1bGUgZnJvbSAnLi9BYnN0cmFjdE1vZHVsZSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBBYnN0cmFjdE1vZHVsZSB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblxuXHRcdHRoaXMuJGVsLm9uKCdjbGljaycsICcuanMtbmF2LW5ld3MtdG9nZ2xlJywgKGV2ZW50KSA9PiB0aGlzLnRvZ2dsZU5hdk5ld3MoKSk7XG5cdH1cblxuXHR0b2dnbGVOYXZOZXdzKCkge1xuXHRcdHRoaXMuJGJvZHkudG9nZ2xlQ2xhc3MoJ2hhcy1uYXYtbmV3cy1vcGVuJyk7XG5cblx0XHRpZiAodGhpcy4kYm9keS5oYXNDbGFzcygnaGFzLW5hdi1uZXdzLW9wZW4nKSkge1xuXHRcdFx0JCgnLmpzLW5ld3MtbmF2Jykuc2Nyb2xsVG9wKDApO1xuXHRcdH1cblx0fVxuXG5cdGRlc3Ryb3koKSB7XG5cdFx0dGhpcy4kZWwub2ZmKCk7XG5cdH1cbn1cbiIsIi8qIGpzaGludCBlc25leHQ6IHRydWUgKi9cbmltcG9ydCBBYnN0cmFjdE1vZHVsZSBmcm9tICcuL0Fic3RyYWN0TW9kdWxlJ1xuaW1wb3J0IHRhcCBmcm9tICdyYWN0aXZlLWV2ZW50cy10YXAnO1xuaW1wb3J0IGZhZGUgZnJvbSAncmFjdGl2ZS10cmFuc2l0aW9ucy1mYWRlJztcbmltcG9ydCBTY3JvbGxiYXIgZnJvbSAnc21vb3RoLXNjcm9sbGJhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RNb2R1bGUge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cblx0XHR0aGlzLmVsZW1lbnRzID0ge1xuXHRcdFx0JG5ld3NMaXN0OiB0aGlzLiRlbC5maW5kKCcuanMtbmV3cy1saXN0Jylcblx0XHR9O1xuXG5cdFx0dGhpcy5uZXdzTGlzdENvbnRyb2xsZXIgPSB0aGlzLmluaXROZXdzTGlzdENvbnRyb2xsZXIoKTtcblxuXHRcdHRoaXMuJGVsLm9uKCdjbGljay5OZXdzJywgJy5qcy1uZXdzLXRvZ2dsZScsIChldmVudCkgPT4ge1xuXHRcdFx0dGhpcy50b2dnbGVOYXZOZXdzKCk7XG5cdFx0fSk7XG5cblx0XHRpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiAxMjAwcHgpXCIpLm1hdGNoZXMpIHtcblx0XHRcdHRoaXMuc2Nyb2xsYmFyID0gU2Nyb2xsYmFyLmluaXQodGhpcy4kZWxbMF0pO1xuXHRcdH1cblx0XHR3aW5kb3cuUmFjdGl2ZS5ERUJVRyA9IGZhbHNlO1xuXHR9XG5cblx0dG9nZ2xlTmF2TmV3cygpIHtcblx0XHR0aGlzLiRib2R5LnRvZ2dsZUNsYXNzKCdoYXMtbmF2LW5ld3Mtb3BlbicpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoaXMgY29udHJvbGxlciBpcyB1c2VkIGZvciBsb2FkaW5nIG1vcmUgbmV3c1xuXHQgKlxuXHQgKiBAcmV0dXJuICB7UmFjdGl2ZSBPYmplY3R9ICBSYWN0aXZlIGluc3RhbmNlXG5cdCAqL1xuXHRpbml0TmV3c0xpc3RDb250cm9sbGVyKCkge1xuXHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cdFx0dmFyIHJhY3RpdmUgPSBuZXcgUmFjdGl2ZSh7XG5cdFx0XHRlbDogdGhpcy5lbGVtZW50cy4kbmV3c0xpc3QsXG5cdFx0XHR0ZW1wbGF0ZTogdGhpcy51bmVzY2FwZUhUTUwodGhpcy5lbGVtZW50cy4kbmV3c0xpc3QuaHRtbCgpKSxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0bmV3czogd2luZG93Lm5ld3NPcHRpb25zLm5ld3MsXG5cdFx0XHRcdHBhZ2U6IHdpbmRvdy5uZXdzT3B0aW9ucy5wYWdlLFxuXHRcdFx0XHRuZXh0UGFnZTogd2luZG93Lm5ld3NPcHRpb25zLm5leHRQYWdlLFxuXHRcdFx0XHRzdGF0ZTogd2luZG93Lm5ld3NPcHRpb25zLnN0YXRlXG5cdFx0XHR9LFxuXHRcdFx0ZXZlbnRzOiB7IHRhcCB9LFxuXHRcdFx0dHJhbnNpdGlvbnM6IHsgZmFkZSB9LFxuXG5cdFx0XHQvKipcblx0XHRcdCAqIEFsbG93cyB1cyB0byBzZXQgcHJveHkgZXZlbnRzIGFuZCBydW4gb3RoZXIgdGFza3Mgd2hlbiBjb250cm9sbGVyIGlzIGluaXRpYWxpemVkXG5cdFx0XHQgKlxuXHRcdFx0ICogQHBhcmFtICB7YXJyYXl9ICBvcHRpb25zICBBcnJheSBvZiBvcHRpb25zXG5cdFx0XHQgKi9cblx0XHRcdG9uaW5pdCA6IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcblx0XHRcdFx0dmFyIF9yYWN0aXZlID0gdGhpcztcblx0XHRcdFx0dGhpcy5vbih7XG5cblx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHQgKiBXaGVuIGxvYWQgbW9yZSBpcyBjbGlja2VkLCB3ZSBmZXRjaCBtb3JlIG5ld3Ncblx0XHRcdFx0XHQgKiBJZiBuZXh0UGFnZSBpcyBmYWxzZSwgdGhlIGJ1dHRvbiB3aWxsIGRpc2FwZWFyXG5cdFx0XHRcdFx0ICpcblx0XHRcdFx0XHQgKiBAcGFyYW0gIHtvYmplY3R9ICBldmVudCAgUmFjdGl2ZSBldmVudCBvYmplY3Rcblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHQgbG9hZE1vcmU6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHR2YXIgcGFyYW1ldGVycyA9IHtcblx0XHRcdFx0XHRcdFx0cGFnZTogdGhpcy5nZXQoJ3BhZ2UnKVxuXHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0dGhpcy5zZXQoJ3N0YXRlJywnbG9hZGluZycpO1xuXG5cdFx0XHRcdFx0XHRfdGhpcy5pbnZva2VMb2FkTmV3cyhwYXJhbWV0ZXJzLCBmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHRcdFx0XHQvLyBHaXZlIGFuIGltcHJlc3Npb24gb2YgbG9hZGluZywgbGVsXG5cdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdFx0X3JhY3RpdmUuc2V0KHtcblx0XHRcdFx0XHRcdFx0XHRcdCdwYWdlJzogcmVzcG9uc2UucGFnZSxcblx0XHRcdFx0XHRcdFx0XHRcdCduZXh0UGFnZSc6IHJlc3BvbnNlLm5leHRQYWdlXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0X3JhY3RpdmUucHVzaC5hcHBseShfcmFjdGl2ZSwgWyAnbmV3cycgXS5jb25jYXQocmVzcG9uc2UubmV3cykpLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRfcmFjdGl2ZS5zZXQoJ3N0YXRlJywgJ2luZXJ0Jyk7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH0sIDUwMCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJhY3RpdmU7XG5cdH1cblxuXHQvKipcblx0ICogUXVlcnkgc2VydmVyIGZvciBuZXdzIGFuZCBzZW5kIHRoZW0gdG8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uXG5cdCAqIEBwYXJhbSAge2FycmF5fSAgICAgZGF0YSAgICAgIE9iamVjdCBmb3JtZWQgYnkgYSBwYWdlIG51bWJlclxuXHQgKiBAcGFyYW0gIHtmdW5jdGlvbn0gIGNhbGxiYWNrICBGdW5jdGlvbiB0byBleGVjdXRlIGFmdGVyIHRoZSBBSkFYIHJlcXVlc3QgaXMgZG9uZVxuXHQgKi9cblx0aW52b2tlTG9hZE5ld3MgKGRhdGEsIGNhbGxiYWNrKSB7XG5cdFx0Ly8gRGVmYXVsdCByZXNwb25zZVxuXHRcdHZhciBfcmVzcG9uc2UgPSB7XG5cdFx0XHRuZXdzOiBbXSxcblx0XHRcdHBhZ2U6IGRhdGEucGFnZSxcblx0XHRcdG5leHRQYWdlOiBmYWxzZVxuXHRcdH07XG5cdFx0dmFyIGpxeGhyID0gJC5hamF4KHtcblx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHR1cmw6ICduZXdzL2xpc3QnLFxuXHRcdFx0ZGF0YTogZGF0YVxuXHRcdH0pXG5cdFx0LmRvbmUoKHJlc3BvbnNlKSA9PiB7XG5cdFx0XHRpZiAocmVzcG9uc2Uuc3VjY2VzcyA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRfcmVzcG9uc2UgPSByZXNwb25zZTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdC5mYWlsKCgpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKCdlcnJvcicpO1xuXHRcdH0pXG5cdFx0LmFsd2F5cygoKSA9PiB7XG5cdFx0XHRjYWxsYmFjayhfcmVzcG9uc2UpO1xuXHRcdH0pO1xuXHR9XG5cblx0ZGVzdHJveSgpIHtcblx0XHR0aGlzLm5ld3NMaXN0Q29udHJvbGxlci50ZWFyZG93bigpO1xuXHRcdHRoaXMuJGVsLm9mZignLk5ld3MnKTtcblx0fVxufVxuIiwiXG4vKiBqc2hpbnQgZXNuZXh0OiB0cnVlICovXG5pbXBvcnQgQmFyYmEgZnJvbSAnYmFyYmEuanMnO1xuaW1wb3J0IHsgJGRvY3VtZW50LCAkd2luZG93LCAkaHRtbCwgJGJvZHkgfSBmcm9tICcuLi91dGlscy9lbnZpcm9ubWVudCc7XG5pbXBvcnQgeyB0cmFuc2l0aW9ucyB9IGZyb20gJy4uL2dsb2JhbC9QYWdlVHJhbnNpdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHR0aGlzLmxvYWQoKTtcblx0fVxuXG5cdGxvYWQoKXtcblxuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdC8vSW5pdCBCYXJiYSBKU1xuXHRcdEJhcmJhLlBqYXguRG9tLmNvbnRhaW5lckNsYXNzID0gJ2pzLWJhcmJhLWNvbnRhaW5lcic7XG5cdFx0QmFyYmEuUGpheC5Eb20ud3JhcHBlcklkID0gJ2pzLWJhcmJhLXdyYXBwZXInO1xuXG5cdFx0QmFyYmEuUGpheC5zdGFydCgpO1xuXG5cdFx0dmFyIG1haW5UcmFuc2l0aW9uID0gQmFyYmEuQmFzZVRyYW5zaXRpb24uZXh0ZW5kKHRyYW5zaXRpb25zLm1haW5UcmFuc2l0aW9uKTtcblx0XHR2YXIgbmF2VHJhbnNpdGlvbiA9IEJhcmJhLkJhc2VUcmFuc2l0aW9uLmV4dGVuZCh0cmFuc2l0aW9ucy5uYXZUcmFuc2l0aW9uKTtcblx0XHR2YXIgc2VjdGlvblRyYW5zaXRpb24gPSBCYXJiYS5CYXNlVHJhbnNpdGlvbi5leHRlbmQodHJhbnNpdGlvbnMuc2VjdGlvblRyYW5zaXRpb24pO1xuXG5cdFx0QmFyYmEuUGpheC5nZXRUcmFuc2l0aW9uID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoc2VsZi5yb3V0ZSA9PT0gJ25hdicpe1xuXHRcdFx0XHRyZXR1cm4gbmF2VHJhbnNpdGlvbjtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKHNlbGYucm91dGUgPT0gJ3NhbWUtc2VjdGlvbicpIHtcblx0XHRcdFx0cmV0dXJuIHNlY3Rpb25UcmFuc2l0aW9uO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHJldHVybiBtYWluVHJhbnNpdGlvbjtcblx0XHRcdH1cblx0XHR9O1xuXG5cblx0XHRCYXJiYS5EaXNwYXRjaGVyLm9uKCdsaW5rQ2xpY2tlZCcsIGZ1bmN0aW9uKGN1cnJlbnRTdGF0dXMsIG9sZFN0YXR1cywgY29udGFpbmVyKSB7XG5cdFx0XHRzZWxmLnJvdXRlPSBjdXJyZW50U3RhdHVzLmdldEF0dHJpYnV0ZSgnZGF0YS1yb3V0ZScpO1xuXHRcdFx0c2VsZi5yb3V0ZU9wdGlvbj0gY3VycmVudFN0YXR1cy5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm91dGUtb3B0aW9uJyk7XG5cblx0XHRcdGlmKHNlbGYucm91dGVPcHRpb24gIT0gdW5kZWZpbmVkKXtcblx0XHRcdFx0JGJvZHkuYXR0cignZGF0YS1yb3V0ZS1vcHRpb24nLHNlbGYucm91dGVPcHRpb24pO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdCRib2R5LmF0dHIoJ2RhdGEtcm91dGUtb3B0aW9uJywnJyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvKipcblx0XHQgKiBFeGVjdXRlIGFueSB0aGlyZCBwYXJ0eSBmZWF0dXJlcy5cblx0XHQgKi9cblx0XHRCYXJiYS5EaXNwYXRjaGVyLm9uKCduZXdQYWdlUmVhZHknLCBmdW5jdGlvbihjdXJyZW50U3RhdHVzLCBvbGRTdGF0dXMsIGNvbnRhaW5lcikge1xuXG5cdFx0XHRpZiAod2luZG93LmdhICYmICEkaHRtbC5kYXRhKCdkZWJ1ZycpKSB7XG5cdFx0XHRcdGdhKCdzZW5kJywge1xuXHRcdFx0XHRcdGhpdFR5cGU6ICdwYWdldmlldycsXG5cdFx0XHRcdFx0cGFnZTogbG9jYXRpb24ucGF0aG5hbWUsXG5cdFx0XHRcdFx0bG9jYXRpb246IGN1cnJlbnRTdGF0dXMudXJsLFxuXHRcdFx0XHRcdHRpdGxlOiBkb2N1bWVudC50aXRsZVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGpzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCJzY3JpcHRcIik7XG5cdFx0XHRpZihqcyAhPSBudWxsKXtcblx0XHRcdFx0ZXZhbChqcy5pbm5lckhUTUwpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0ZGVzdHJveSgpIHtcblx0XHR0aGlzLiRlbC5vZmYoKTtcblx0fVxufVxuIiwiLyoganNoaW50IGVzbmV4dDogdHJ1ZSAqL1xuaW1wb3J0IEFic3RyYWN0TW9kdWxlIGZyb20gJy4vQWJzdHJhY3RNb2R1bGUnXG5pbXBvcnQgU2Nyb2xsYmFyIGZyb20gJ3Ntb290aC1zY3JvbGxiYXInO1xuLy8gaW1wb3J0IHRhcCBmcm9tICcuLi9yYWN0aXZlL3JhY3RpdmUtZXZlbnRzLXRhcCc7XG4vLyBpbXBvcnQgZmFkZSBmcm9tICcuLi9yYWN0aXZlL3JhY3RpdmUtdHJhbnNpdGlvbnMtZmFkZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RNb2R1bGUge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cdFx0dGhpcy5zZWFyY2hSZXN1bHRzQ29udHJvbGxlciA9IHRoaXMuaW5pdFNlYXJjaFJlc3VsdHNDb250cm9sbGVyKCk7XG5cblx0XHRpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiAxMjAwcHgpXCIpLm1hdGNoZXMpIHtcblx0XHRcdHRoaXMuc2Nyb2xsYmFyID0gU2Nyb2xsYmFyLmluaXQodGhpcy4kZWwuZmluZCgnW2RhdGEtc2Nyb2xsYmFyXScpWzBdKTtcblx0XHR9XG5cdFx0d2luZG93LlJhY3RpdmUuREVCVUcgPSBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGlzIGNvbnRyb2xsZXIgaXMgdXNlZCBmb3IgbG9hZGluZyBzZWFyY2ggcmVzdWx0cyBhbmQgdmFyaW91cyB2aXN1YWwgZWZmZWN0c1xuXHQgKlxuXHQgKiBAcmV0dXJuICB7UmFjdGl2ZSBPYmplY3R9ICBSYWN0aXZlIGluc3RhbmNlXG5cdCAqL1xuXHRpbml0U2VhcmNoUmVzdWx0c0NvbnRyb2xsZXIoKSB7XG5cdFx0dmFyIF90aGlzID0gdGhpcztcblx0XHR2YXIgdGltZW91dCA9IDA7XG5cdFx0dmFyIG1pbkxlbmd0aCA9IDM7XG5cdFx0dmFyIHNlYXJjaERlbGF5ID0gNTAwO1xuXHRcdHZhciByYWN0aXZlID0gbmV3IFJhY3RpdmUoe1xuXHRcdFx0ZWw6IHRoaXMuJGVsLFxuXHRcdFx0dGVtcGxhdGU6IHRoaXMudW5lc2NhcGVIVE1MKHRoaXMuJGVsLmh0bWwoKSksXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdGtleXdvcmQ6ICcnLFxuXHRcdFx0XHRuZXdzOiBbXSxcblx0XHRcdFx0cHJvamVjdHM6IFtdLFxuXHRcdFx0XHRzdGF0ZTogJ2luZXJ0J1xuXHRcdFx0fSxcblx0XHRcdGNvbXB1dGVkOiB7XG5cdFx0XHRcdGRpc3BsYXlTZWFyY2hSZXN1bHRzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5nZXQoJ2tleXdvcmQnKS5sZW5ndGggPj0gbWluTGVuZ3RoO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRlbmNvZGVkS2V5d29yZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0KCdrZXl3b3JkJykucmVwbGFjZSgvXFxzL2csICcmbmJzcDsnKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0aGFzTmV3czogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMub2JqZWN0Q291bnQoJ25ld3MnKSAhPT0gMDtcblx0XHRcdFx0fSxcblx0XHRcdFx0aGFzUHJvamVjdHM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLm9iamVjdENvdW50KCdwcm9qZWN0cycpICE9PSAwO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRoYXNTZWN0aW9uczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMub2JqZWN0Q291bnQoJ3NlY3Rpb25zJykgIT09IDA7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGlzTG9hZGluZzogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0KCdzdGF0ZScpID09PSAnbG9hZGluZyc7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRvdGFsUmVzdWx0czogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0KCdwcm9qZWN0cycpLmxlbmd0aCArIHRoaXMuZ2V0KCduZXdzJykubGVuZ3RoICsgdGhpcy5nZXQoJ3NlY3Rpb25zJykubGVuZ3RoO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0Ly8gZXZlbnRzOiB7IHRhcCB9LFxuXHRcdFx0Ly8gdHJhbnNpdGlvbnM6IHsgZmFkZSB9LFxuXG5cdFx0XHQvKipcblx0XHRcdCAqIE5ld3MgbW9kZWxcblx0XHRcdCAqIEBwYXJhbSAge29iamVjdH0gIHBhcmFtcyAgSW5pdGlhbCB2YWx1ZXMgZm9yIHRoZSBtb2RlbFxuXHRcdFx0ICogQHJldHVybiB7b2JqZWN0fSAgICAgICAgICBOZXdzIG1vZGVsXG5cdFx0XHQgKlxuXHRcdFx0ICogTW9kZWwgcHJvcGVydGllc1xuXHRcdFx0ICpcblx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSAgdXJsXG5cdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gIHRpdGxlXG5cdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gIGRhdGVcblx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSAgZGVzY3JpcHRpb25cblx0XHRcdCAqL1xuXHRcdFx0Z2V0TmV3c01vZGVsOiBmdW5jdGlvbiAoIHBhcmFtcyApIHtcblx0XHRcdFx0dmFyIGRlZmF1bHRzID0ge1xuXHRcdFx0XHRcdHVybDogJycsXG5cdFx0XHRcdFx0dGl0bGU6ICcnLFxuXHRcdFx0XHRcdGRhdGU6ICcnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiAnJ1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRyZXR1cm4gJC5leHRlbmQoZGVmYXVsdHMsIHBhcmFtcyk7XG5cdFx0XHR9LFxuXG5cdFx0XHQvKipcblx0XHRcdCAqIFByb2plY3QgbW9kZWxcblx0XHRcdCAqIEBwYXJhbSAge29iamVjdH0gIHBhcmFtcyAgSW5pdGlhbCB2YWx1ZXMgZm9yIHRoZSBtb2RlbFxuXHRcdFx0ICogQHJldHVybiB7b2JqZWN0fSAgICAgICAgICBQcm9qZWN0IG1vZGVsXG5cdFx0XHQgKlxuXHRcdFx0ICogTW9kZWwgcHJvcGVydGllc1xuXHRcdFx0ICpcblx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSAgdXJsXG5cdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gIGltYWdlXG5cdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gIHRpdGxlXG5cdFx0XHQgKiBAcGFyYW0ge2FycmF5fSAgIHRhZ3Ncblx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSAgZGVzY3JpcHRpb25cblx0XHRcdCAqL1xuXHRcdFx0Z2V0UHJvamVjdE1vZGVsOiBmdW5jdGlvbiAoIHBhcmFtcyApIHtcblx0XHRcdFx0dmFyIGRlZmF1bHRzID0ge1xuXHRcdFx0XHRcdHVybDogJycsXG5cdFx0XHRcdFx0aW1hZ2U6ICcnLFxuXHRcdFx0XHRcdHRpdGxlOiAnJyxcblx0XHRcdFx0XHR0YWdzOiBbXSxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJydcblx0XHRcdFx0fTtcblx0XHRcdFx0cmV0dXJuICQuZXh0ZW5kKGRlZmF1bHRzLCBwYXJhbXMpO1xuXHRcdFx0fSxcblx0XHRcdGdldFNlY3Rpb25Nb2RlbDogZnVuY3Rpb24gKCBwYXJhbXMgKSB7XG5cdFx0XHRcdHZhciBkZWZhdWx0cyA9IHtcblx0XHRcdFx0XHR1cmw6ICcnLFxuXHRcdFx0XHRcdHRpdGxlOiAnJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJydcblx0XHRcdFx0fTtcblx0XHRcdFx0cmV0dXJuICQuZXh0ZW5kKGRlZmF1bHRzLCBwYXJhbXMpO1xuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBDb3VudCBvYmplY3RzIGFjY29yZGluZyB0byBrZXlwYXRoXG5cdFx0XHQgKiBAcGFyYW0gIHtzdHJpbmd9ICBrZXlwYXRoXG5cdFx0XHQgKiBAcmV0dXJuIHtpbnR9XG5cdFx0XHQgKi9cblx0XHRcdG9iamVjdENvdW50OiBmdW5jdGlvbihrZXlwYXRoKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmdldChrZXlwYXRoKS5sZW5ndGg7XG5cdFx0XHR9LFxuXG5cdFx0XHQvKipcblx0XHRcdCAqIEFsbG93cyB1cyB0byBzZXQgcHJveHkgZXZlbnRzIGFuZCBydW4gb3RoZXIgdGFza3Mgd2hlbiBjb250cm9sbGVyIGlzIGluaXRpYWxpemVkXG5cdFx0XHQgKlxuXHRcdFx0ICogQHBhcmFtICB7YXJyYXl9ICBvcHRpb25zICBBcnJheSBvZiBvcHRpb25zXG5cdFx0XHQgKi9cblx0XHRcdG9uaW5pdCA6IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcblx0XHRcdFx0dGhpcy5vbih7XG5cdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0ICogRW1wdHkgYWxsIHNlYXJjaCByZXN1bHRzXG5cdFx0XHRcdFx0ICpcblx0XHRcdFx0XHQgKiBAcGFyYW0gIHtvYmplY3R9ICBldmVudCAgUmFjdGl2ZSBldmVudCBvYmplY3Rcblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRlbXB0eVJlc3VsdHM6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRcdHJhY3RpdmUuc2V0KCdwcm9qZWN0cycsIFtdKTtcblx0XHRcdFx0XHRcdHJhY3RpdmUuc2V0KCduZXdzJywgW10pO1xuXHRcdFx0XHRcdFx0cmFjdGl2ZS5zZXQoJ3NlY3Rpb25zJywgW10pO1xuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHQgKiBXaGVuIGxvYWQgbW9yZSBpcyBjbGlja2VkLCB3ZSBmZXRjaCBtb3JlIG5ld3Ncblx0XHRcdFx0XHQgKiBJZiBuZXh0UGFnZSBpcyBmYWxzZSwgdGhlIGJ1dHRvbiB3aWxsIGRpc2FwZWFyXG5cdFx0XHRcdFx0ICpcblx0XHRcdFx0XHQgKiBAcGFyYW0gIHtvYmplY3R9ICBldmVudCAgUmFjdGl2ZSBldmVudCBvYmplY3Rcblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRsb2FkU2VhcmNoUmVzdWx0czogZnVuY3Rpb24gKCBldmVudCApIHtcblx0XHRcdFx0XHRcdHZhciBwYXJhbWV0ZXJzID0ge1xuXHRcdFx0XHRcdFx0XHRrZXl3b3JkOiB0aGlzLmdldCgna2V5d29yZCcpXG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHR0aGlzLnNldCgnc3RhdGUnLCdsb2FkaW5nJyk7XG5cblx0XHRcdFx0XHRcdF90aGlzLmludm9rZUxvYWRSZXN1bHRzKHBhcmFtZXRlcnMsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFx0XHRcdHJhY3RpdmUuc2V0KCdwcm9qZWN0cycsIHJlc3BvbnNlLnByb2plY3RzKTtcblx0XHRcdFx0XHRcdFx0cmFjdGl2ZS5zZXQoJ3NlY3Rpb25zJywgcmVzcG9uc2Uuc2VjdGlvbnMpO1xuXHRcdFx0XHRcdFx0XHRyYWN0aXZlLnNldCgnbmV3cycsIHJlc3BvbnNlLm5ld3MpLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmFjdGl2ZS5zZXQoJ3N0YXRlJywgJ2luZXJ0Jyk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdCAqIEdvYmJsZSB1cCB0aGUgc3VibWl0IGV2ZW50XG5cdFx0XHRcdFx0ICpcblx0XHRcdFx0XHQgKiBAcGFyYW0gIHtvYmplY3R9ICBldmVudCAgUmFjdGl2ZSBldmVudCBvYmplY3Rcblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRzdWJtaXRGb3JtOiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIFdhdGNoaW5nIGZvciBjaGFuZ2VzIG9uIHRoZSB0eXBlZCBpbiBkYXRhXG5cdFx0cmFjdGl2ZS5vYnNlcnZlKCdrZXl3b3JkJywgZnVuY3Rpb24obmV3VmFsdWUpIHtcblxuXHRcdFx0Ly8gVGltZW91dCBjbGVhcmluZyFcblx0XHRcdGlmICh0aW1lb3V0ICE9PSAwKSB7XG5cdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0XHRcdFx0dGltZW91dCA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGxlc3MgdGhhbiBtaW5MZW5ndGggY2hhcmFjdGVycywgY2xlYXIgb3V0IHRoZSBzZWFyY2ggcmVzdWx0c1xuXHRcdFx0aWYgKG5ld1ZhbHVlLmxlbmd0aCA8IG1pbkxlbmd0aCkge1xuXHRcdFx0XHRyYWN0aXZlLmZpcmUoJ2VtcHR5UmVzdWx0cycpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gRG9udCBzZWFyY2ggaWYgbG9hZGluZ1xuXHRcdFx0XHRpZiAocmFjdGl2ZS5nZXQoJ3N0YXRlJykgPT09ICdpbmVydCcpIHtcblx0XHRcdFx0XHR0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJhY3RpdmUuZmlyZSgnbG9hZFNlYXJjaFJlc3VsdHMnKTtcblx0XHRcdFx0XHR9LCBzZWFyY2hEZWxheSlcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJhY3RpdmU7XG5cdH1cblxuXHQvKipcblx0ICogUXVlcnkgc2VydmVyIGZvciBzZWFyY2ggcmVzdWx0cyBhbmQgc2VuZCB0aGVtIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvblxuXHQgKiBAcGFyYW0gIHthcnJheX0gICAgIGRhdGEgICAgICBPYmplY3QgZm9ybWVkIGJ5IGEga2V5d29yZFxuXHQgKiBAcGFyYW0gIHtmdW5jdGlvbn0gIGNhbGxiYWNrICBGdW5jdGlvbiB0byBleGVjdXRlIGFmdGVyIHRoZSBBSkFYIHJlcXVlc3QgaXMgZG9uZVxuXHQgKi9cblx0aW52b2tlTG9hZFJlc3VsdHMgKGRhdGEsIGNhbGxiYWNrKSB7XG5cdFx0Ly8gRGVmYXVsdCByZXNwb25zZVxuXHRcdHZhciBfcmVzcG9uc2UgPSB7XG5cdFx0XHRuZXdzOiBbXSxcblx0XHRcdHByb2plY3RzOiBbXVxuXHRcdH07XG5cdFx0dmFyIGpxeGhyID0gJC5hamF4KHtcblx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHR1cmw6ICdzZWFyY2gnLFxuXHRcdFx0ZGF0YTogZGF0YVxuXHRcdH0pXG5cdFx0LmRvbmUoKHJlc3BvbnNlKSA9PiB7XG5cdFx0XHRpZiAocmVzcG9uc2Uuc3VjY2VzcyA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRfcmVzcG9uc2UgPSByZXNwb25zZTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdC5mYWlsKCgpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKCdlcnJvcicpO1xuXHRcdH0pXG5cdFx0LmFsd2F5cygoKSA9PiB7XG5cdFx0XHRjYWxsYmFjayhfcmVzcG9uc2UpO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gRGVzdHJveVxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRkZXN0cm95KCkge1xuXHRcdHRoaXMuc2VhcmNoUmVzdWx0c0NvbnRyb2xsZXIudGVhcmRvd24oKTtcblx0XHR0aGlzLiRlbC5vZmYoJy5TZWFyY2gnKTtcblx0fVxufVxuIiwiaW1wb3J0IEFic3RyYWN0TW9kdWxlIGZyb20gJy4vQWJzdHJhY3RNb2R1bGUnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RNb2R1bGUge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cblx0XHR0aGlzLiR0b2dnbGVzID0gdGhpcy4kZWwuZmluZCgnLmpzLXN3aXRjaC10b2dnbGUnKTtcblx0XHR0aGlzLiRpbWFnZUVsZW0gPSB0aGlzLiRlbC5maW5kKCcuanMtaW1hZ2UnKTtcblxuXHRcdHRoaXMuJGVsLm9uKCdtb3VzZWVudGVyLlNpbWlsYXJTd2l0Y2hlcicsICcuanMtc3dpdGNoLXRvZ2dsZScsIChldmVudCkgPT4ge1xuXHRcdFx0dGhpcy5zd2l0Y2hQcm9qZWN0KGV2ZW50KTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIEhvdmVyIHByb2plY3Rcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0c3dpdGNoUHJvamVjdChldmVudCkge1xuXHRcdHZhciBzcmMgPSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pbWFnZScpO1xuXG5cdFx0aWYgKHNyYyAhPT0gbnVsbCkge1xuXHRcdFx0dGhpcy4kdG9nZ2xlcy5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG5cdFx0XHQkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcblx0XHRcdHRoaXMuJGltYWdlRWxlbS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAndXJsKCcgKyBzcmMgKyAnKScpO1xuXHRcdH1cblx0fVxuXG5cdC8vIERlc3Ryb3lcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0ZGVzdHJveSgpIHtcblx0XHR0aGlzLiRlbC5vZmYoJy5TaW1pbGFyU3dpdGNoZXInKTtcblx0fVxufVxuIiwiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNsaWRlciBob21lXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuaW1wb3J0IEFic3RyYWN0TW9kdWxlIGZyb20gJy4vQWJzdHJhY3RNb2R1bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEFic3RyYWN0TW9kdWxlIHtcblx0Y29uc3RydWN0b3IgKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblxuXHRcdHRoaXMuY3VycmVudFNsaWRlID0gMTtcblx0XHR0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XG5cdFx0dGhpcy5hbmltYXRpb25EdXJhdGlvbiA9IDEyMDA7XG5cdFx0dGhpcy5hdXRvcGxheVNwZWVkID0gMTAwMDA7XG5cdFx0dGhpcy5pbnRlcnZhbDtcblx0XHR0aGlzLm1heFNsaWRlID0gdGhpcy4kZWwuZmluZCgkKCcuanMtc2xpZGVyLWhvbWUtc2xpZGUnKSkubGVuZ3RoO1xuXHRcdHRoaXMuJGNvbnRyb2xzID0gdGhpcy4kZWwuZmluZCgnLmpzLXNsaWRlci1ob21lLWJ1dHRvbicpO1xuXG5cdFx0dGhpcy4kZWwub24oJ2NsaWNrJywgJy5qcy1zbGlkZXItaG9tZS1uZXh0JywgKGV2ZW50KSA9PiB0aGlzLm5leHRTbGlkZSgpKTtcblx0XHR0aGlzLiRlbC5vbignY2xpY2snLCAnLmpzLXNsaWRlci1ob21lLXByZXYnLCAoZXZlbnQpID0+IHRoaXMucHJldlNsaWRlKCkpO1xuXG5cdFx0dGhpcy5zdGFydEF1dG9wbGF5KCk7XG5cdH1cblxuXHQvLyBOZXh0IHNsaWRlXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdG5leHRTbGlkZSgpIHtcblx0XHR0aGlzLnByZXZlbnRDbGljaygpO1xuXG5cdFx0aWYgKHRoaXMuY3VycmVudFNsaWRlID09PSB0aGlzLm1heFNsaWRlKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRTbGlkZSA9IDA7XG5cdFx0fVxuXG5cdFx0dGhpcy5jdXJyZW50U2xpZGUrKztcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtc2xpZGVyLWhvbWUtc2xpZGUuaXMtcHJldicpLnJlbW92ZUNsYXNzKCdpcy1wcmV2JykuYWRkQ2xhc3MoJ2lzLW5leHQnKTtcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtc2xpZGVyLWhvbWUtc2xpZGUuaXMtY3VycmVudCcpLnJlbW92ZUNsYXNzKCdpcy1jdXJyZW50JykuYWRkQ2xhc3MoJ2lzLXByZXYnKTtcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtc2xpZGVyLWhvbWUtc2xpZGVbZGF0YS1zbGlkZT1cIicrdGhpcy5jdXJyZW50U2xpZGUrJ1wiXScpLnJlbW92ZUNsYXNzKCdpcy1uZXh0JykuYWRkQ2xhc3MoJ2lzLWN1cnJlbnQnKTtcblx0fVxuXG5cdC8vIFByZXYgc2xpZGVcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0cHJldlNsaWRlKCkge1xuXHRcdHRoaXMucHJldmVudENsaWNrKCk7XG5cblx0XHRpZiAodGhpcy5jdXJyZW50U2xpZGUgPT09IDEpIHtcblx0XHRcdHRoaXMuY3VycmVudFNsaWRlID0gdGhpcy5tYXhTbGlkZSArIDE7XG5cdFx0fVxuXG5cdFx0dGhpcy5jdXJyZW50U2xpZGUtLTtcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtc2xpZGVyLWhvbWUtc2xpZGUuaXMtbmV4dCcpLnJlbW92ZUNsYXNzKCdpcy1uZXh0JykuYWRkQ2xhc3MoJ2lzLXByZXYnKTtcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtc2xpZGVyLWhvbWUtc2xpZGUuaXMtY3VycmVudCcpLnJlbW92ZUNsYXNzKCdpcy1jdXJyZW50JykuYWRkQ2xhc3MoJ2lzLW5leHQnKTtcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtc2xpZGVyLWhvbWUtc2xpZGVbZGF0YS1zbGlkZT1cIicrdGhpcy5jdXJyZW50U2xpZGUrJ1wiXScpLnJlbW92ZUNsYXNzKCdpcy1wcmV2JykuYWRkQ2xhc3MoJ2lzLWN1cnJlbnQnKTtcblx0fVxuXG5cdC8vIFByZXZlbnQgY2xpY2tcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0cHJldmVudENsaWNrKCkge1xuXHRcdHRoaXMuaXNBbmltYXRpbmcgPSB0cnVlO1xuXHRcdHRoaXMuJGNvbnRyb2xzLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcblxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0dGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xuXHRcdFx0dGhpcy4kY29udHJvbHMucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cdFx0XHR0aGlzLnN0YXJ0QXV0b3BsYXkoKTtcblx0XHR9LCB0aGlzLmFuaW1hdGlvbkR1cmF0aW9uKTtcblx0fVxuXG5cdC8vIFN0YXJ0IGF1dG9wbGF5XG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdHN0YXJ0QXV0b3BsYXkoKSB7XG5cdFx0dGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcblx0XHRcdGlmICghdGhpcy5pc0FuaW1hdGluZykge1xuXHRcdFx0XHR0aGlzLm5leHRTbGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0sIHRoaXMuYXV0b3BsYXlTcGVlZCk7XG5cdH1cblxuXHQvLyBEZXN0cm95XG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGRlc3Ryb3koKSB7XG5cdFx0dGhpcy4kZWwub2ZmKCk7XG5cdH1cbn1cbiIsIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTbGlkZXIgaG9tZVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmltcG9ydCBBYnN0cmFjdE1vZHVsZSBmcm9tICcuL0Fic3RyYWN0TW9kdWxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBBYnN0cmFjdE1vZHVsZSB7XG5cdGNvbnN0cnVjdG9yIChvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cblx0XHR0aGlzLmN1cnJlbnRTbGlkZSA9IDE7XG5cdFx0dGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xuXHRcdHRoaXMuYW5pbWF0aW9uRHVyYXRpb24gPSAxMjAwO1xuXHRcdHRoaXMuYXV0b3BsYXlTcGVlZCA9IDEwMDAwO1xuXHRcdHRoaXMubWF4U2xpZGUgPSB0aGlzLiRlbC5maW5kKCQoJy5qcy1zbGlkZXItaG9tZS1zbGlkZScpKS5sZW5ndGg7XG5cdFx0dGhpcy4kY29udHJvbHMgPSB0aGlzLiRlbC5maW5kKCcuanMtc2xpZGVyLWhvbWUtYnV0dG9uJyk7XG5cblx0XHR0aGlzLiRlbC5vbignY2xpY2snLCAnLmpzLXNsaWRlci1ob21lLW5leHQnLCAoZXZlbnQpID0+IHRoaXMubmV4dFNsaWRlKCkpO1xuXHRcdHRoaXMuJGVsLm9uKCdjbGljaycsICcuanMtc2xpZGVyLWhvbWUtcHJldicsIChldmVudCkgPT4gdGhpcy5wcmV2U2xpZGUoKSk7XG5cdH1cblxuXHQvLyBOZXh0IHNsaWRlXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdG5leHRTbGlkZSgpIHtcblx0XHR0aGlzLnByZXZlbnRDbGljaygpO1xuXG5cdFx0aWYgKHRoaXMuY3VycmVudFNsaWRlID09PSB0aGlzLm1heFNsaWRlKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRTbGlkZSA9IDA7XG5cdFx0fVxuXG5cdFx0dGhpcy5jdXJyZW50U2xpZGUrKztcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtc2xpZGVyLWhvbWUtc2xpZGUuaXMtcHJldicpLnJlbW92ZUNsYXNzKCdpcy1wcmV2JykuYWRkQ2xhc3MoJ2lzLW5leHQnKTtcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtc2xpZGVyLWhvbWUtc2xpZGUuaXMtY3VycmVudCcpLnJlbW92ZUNsYXNzKCdpcy1jdXJyZW50JykuYWRkQ2xhc3MoJ2lzLXByZXYnKTtcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtc2xpZGVyLWhvbWUtc2xpZGVbZGF0YS1zbGlkZT1cIicrdGhpcy5jdXJyZW50U2xpZGUrJ1wiXScpLnJlbW92ZUNsYXNzKCdpcy1uZXh0JykuYWRkQ2xhc3MoJ2lzLWN1cnJlbnQnKTtcblx0fVxuXG5cdC8vIFByZXYgc2xpZGVcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0cHJldlNsaWRlKCkge1xuXHRcdHRoaXMucHJldmVudENsaWNrKCk7XG5cblx0XHRpZiAodGhpcy5jdXJyZW50U2xpZGUgPT09IDEpIHtcblx0XHRcdHRoaXMuY3VycmVudFNsaWRlID0gdGhpcy5tYXhTbGlkZSArIDE7XG5cdFx0fVxuXG5cdFx0dGhpcy5jdXJyZW50U2xpZGUtLTtcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtc2xpZGVyLWhvbWUtc2xpZGUuaXMtbmV4dCcpLnJlbW92ZUNsYXNzKCdpcy1uZXh0JykuYWRkQ2xhc3MoJ2lzLXByZXYnKTtcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtc2xpZGVyLWhvbWUtc2xpZGUuaXMtY3VycmVudCcpLnJlbW92ZUNsYXNzKCdpcy1jdXJyZW50JykuYWRkQ2xhc3MoJ2lzLW5leHQnKTtcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtc2xpZGVyLWhvbWUtc2xpZGVbZGF0YS1zbGlkZT1cIicrdGhpcy5jdXJyZW50U2xpZGUrJ1wiXScpLnJlbW92ZUNsYXNzKCdpcy1wcmV2JykuYWRkQ2xhc3MoJ2lzLWN1cnJlbnQnKTtcblx0fVxuXG5cdC8vIFByZXZlbnQgY2xpY2tcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0cHJldmVudENsaWNrKCkge1xuXHRcdHRoaXMuaXNBbmltYXRpbmcgPSB0cnVlO1xuXHRcdHRoaXMuJGNvbnRyb2xzLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcblx0XHRcdHRoaXMuJGNvbnRyb2xzLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdH0sIHRoaXMuYW5pbWF0aW9uRHVyYXRpb24pO1xuXHR9XG5cblx0Ly8gRGVzdHJveVxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRkZXN0cm95KCkge1xuXHRcdHRoaXMuJGVsLm9mZigpO1xuXHR9XG59XG4iLCIvKiBqc2hpbnQgZXNuZXh0OiB0cnVlICovXG5pbXBvcnQgRG91YmxlU2xpZGVyIGZyb20gJy4vRG91YmxlU2xpZGVyJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIERvdWJsZVNsaWRlciB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRvcHRpb25zLnNsaWRlcnMgPSB7XG5cdFx0XHRvbmU6IHtcblx0XHRcdFx0JGVsOiBvcHRpb25zLiRlbC5maW5kKCcuanMtc2xpZGVyLXByb2plY3QtbWFpbicpLFxuXHRcdFx0XHRvcHRpb25zOiB7XG5cdFx0XHRcdFx0YXJyb3dzOiBmYWxzZSxcblx0XHRcdFx0XHRjc3NFYXNlOiAnY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKScsXG5cdFx0XHRcdFx0c3BlZWQ6IDUwMFxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0dHdvOntcblx0XHRcdFx0JGVsOiBvcHRpb25zLiRlbC5maW5kKCcuanMtc2xpZGVyLXByb2plY3Qtc2Vjb25kYXJ5JyksXG5cdFx0XHRcdG9wdGlvbnM6IHtcblx0XHRcdFx0XHRhcnJvd3M6IGZhbHNlLFxuXHRcdFx0XHRcdGNzc0Vhc2U6ICdjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpJyxcblx0XHRcdFx0XHRkcmFnZ2FibGU6IGZhbHNlLFxuXHRcdFx0XHRcdHNwZWVkOiA1MDAsXG5cblx0XHRcdFx0XHRpbml0aWFsU2xpZGU6IDEsXG5cdFx0XHRcdFx0c3dpcGU6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXHR9XG59XG4iLCIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU21vb3RoIHNjcm9sbGluZyBtb2R1bGVcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5pbXBvcnQgQWJzdHJhY3RNb2R1bGUgZnJvbSAnLi9BYnN0cmFjdE1vZHVsZSc7XG5pbXBvcnQgU2Nyb2xsYmFyIGZyb20gJ3Ntb290aC1zY3JvbGxiYXInO1xuaW1wb3J0IHsgJGRvY3VtZW50IH0gZnJvbSAnLi4vdXRpbHMvZW52aXJvbm1lbnQnO1xuaW1wb3J0IFJlc2l6ZSBmcm9tICd0aHJvdHRsZWQtcmVzaXplJztcblxuaW1wb3J0IHsgaGFzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi4vZ2xvYmFsL2RlcGVuZGVuY2llcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RNb2R1bGUge1xuXHRjb25zdHJ1Y3RvciAob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXG5cdFx0dGhpcy5zY3JvbGxiYXI7XG5cdFx0dGhpcy5pc1Ntb290aCA9IGZhbHNlO1xuXHRcdHRoaXMuaXNNb2JpbGUgPSB0cnVlO1xuXG5cdFx0dGhpcy5zZWxlY3RvciA9ICcuanMtcGFyYWxsYXgsIC5zLXd5c2l3eWcgdWwsIC5zLXd5c2l3eWcgYmxvY2txdW90ZSc7XG5cblx0XHQvLyBpZiAoaGFzRGVwZW5kZW5jaWVzKCdTbW9vdGhTY3JvbGxpbmcnKSkge1xuXHRcdC8vIFx0dGhpcy4kZG9jdW1lbnQub24oJ3Jlc29sdmVEZXBlbmRlbmNpZXMuU21vb3RoU2Nyb2xsaW5nJywgKCkgPT4gdGhpcy5idWlsZFNtb290aFNjcm9sbGluZygpKTtcblx0XHQvLyB9IGVsc2Uge1xuXG5cdFx0Ly8gU21vb3RoU2Nyb2xsaW5nIG9ubHkgb24gdGhpcyBtYXRjaE1lZGlhIG1hdGNoZVxuXHRcdGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDEyMDBweClcIikubWF0Y2hlcykge1xuXHRcdFx0dGhpcy5idWlsZFNtb290aFNjcm9sbGluZygpO1xuXHRcdFx0dGhpcy5pc1Ntb290aCA9IHRydWU7XG5cdFx0XHR0aGlzLmlzTW9iaWxlID0gZmFsc2U7XG5cblx0XHRcdCRkb2N1bWVudC5vbignU21vb3RoU2Nyb2xsaW5nLnJlYnVpbGQnLCAoKSA9PiB7XG5cdFx0XHRcdHRoaXMudXBkYXRlRWxlbWVudHMoKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyB9XG5cblx0XHR2YXIgcmVzaXplID0gbmV3IFJlc2l6ZSgpO1xuICAgICAgICByZXNpemUub24oJ3Jlc2l6ZTplbmQnLCAoKSA9PiB0aGlzLmNoZWNrUmVzaXplKCkpO1xuXHR9XG5cblx0YnVpbGRTbW9vdGhTY3JvbGxpbmcoKSB7XG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHR0aGlzLnNjcm9sbGJhciA9IFNjcm9sbGJhci5pbml0KHRoaXMuJGVsWzBdKTtcblx0XHRcdHRoaXMud2luZG93SGVpZ2h0ID0gdGhpcy4kd2luZG93LmhlaWdodCgpO1xuXHRcdFx0dGhpcy53aW5kb3dNaWRkbGUgPSB0aGlzLndpbmRvd0hlaWdodCAvIDI7XG5cdFx0XHR0aGlzLnNjcm9sbGJhckxpbWl0ID0gdGhpcy5zY3JvbGxiYXIubGltaXQueSArIHRoaXMud2luZG93SGVpZ2h0O1xuXHRcdFx0dGhpcy5lbGVtZW50cyA9IHt9O1xuXHRcdFx0Ly8gQ3JlYXRlIGVsZW1lbnRzIG9iamVjdFxuXHRcdFx0dGhpcy5hZGRFbGVtZW50cygpO1xuXHRcdFx0Ly8gRmlyc3QgbG9hZFxuXHRcdFx0dGhpcy5jaGVja0VsZW1lbnRzKHRydWUpO1xuXHRcdFx0Ly8gT24gc2Nyb2xsXG5cdFx0XHR0aGlzLnNjcm9sbGJhci5hZGRMaXN0ZW5lcigoKSA9PiB0aGlzLmNoZWNrRWxlbWVudHMoKSk7XG5cblx0XHRcdC8vIFNjcm9sbHRvIGJ1dHRvbnMgZXZlbnRcblx0XHRcdCQoJy5qcy1zY3JvbGx0bycpLm9uKCdjbGljay5TbW9vdGhTY3JvbGxpbmcnLCAoZXZlbnQpID0+IHRoaXMuc2Nyb2xsVG8oZXZlbnQpKTtcblxuXHRcdFx0Ly8gU2V0dXAgZG9uZS5cblx0XHRcdHRoaXMuJGRvY3VtZW50LnRyaWdnZXIoe1xuXHRcdFx0XHR0eXBlOiAnU21vb3RoU2Nyb2xsLmlzUmVhZHknXG5cdFx0XHR9KTtcblxuXHRcdH0sIDMwMCk7XG5cdH1cblxuXHQvLyBBZGQgZWxlbWVudHNcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0YWRkRWxlbWVudHMoKSB7XG5cdFx0JCh0aGlzLnNlbGVjdG9yKS5lYWNoKChpLCBlbCkgPT4ge1xuXHRcdFx0bGV0ICRlbGVtZW50ID0gJChlbCk7XG5cdFx0XHRsZXQgZWxlbWVudFNwZWVkID0gJGVsZW1lbnQuZGF0YSgnc3BlZWQnKSAvIDEwO1xuXHRcdFx0bGV0IGVsZW1lbnRQb3NpdGlvbiA9ICRlbGVtZW50LmRhdGEoJ3Bvc2l0aW9uJyk7XG5cdFx0XHRsZXQgZWxlbWVudFRhcmdldCA9ICRlbGVtZW50LmRhdGEoJ3RhcmdldCcpO1xuXHRcdFx0bGV0IGVsZW1lbnRIb3Jpem9udGFsID0gJGVsZW1lbnQuZGF0YSgnaG9yaXpvbnRhbCcpO1xuXHRcdFx0bGV0ICR0YXJnZXQgPSAoZWxlbWVudFRhcmdldCkgPyAkKGVsZW1lbnRUYXJnZXQpIDogJGVsZW1lbnQ7XG5cdFx0XHRsZXQgZWxlbWVudE9mZnNldCA9ICR0YXJnZXQub2Zmc2V0KCkudG9wICsgdGhpcy5zY3JvbGxiYXIuc2Nyb2xsVG9wO1xuXG5cdFx0XHRsZXQgZWxlbWVudFBlcnNpc3QgPSAkZWxlbWVudC5kYXRhKCdwZXJzaXN0Jyk7XG5cblx0XHRcdGlmICghZWxlbWVudFRhcmdldCAmJiAkZWxlbWVudC5kYXRhKCd0cmFuc2Zvcm0nKSkge1xuXHRcdFx0XHRsZXQgdHJhbnNmb3JtID0gJGVsZW1lbnQuZGF0YSgndHJhbnNmb3JtJyk7XG5cdFx0XHRcdGVsZW1lbnRPZmZzZXQgLT0gcGFyc2VGbG9hdCh0cmFuc2Zvcm0ueSk7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBlbGVtZW50TGltaXQgPSBlbGVtZW50T2Zmc2V0ICsgJHRhcmdldC5vdXRlckhlaWdodCgpO1xuXHRcdFx0bGV0IGVsZW1lbnRNaWRkbGUgPSAoKGVsZW1lbnRMaW1pdCAtIGVsZW1lbnRPZmZzZXQpIC8gMikgKyBlbGVtZW50T2Zmc2V0O1xuXG5cdFx0XHR0aGlzLmVsZW1lbnRzW2ldID0ge1xuXHRcdFx0XHQkZWxlbWVudDogJGVsZW1lbnQsXG5cdFx0XHRcdG9mZnNldDogZWxlbWVudE9mZnNldCxcblx0XHRcdFx0bGltaXQ6IGVsZW1lbnRMaW1pdCxcblx0XHRcdFx0bWlkZGxlOiBlbGVtZW50TWlkZGxlLFxuXHRcdFx0XHRzcGVlZDogZWxlbWVudFNwZWVkLFxuXHRcdFx0XHRwb3NpdGlvbjogZWxlbWVudFBvc2l0aW9uLFxuXHRcdFx0XHRob3Jpem9udGFsOiBlbGVtZW50SG9yaXpvbnRhbCxcblx0XHRcdFx0cGVyc2lzdDogZWxlbWVudFBlcnNpc3Rcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgZWxlbWVudHMsIHJlY2FsY3VsYXRlIGFsbCBwb3NpdGlvbiBhcyBpZiB0aGUgdGVtcGxhdGVcblx0ICoganVzdCBsb2FkZWQuXG5cdCAqL1xuXHR1cGRhdGVFbGVtZW50cygpIHtcblx0XHR0aGlzLnNjcm9sbGJhci51cGRhdGUoKTtcblx0XHQvLyBSZXNldCBjb250YWluZXIgYW5kIHNjcm9sbGJhciBkYXRhLlxuXHRcdHRoaXMud2luZG93SGVpZ2h0ID0gdGhpcy4kd2luZG93LmhlaWdodCgpO1xuXHRcdHRoaXMud2luZG93TWlkZGxlID0gdGhpcy53aW5kb3dIZWlnaHQgLyAyO1xuXHRcdHRoaXMuc2Nyb2xsYmFyTGltaXQgPSB0aGlzLnNjcm9sbGJhci5saW1pdC55ICsgdGhpcy53aW5kb3dIZWlnaHQ7XG5cdFx0dGhpcy5hZGRFbGVtZW50cygpO1xuXHRcdHRoaXMuY2hlY2tFbGVtZW50cyh0cnVlKTtcblx0XHQvLyB0aGlzLmNoZWNrRWxlbWVudHModHJ1ZSk7XG5cdFx0JGRvY3VtZW50LnRyaWdnZXIoJ1Ntb290aFNjcm9sbC51cGRhdGUnKTtcblx0fVxuXG5cdC8vIENoZWNrIHJlc2l6ZVxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRjaGVja1Jlc2l6ZSgpIHtcblx0XHRpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiAxMjAwcHgpXCIpLm1hdGNoZXMpIHtcblx0XHRcdGlmICghdGhpcy5pc1Ntb290aCkge1xuXHRcdFx0XHR0aGlzLmlzU21vb3RoID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5idWlsZFNtb290aFNjcm9sbGluZygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy51cGRhdGVFbGVtZW50cygpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodGhpcy5pc1Ntb290aCkge1xuXHRcdFx0XHR0aGlzLmlzU21vb3RoID0gZmFsc2U7XG5cdFx0XHRcdHRoaXMuZGVzdHJveSgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIGVsZW1lbnRzXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGNoZWNrRWxlbWVudHMoZmlyc3QpIHtcblx0XHRsZXQgc2Nyb2xsYmFyVG9wID0gdGhpcy5zY3JvbGxiYXIuc2Nyb2xsVG9wO1xuXHRcdGxldCBzY3JvbGxiYXJMaW1pdCA9IHRoaXMuc2Nyb2xsYmFyTGltaXQ7XG5cdFx0bGV0IHNjcm9sbGJhckJvdHRvbSA9IHNjcm9sbGJhclRvcCArIHRoaXMud2luZG93SGVpZ2h0O1xuXHRcdGxldCBzY3JvbGxiYXJNaWRkbGUgPSBzY3JvbGxiYXJUb3AgKyB0aGlzLndpbmRvd01pZGRsZTtcblxuXHRcdGZvcihsZXQgaSBpbiB0aGlzLmVsZW1lbnRzKSB7XG5cdFx0XHRsZXQgdHJhbnNmb3JtRGlzdGFuY2U7XG5cdFx0XHRsZXQgc2Nyb2xsQm90dG9tID0gc2Nyb2xsYmFyQm90dG9tO1xuXHRcdFx0bGV0ICRlbGVtZW50ID0gdGhpcy5lbGVtZW50c1tpXS4kZWxlbWVudDtcblx0XHRcdGxldCBlbGVtZW50T2Zmc2V0ID0gdGhpcy5lbGVtZW50c1tpXS5vZmZzZXQ7XG5cdFx0XHQvLyBlbGVtZW50T2Zmc2V0ID0gJGVsZW1lbnQub2Zmc2V0KCkudG9wO1xuXHRcdFx0bGV0IGVsZW1lbnRMaW1pdCA9IHRoaXMuZWxlbWVudHNbaV0ubGltaXQ7XG5cdFx0XHRsZXQgZWxlbWVudE1pZGRsZSA9IHRoaXMuZWxlbWVudHNbaV0ubWlkZGxlO1xuXHRcdFx0bGV0IGVsZW1lbnRTcGVlZCA9IHRoaXMuZWxlbWVudHNbaV0uc3BlZWQ7XG5cdFx0XHRsZXQgZWxlbWVudFBvc2l0aW9uID0gdGhpcy5lbGVtZW50c1tpXS5wb3NpdGlvbjtcblx0XHRcdGxldCBlbGVtZW50SG9yaXpvbnRhbCA9IHRoaXMuZWxlbWVudHNbaV0uaG9yaXpvbnRhbDtcblx0XHRcdGxldCBlbGVtZW50UGVyc2lzdCA9IHRoaXMuZWxlbWVudHNbaV0ucGVyc2lzdDtcblxuXHRcdFx0aWYgKGVsZW1lbnRQb3NpdGlvbiA9PT0gJ3RvcCcpIHtcblx0XHRcdFx0c2Nyb2xsQm90dG9tID0gc2Nyb2xsYmFyVG9wO1xuXHRcdFx0fVxuXG5cblx0XHRcdC8vIERlZmluZSBpZiB0aGUgZWxlbWVudCBpcyBpbnZpZXdcblx0XHRcdGxldCBpbnZpZXcgPSAoc2Nyb2xsQm90dG9tID49IGVsZW1lbnRPZmZzZXQgJiYgc2Nyb2xsYmFyVG9wIDw9IGVsZW1lbnRMaW1pdCk7XG5cblx0XHRcdC8vIEFkZCBjbGFzcyBpZiBpbnZpZXcsIHJlbW92ZSBpZiBub3Rcblx0XHRcdGlmIChpbnZpZXcpIHtcblx0XHRcdFx0JGVsZW1lbnQuYWRkQ2xhc3MoJ2lzLWludmlldycpO1xuXG5cdFx0XHRcdGlmIChlbGVtZW50UGVyc2lzdCAhPSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHQkZWxlbWVudC5hZGRDbGFzcygnaXMtdmlzaWJsZScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkZWxlbWVudC5yZW1vdmVDbGFzcygnaXMtaW52aWV3Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChmaXJzdCAmJiAhaW52aWV3ICYmIGVsZW1lbnRTcGVlZCkge1xuXHRcdFx0XHQvLyBEaWZmZXJlbnQgY2FsY3VsYXRpb25zIGlmIGl0IGlzIHRoZSBmaXJzdCBjYWxsIGFuZCB0aGVcblx0XHRcdFx0Ly8gaXRlbSBpcyBub3QgaW4gdGhlIHZpZXdcblx0XHRcdFx0aWYgKGVsZW1lbnRQb3NpdGlvbiAhPT0gJ3RvcCcpIHtcblx0XHRcdFx0XHR0cmFuc2Zvcm1EaXN0YW5jZSA9ICgoZWxlbWVudE9mZnNldCAtIHRoaXMud2luZG93TWlkZGxlKSAgLSBlbGVtZW50TWlkZGxlKSAqIC1lbGVtZW50U3BlZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgZWxlbWVudCBpcyBpbiB2aWV3XG5cdFx0XHRpZiAoaW52aWV3ICYmIGVsZW1lbnRTcGVlZCkge1xuXHRcdFx0XHRzd2l0Y2ggKGVsZW1lbnRQb3NpdGlvbikge1xuXHRcdFx0XHRcdGNhc2UgJ3RvcCc6XG5cdFx0XHRcdFx0XHR0cmFuc2Zvcm1EaXN0YW5jZSA9IChzY3JvbGxiYXJUb3AgLSBlbGVtZW50T2Zmc2V0KSAqIC1lbGVtZW50U3BlZWQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICdib3R0b20nOlxuXHRcdFx0XHRcdFx0dHJhbnNmb3JtRGlzdGFuY2UgPSAoc2Nyb2xsYmFyTGltaXQgLSBzY3JvbGxCb3R0b20pICogZWxlbWVudFNwZWVkO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdHRyYW5zZm9ybURpc3RhbmNlID0gKHNjcm9sbGJhck1pZGRsZSAtIGVsZW1lbnRNaWRkbGUpICogLWVsZW1lbnRTcGVlZDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cblx0XHRcdGlmICh0cmFuc2Zvcm1EaXN0YW5jZSkge1xuXHRcdFx0XHQvLyBUcmFuc2Zvcm0gaG9yaXpvbnRhbCBPUiB2ZXJ0aWNhbC5cblx0XHRcdFx0Ly8gRGVmYXVsdCB0byB2ZXJ0aWNhbC5cblx0XHRcdFx0KGVsZW1lbnRIb3Jpem9udGFsKSA/IHRoaXMudHJhbnNmb3JtKCRlbGVtZW50LCB0cmFuc2Zvcm1EaXN0YW5jZSsncHgnKSA6IHRoaXMudHJhbnNmb3JtKCRlbGVtZW50LCAwLCB0cmFuc2Zvcm1EaXN0YW5jZSsncHgnKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXG4gICAgLy8gVHJhbnNmb3JtIGVsZW1lbnQgaG9yaXpvbnRhbFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy9cblxuICAgIC8qKlxuICAgICAqIFt0cmFuc2Zvcm0gZGVzY3JpcHRpb25dXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSAkZWxlbWVudCBKcXVlcnkgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0gIHttaXhlZH0gXHR4ICAgICAgICBUcmFuc2xhdGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gIHttaXhlZH0gXHR5ICAgICAgICBUcmFuc2xhdGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gIHttaXhlZH0gXHR6ICAgICAgICBUcmFuc2xhdGUgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHRyYW5zZm9ybSgkZWxlbWVudCwgeCwgeSwgeikge1xuICAgIFx0Ly8gRGVmYXVsdHNcbiAgICBcdHggPSB4IHx8IDA7XG4gICAgXHR5ID0geSB8fCAwO1xuICAgIFx0eiA9IHogfHwgMDtcblxuICAgIFx0Ly8gVHJhbnNsYXRlXG4gICAgICAgICRlbGVtZW50LmNzcyh7XG4gICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlM2QoJysgeCArJywgJysgeSArJywgJysgeiArJyknLFxuICAgICAgICAgICAgJy1tcy10cmFuc2Zvcm0nOiAndHJhbnNsYXRlM2QoJysgeCArJywgJysgeSArJywgJysgeiArJyknLFxuICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUzZCgnKyB4ICsnLCAnKyB5ICsnLCAnKyB6ICsnKSdcbiAgICAgICAgfSkuZGF0YSgndHJhbnNmb3JtJyx7XG4gICAgICAgIFx0eCA6IHgsXG4gICAgICAgIFx0eSA6IHksXG4gICAgICAgIFx0eiA6IHpcbiAgICAgICAgfSk7IC8vIFJlbWVtYmVyXG5cbiAgICAgICAgJGVsZW1lbnQuZmluZCh0aGlzLnNlbGVjdG9yKS5lYWNoKChpLCBlKSA9PiB7XG4gICAgICAgIFx0bGV0ICR0aGlzID0gJChlKTtcbiAgICAgICAgXHRpZiAoISR0aGlzLmRhdGEoJ3RyYW5zZm9ybScpKSB7XG4gICAgICAgIFx0XHQkdGhpcy5kYXRhKCd0cmFuc2Zvcm0nLCB7XG5cdFx0ICAgICAgICBcdHggOiB4LFxuXHRcdCAgICAgICAgXHR5IDogeSxcblx0XHQgICAgICAgIFx0eiA6IHpcblx0XHQgICAgICAgIH0pXG4gICAgICAgIFx0fVxuICAgICAgICB9KVxuICAgIH1cblxuXG5cdC8vIFNjcm9sbCB0b1xuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRzY3JvbGxUbyhldmVudCkge1xuXG5cdFx0aWYoISQuaXNOdW1lcmljKGV2ZW50KSkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0bGV0ICR0YXJnZXQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuXHRcdFx0bGV0IHRhcmdldERhdGE7XG5cblx0XHRcdGlmICgkdGFyZ2V0LmRhdGEoJ3RhcmdldCcpKSB7XG5cdFx0XHRcdHRhcmdldERhdGEgPSAkdGFyZ2V0LmRhdGEoJ3RhcmdldCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGFyZ2V0RGF0YSA9ICR0YXJnZXQuYXR0cignaHJlZicpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgdGFyZ2V0T2Zmc2V0ID0gJCh0YXJnZXREYXRhKS5vZmZzZXQoKS50b3AgKyB0aGlzLnNjcm9sbGJhci5zY3JvbGxUb3A7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0dmFyIHRhcmdldE9mZnNldCA9IGV2ZW50O1xuXHRcdH1cblxuXHRcdHRoaXMuc2Nyb2xsYmFyLnNjcm9sbFRvKDAsIHRhcmdldE9mZnNldCwgOTAwKTtcblx0fVxuXG5cdC8vIERlc3Ryb3lcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0ZGVzdHJveSgpIHtcblx0XHR0aGlzLiRlbC5vZmYoJy5TbW9vdGhTY3JvbGxpbmcnKTtcblx0XHR0aGlzLnBhcmFsbGF4RWxlbWVudHMgPSB1bmRlZmluZWQ7XG5cdFx0dGhpcy5lbGVtZW50cyA9IHt9O1xuXG5cdFx0aWYgKCF0aGlzLmlzTW9iaWxlKSB7XG5cdFx0XHR0aGlzLnNjcm9sbGJhci5kZXN0cm95KCk7XG5cdFx0fVxuXHR9XG59XG4iLCIvKiBqc2hpbnQgZXNuZXh0OiB0cnVlICovXG5pbXBvcnQgeyB2aXNpYmlsaXR5QXBpIH0gZnJvbSAnLi4vdXRpbHMvdmlzaWJpbGl0eSc7XG5pbXBvcnQgQWJzdHJhY3RNb2R1bGUgZnJvbSAnLi9BYnN0cmFjdE1vZHVsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RNb2R1bGUge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cblx0XHR0aGlzLiRsYWJlbCA9IHRoaXMuJGVsLmZpbmQoJy5qcy1sYWJlbCcpO1xuXG5cdFx0dGhpcy4kZG9jdW1lbnQub24oJ1RpdGxlLmNoYW5nZUxhYmVsJywgKGV2ZW50LCB2YWx1ZSkgPT4ge1xuXHRcdFx0dGhpcy5jaGFuZ2VMYWJlbCh2YWx1ZSk7XG5cdFx0XHR0aGlzLmRlc3Ryb3koKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuaGlkZGVuQ2FsbGJhY2tJZGVudCA9IHZpc2liaWxpdHlBcGkoe1xuXHRcdFx0YWN0aW9uOiAnYWRkQ2FsbGJhY2snLFxuXHRcdFx0c3RhdGU6ICdoaWRkZW4nLFxuXHRcdFx0Y2FsbGJhY2s6IHRoaXMubG9nSGlkZGVuXG5cdFx0fSk7XG5cblx0XHR0aGlzLnZpc2libGVDYWxsYmFja0lkZW50ID0gdmlzaWJpbGl0eUFwaSh7XG5cdFx0XHRhY3Rpb246ICdhZGRDYWxsYmFjaycsXG5cdFx0XHRzdGF0ZTogJ3Zpc2libGUnLFxuXHRcdFx0Y2FsbGJhY2s6IHRoaXMubG9nVmlzaWJsZVxuXHRcdH0pO1xuXHR9XG5cblx0bG9nSGlkZGVuKCkge1xuXHRcdGNvbnNvbGUubG9nKCdUaXRsZSBpcyBoaWRkZW4nKTtcblx0fVxuXG5cdGxvZ1Zpc2libGUoKSB7XG5cdFx0Y29uc29sZS5sb2coJ1RpdGxlIGlzIHZpc2libGUnKTtcblx0fVxuXG5cdGNoYW5nZUxhYmVsKHZhbHVlKSB7XG5cdFx0dGhpcy4kbGFiZWwudGV4dCh2YWx1ZSk7XG5cdH1cblxuXHRkZXN0cm95KCkge1xuXHRcdHRoaXMuJGRvY3VtZW50Lm9mZignVGl0bGUuY2hhbmdlTGFiZWwnKTtcblxuXHRcdHZpc2liaWxpdHlBcGkoe1xuXHRcdFx0YWN0aW9uOiAncmVtb3ZlQ2FsbGJhY2snLFxuXHRcdFx0c3RhdGU6ICdoaWRkZW4nLFxuXHRcdFx0aWRlbnQ6IHRoaXMuaGlkZGVuQ2FsbGJhY2tJZGVudFxuXHRcdH0pO1xuXG5cdFx0dmlzaWJpbGl0eUFwaSh7XG5cdFx0XHRhY3Rpb246ICdyZW1vdmVDYWxsYmFjaycsXG5cdFx0XHRzdGF0ZTogJ3Zpc2libGUnLFxuXHRcdFx0aWRlbnQ6IHRoaXMudmlzaWJsZUNhbGxiYWNrSWRlbnRcblx0XHR9KTtcblxuXHRcdHRoaXMuJGVsLm9mZignLlRpdGxlJyk7XG5cdH1cbn1cbiIsImNvbnN0IERJU1RBTkNFX1RIUkVTSE9MRCA9IDU7IC8vIG1heGltdW0gcGl4ZWxzIHBvaW50ZXIgY2FuIG1vdmUgYmVmb3JlIGNhbmNlbFxuY29uc3QgVElNRV9USFJFU0hPTEQgPSA0MDA7ICAgLy8gbWF4aW11bSBtaWxsaXNlY29uZHMgYmV0d2VlbiBkb3duIGFuZCB1cCBiZWZvcmUgY2FuY2VsXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRhcCAoIG5vZGUsIGNhbGxiYWNrICkge1xuXHRyZXR1cm4gbmV3IFRhcEhhbmRsZXIoIG5vZGUsIGNhbGxiYWNrICk7XG59XG5cbmZ1bmN0aW9uIFRhcEhhbmRsZXIgKCBub2RlLCBjYWxsYmFjayApIHtcblx0dGhpcy5ub2RlID0gbm9kZTtcblx0dGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuXG5cdHRoaXMucHJldmVudE1vdXNlZG93bkV2ZW50cyA9IGZhbHNlO1xuXG5cdHRoaXMuYmluZCggbm9kZSApO1xufVxuXG5UYXBIYW5kbGVyLnByb3RvdHlwZSA9IHtcblx0YmluZCAoIG5vZGUgKSB7XG5cdFx0Ly8gbGlzdGVuIGZvciBtb3VzZS9wb2ludGVyIGV2ZW50cy4uLlxuXHRcdGlmICh3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkKSB7XG5cdFx0XHRub2RlLmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVyZG93bicsIGhhbmRsZU1vdXNlZG93biwgZmFsc2UgKTtcblx0XHR9IGVsc2UgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuXHRcdFx0bm9kZS5hZGRFdmVudExpc3RlbmVyKCAnTVNQb2ludGVyRG93bicsIGhhbmRsZU1vdXNlZG93biwgZmFsc2UgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bm9kZS5hZGRFdmVudExpc3RlbmVyKCAnbW91c2Vkb3duJywgaGFuZGxlTW91c2Vkb3duLCBmYWxzZSApO1xuXG5cdFx0XHQvLyAuLi5hbmQgdG91Y2ggZXZlbnRzXG5cdFx0XHRub2RlLmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaHN0YXJ0JywgaGFuZGxlVG91Y2hzdGFydCwgZmFsc2UgKTtcblx0XHR9XG5cblx0XHQvLyBuYXRpdmUgYnV0dG9ucywgYW5kIDxpbnB1dCB0eXBlPSdidXR0b24nPiBlbGVtZW50cywgc2hvdWxkIGZpcmUgYSB0YXAgZXZlbnRcblx0XHQvLyB3aGVuIHRoZSBzcGFjZSBrZXkgaXMgcHJlc3NlZFxuXHRcdGlmICggbm9kZS50YWdOYW1lID09PSAnQlVUVE9OJyB8fCBub2RlLnR5cGUgPT09ICdidXR0b24nICkge1xuXHRcdFx0bm9kZS5hZGRFdmVudExpc3RlbmVyKCAnZm9jdXMnLCBoYW5kbGVGb2N1cywgZmFsc2UgKTtcblx0XHR9XG5cblx0XHRub2RlLl9fdGFwX2hhbmRsZXJfXyA9IHRoaXM7XG5cdH0sXG5cblx0ZmlyZSAoIGV2ZW50LCB4LCB5ICkge1xuXHRcdHRoaXMuY2FsbGJhY2soe1xuXHRcdFx0bm9kZTogdGhpcy5ub2RlLFxuXHRcdFx0b3JpZ2luYWw6IGV2ZW50LFxuXHRcdFx0eCxcblx0XHRcdHlcblx0XHR9KTtcblx0fSxcblxuXHRtb3VzZWRvd24gKCBldmVudCApIHtcblx0XHRpZiAoIHRoaXMucHJldmVudE1vdXNlZG93bkV2ZW50cyApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGV2ZW50LndoaWNoICE9PSB1bmRlZmluZWQgJiYgZXZlbnQud2hpY2ggIT09IDEgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgeCA9IGV2ZW50LmNsaWVudFg7XG5cdFx0Y29uc3QgeSA9IGV2ZW50LmNsaWVudFk7XG5cblx0XHQvLyBUaGlzIHdpbGwgYmUgbnVsbCBmb3IgbW91c2UgZXZlbnRzLlxuXHRcdGNvbnN0IHBvaW50ZXJJZCA9IGV2ZW50LnBvaW50ZXJJZDtcblxuXHRcdGNvbnN0IGhhbmRsZU1vdXNldXAgPSBldmVudCA9PiB7XG5cdFx0XHRpZiAoIGV2ZW50LnBvaW50ZXJJZCAhPSBwb2ludGVySWQgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5maXJlKCBldmVudCwgeCwgeSApO1xuXHRcdFx0Y2FuY2VsKCk7XG5cdFx0fTtcblxuXHRcdGNvbnN0IGhhbmRsZU1vdXNlbW92ZSA9IGV2ZW50ID0+IHtcblx0XHRcdGlmICggZXZlbnQucG9pbnRlcklkICE9IHBvaW50ZXJJZCApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICggTWF0aC5hYnMoIGV2ZW50LmNsaWVudFggLSB4ICkgPj0gRElTVEFOQ0VfVEhSRVNIT0xEICkgfHwgKCBNYXRoLmFicyggZXZlbnQuY2xpZW50WSAtIHkgKSA+PSBESVNUQU5DRV9USFJFU0hPTEQgKSApIHtcblx0XHRcdFx0Y2FuY2VsKCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGNvbnN0IGNhbmNlbCA9ICgpID0+IHtcblx0XHRcdHRoaXMubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCAnTVNQb2ludGVyVXAnLCBoYW5kbGVNb3VzZXVwLCBmYWxzZSApO1xuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ01TUG9pbnRlck1vdmUnLCBoYW5kbGVNb3VzZW1vdmUsIGZhbHNlICk7XG5cdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnTVNQb2ludGVyQ2FuY2VsJywgY2FuY2VsLCBmYWxzZSApO1xuXHRcdFx0dGhpcy5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdwb2ludGVydXAnLCBoYW5kbGVNb3VzZXVwLCBmYWxzZSApO1xuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJtb3ZlJywgaGFuZGxlTW91c2Vtb3ZlLCBmYWxzZSApO1xuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJjYW5jZWwnLCBjYW5jZWwsIGZhbHNlICk7XG5cdFx0XHR0aGlzLm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgaGFuZGxlTW91c2V1cCwgZmFsc2UgKTtcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZW1vdmUsIGZhbHNlICk7XG5cdFx0fTtcblxuXHRcdGlmICggd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCApIHtcblx0XHRcdHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCAncG9pbnRlcnVwJywgaGFuZGxlTW91c2V1cCwgZmFsc2UgKTtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVybW92ZScsIGhhbmRsZU1vdXNlbW92ZSwgZmFsc2UgKTtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVyY2FuY2VsJywgY2FuY2VsLCBmYWxzZSApO1xuXHRcdH0gZWxzZSBpZiAoIHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCApIHtcblx0XHRcdHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCAnTVNQb2ludGVyVXAnLCBoYW5kbGVNb3VzZXVwLCBmYWxzZSApO1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ01TUG9pbnRlck1vdmUnLCBoYW5kbGVNb3VzZW1vdmUsIGZhbHNlICk7XG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnTVNQb2ludGVyQ2FuY2VsJywgY2FuY2VsLCBmYWxzZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgaGFuZGxlTW91c2V1cCwgZmFsc2UgKTtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZW1vdmUsIGZhbHNlICk7XG5cdFx0fVxuXG5cdFx0c2V0VGltZW91dCggY2FuY2VsLCBUSU1FX1RIUkVTSE9MRCApO1xuXHR9LFxuXG5cdHRvdWNoZG93biAoIGV2ZW50ICkge1xuXHRcdGNvbnN0IHRvdWNoID0gZXZlbnQudG91Y2hlc1swXTtcblxuXHRcdGNvbnN0IHggPSB0b3VjaC5jbGllbnRYO1xuXHRcdGNvbnN0IHkgPSB0b3VjaC5jbGllbnRZO1xuXG5cdFx0Y29uc3QgZmluZ2VyID0gdG91Y2guaWRlbnRpZmllcjtcblxuXHRcdGNvbnN0IGhhbmRsZVRvdWNodXAgPSBldmVudCA9PiB7XG5cdFx0XHRjb25zdCB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xuXG5cdFx0XHRpZiAoIHRvdWNoLmlkZW50aWZpZXIgIT09IGZpbmdlciApIHtcblx0XHRcdFx0Y2FuY2VsKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gcHJldmVudCBjb21wYXRpYmlsaXR5IG1vdXNlIGV2ZW50XG5cblx0XHRcdC8vIGZvciB0aGUgYmVuZWZpdCBvZiBtb2JpbGUgRmlyZWZveCBhbmQgb2xkIEFuZHJvaWQgYnJvd3NlcnMsIHdlIG5lZWQgdGhpcyBhYnN1cmQgaGFjay5cblx0XHRcdHRoaXMucHJldmVudE1vdXNlZG93bkV2ZW50cyA9IHRydWU7XG5cdFx0XHRjbGVhclRpbWVvdXQoIHRoaXMucHJldmVudE1vdXNlZG93blRpbWVvdXQgKTtcblxuXHRcdFx0dGhpcy5wcmV2ZW50TW91c2Vkb3duVGltZW91dCA9IHNldFRpbWVvdXQoICgpID0+IHtcblx0XHRcdFx0dGhpcy5wcmV2ZW50TW91c2Vkb3duRXZlbnRzID0gZmFsc2U7XG5cdFx0XHR9LCA0MDAgKTtcblxuXHRcdFx0dGhpcy5maXJlKCBldmVudCwgeCwgeSApO1xuXHRcdFx0Y2FuY2VsKCk7XG5cdFx0fTtcblxuXHRcdGNvbnN0IGhhbmRsZVRvdWNobW92ZSA9IGV2ZW50ID0+IHtcblx0XHRcdGlmICggZXZlbnQudG91Y2hlcy5sZW5ndGggIT09IDEgfHwgZXZlbnQudG91Y2hlc1swXS5pZGVudGlmaWVyICE9PSBmaW5nZXIgKSB7XG5cdFx0XHRcdGNhbmNlbCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF07XG5cdFx0XHRpZiAoICggTWF0aC5hYnMoIHRvdWNoLmNsaWVudFggLSB4ICkgPj0gRElTVEFOQ0VfVEhSRVNIT0xEICkgfHwgKCBNYXRoLmFicyggdG91Y2guY2xpZW50WSAtIHkgKSA+PSBESVNUQU5DRV9USFJFU0hPTEQgKSApIHtcblx0XHRcdFx0Y2FuY2VsKCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGNvbnN0IGNhbmNlbCA9ICgpID0+IHtcblx0XHRcdHRoaXMubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCAndG91Y2hlbmQnLCBoYW5kbGVUb3VjaHVwLCBmYWxzZSApO1xuXHRcdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICd0b3VjaG1vdmUnLCBoYW5kbGVUb3VjaG1vdmUsIGZhbHNlICk7XG5cdFx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3RvdWNoY2FuY2VsJywgY2FuY2VsLCBmYWxzZSApO1xuXHRcdH07XG5cblx0XHR0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNoZW5kJywgaGFuZGxlVG91Y2h1cCwgZmFsc2UgKTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNobW92ZScsIGhhbmRsZVRvdWNobW92ZSwgZmFsc2UgKTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNoY2FuY2VsJywgY2FuY2VsLCBmYWxzZSApO1xuXG5cdFx0c2V0VGltZW91dCggY2FuY2VsLCBUSU1FX1RIUkVTSE9MRCApO1xuXHR9LFxuXG5cdHRlYXJkb3duICgpIHtcblx0XHRjb25zdCBub2RlID0gdGhpcy5ub2RlO1xuXG5cdFx0bm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCAncG9pbnRlcmRvd24nLCAgIGhhbmRsZU1vdXNlZG93biwgZmFsc2UgKTtcblx0XHRub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdNU1BvaW50ZXJEb3duJywgaGFuZGxlTW91c2Vkb3duLCBmYWxzZSApO1xuXHRcdG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ21vdXNlZG93bicsICAgICBoYW5kbGVNb3VzZWRvd24sIGZhbHNlICk7XG5cdFx0bm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCAndG91Y2hzdGFydCcsICAgIGhhbmRsZVRvdWNoc3RhcnQsIGZhbHNlICk7XG5cdFx0bm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCAnZm9jdXMnLCAgICAgICAgIGhhbmRsZUZvY3VzLCBmYWxzZSApO1xuXHR9XG59O1xuXG5mdW5jdGlvbiBoYW5kbGVNb3VzZWRvd24gKCBldmVudCApIHtcblx0dGhpcy5fX3RhcF9oYW5kbGVyX18ubW91c2Vkb3duKCBldmVudCApO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVUb3VjaHN0YXJ0ICggZXZlbnQgKSB7XG5cdHRoaXMuX190YXBfaGFuZGxlcl9fLnRvdWNoZG93biggZXZlbnQgKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRm9jdXMgKCkge1xuXHR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgaGFuZGxlS2V5ZG93biwgZmFsc2UgKTtcblx0dGhpcy5hZGRFdmVudExpc3RlbmVyKCAnYmx1cicsIGhhbmRsZUJsdXIsIGZhbHNlICk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUJsdXIgKCkge1xuXHR0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgaGFuZGxlS2V5ZG93biwgZmFsc2UgKTtcblx0dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCAnYmx1cicsIGhhbmRsZUJsdXIsIGZhbHNlICk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUtleWRvd24gKCBldmVudCApIHtcblx0aWYgKCBldmVudC53aGljaCA9PT0gMzIgKSB7IC8vIHNwYWNlIGtleVxuXHRcdHRoaXMuX190YXBfaGFuZGxlcl9fLmZpcmUoKTtcblx0fVxufVxuIiwidmFyIERFRkFVTFRTID0ge1xuXHRkZWxheTogMCxcblx0ZHVyYXRpb246IDMwMCxcblx0ZWFzaW5nOiAnbGluZWFyJ1xufTtcblxuZnVuY3Rpb24gZmFkZSh0LCBwYXJhbXMpIHtcblx0dmFyIHRhcmdldE9wYWNpdHk7XG5cblx0cGFyYW1zID0gdC5wcm9jZXNzUGFyYW1zKHBhcmFtcywgREVGQVVMVFMpO1xuXG5cdGlmICh0LmlzSW50cm8pIHtcblx0XHR0YXJnZXRPcGFjaXR5ID0gdC5nZXRTdHlsZSgnb3BhY2l0eScpO1xuXHRcdHQuc2V0U3R5bGUoJ29wYWNpdHknLCAwKTtcblx0fSBlbHNlIHtcblx0XHR0YXJnZXRPcGFjaXR5ID0gMDtcblx0fVxuXHR0LmFuaW1hdGVTdHlsZSgnb3BhY2l0eScsIHRhcmdldE9wYWNpdHksIHBhcmFtcykudGhlbih0LmNvbXBsZXRlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZmFkZTtcbiIsImltcG9ydCB7IG1pbldpZHRoIH0gZnJvbSAnLi4vdXRpbHMvZW52aXJvbm1lbnQnO1xuXG52YXIgaXNBbmltYXRpbmcgPSBmYWxzZTtcbnZhciBoZWFkZXJPZmZzZXQ7XG52YXIgc3BlZWQgPSAzMDA7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgkZWxlbWVudCkge1xuXHRpZiAoJGVsZW1lbnQgaW5zdGFuY2VvZiBqUXVlcnkgJiYgJGVsZW1lbnQubGVuZ3RoID4gMCkge1xuXHRcdGlmIChpc0FuaW1hdGluZyA9PT0gZmFsc2UpIHtcblxuXHRcdFx0aWYgKHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAnICsgbWluV2lkdGggKyAncHgpJykubWF0Y2hlcykge1xuXHRcdFx0XHRoZWFkZXJPZmZzZXQgPSA3MDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhlYWRlck9mZnNldCA9IDkwO1xuXHRcdFx0fVxuXG5cdFx0XHRpc0FuaW1hdGluZyA9IHRydWU7XG5cblx0XHRcdCQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcblx0XHRcdFx0c2Nyb2xsVG9wOiAkZWxlbWVudC5vZmZzZXQoKS50b3AgLSBoZWFkZXJPZmZzZXRcblx0XHRcdH0sIHNwZWVkLCAnc3dpbmcnLCAoKSA9PiB7XG5cdFx0XHRcdGlzQW5pbWF0aW5nID0gZmFsc2U7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cbn1cbiIsImltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuL2lzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRvQXJyYXkgKCBhcnJheSwgdmFsdWUgKSB7XG5cdHZhciBpbmRleCA9IGFycmF5LmluZGV4T2YoIHZhbHVlICk7XG5cblx0aWYgKCBpbmRleCA9PT0gLTEgKSB7XG5cdFx0YXJyYXkucHVzaCggdmFsdWUgKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlDb250YWlucyAoIGFycmF5LCB2YWx1ZSApIHtcblx0Zm9yICggbGV0IGkgPSAwLCBjID0gYXJyYXkubGVuZ3RoOyBpIDwgYzsgaSsrICkge1xuXHRcdGlmICggYXJyYXlbaV0gPT0gdmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcnJheUNvbnRlbnRzTWF0Y2ggKCBhLCBiICkge1xuXHR2YXIgaTtcblxuXHRpZiAoICFpc0FycmF5KCBhICkgfHwgIWlzQXJyYXkoIGIgKSApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAoIGEubGVuZ3RoICE9PSBiLmxlbmd0aCApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpID0gYS5sZW5ndGg7XG5cdHdoaWxlICggaS0tICkge1xuXHRcdGlmICggYVtpXSAhPT0gYltpXSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUFycmF5ICggeCApIHtcblx0aWYgKCB0eXBlb2YgeCA9PT0gJ3N0cmluZycgKSB7XG5cdFx0cmV0dXJuIFsgeCBdO1xuXHR9XG5cblx0aWYgKCB4ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cblx0cmV0dXJuIHg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsYXN0SXRlbSAoIGFycmF5ICkge1xuXHRyZXR1cm4gYXJyYXlbIGFycmF5Lmxlbmd0aCAtIDEgXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUZyb21BcnJheSAoIGFycmF5LCBtZW1iZXIgKSB7XG5cdGlmICggIWFycmF5ICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IGluZGV4ID0gYXJyYXkuaW5kZXhPZiggbWVtYmVyICk7XG5cblx0aWYgKCBpbmRleCAhPT0gLTEgKSB7XG5cdFx0YXJyYXkuc3BsaWNlKCBpbmRleCwgMSApO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0FycmF5ICggYXJyYXlMaWtlICkge1xuXHR2YXIgYXJyYXkgPSBbXSwgaSA9IGFycmF5TGlrZS5sZW5ndGg7XG5cdHdoaWxlICggaS0tICkge1xuXHRcdGFycmF5W2ldID0gYXJyYXlMaWtlW2ldO1xuXHR9XG5cblx0cmV0dXJuIGFycmF5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZEJ5S2V5VmFsdWUoIGFycmF5LCBrZXksIHZhbHVlICkge1xuXHRyZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0cmV0dXJuIG9ialtrZXldID09PSB2YWx1ZTtcblx0fSk7XG59XG4iLCJjb25zdCAkZG9jdW1lbnQgPSAkKGRvY3VtZW50KTtcbmNvbnN0ICR3aW5kb3cgPSAkKHdpbmRvdyk7XG5jb25zdCAkaHRtbCA9ICQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbmNvbnN0ICRib2R5ID0gJChkb2N1bWVudC5ib2R5KTtcblxuY29uc3QgbWluV2lkdGggPSAxMDI0O1xuXG5leHBvcnQgeyAkZG9jdW1lbnQsICR3aW5kb3csICRodG1sLCAkYm9keSB9O1xuIiwiLyoganNoaW50IGVzbmV4dDogdHJ1ZSAqL1xuaW1wb3J0IFBhZ2VUcmFuc2l0aW9uc01hbmFnZXIgZnJvbSAnLi4vbW9kdWxlcy9QYWdlVHJhbnNpdGlvbnNNYW5hZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG5cdHdpbmRvdy5SYWN0aXZlLkRFQlVHID0gZmFsc2U7XG5cdHN2ZzRldmVyeWJvZHkoKTtcblxuXHR2YXIgcGFnZXRyYW5zaXRpb25zTWFuYWdlciA9IG5ldyBQYWdlVHJhbnNpdGlvbnNNYW5hZ2VyKCk7XG59XG4iLCIvKipcbiAqIEBzZWUgIGh0dHBzOi8vZ2l0aHViLmNvbS9yYWN0aXZlanMvcmFjdGl2ZS9ibG9iL2Rldi9zcmMvdXRpbHMvaHRtbC5qc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlSHRtbChzdHIpIHtcbiAgICByZXR1cm4gc3RyXG4gICAgICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbn1cblxuLyoqXG4gKiBQcmVwYXJlIEhUTUwgY29udGVudCB0aGF0IGNvbnRhaW5zIG11c3RhY2hlIGNoYXJhY3RlcnMgZm9yIHVzZSB3aXRoIFJhY3RpdmVcbiAqIEBwYXJhbSAge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bmVzY2FwZUh0bWwoc3RyKSB7XG4gICAgcmV0dXJuIHN0clxuICAgICAgICAucmVwbGFjZSgvJmx0Oy9nLCAnPCcpXG4gICAgICAgIC5yZXBsYWNlKC8mZ3Q7L2csICc+JylcbiAgICAgICAgLnJlcGxhY2UoLyZhbXA7L2csICcmJyk7XG59XG5cbi8qKlxuICogR2V0IGVsZW1lbnQgZGF0YSBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0gICB7RE9NRWxlbWVudH0gIG5vZGVcbiAqIEByZXR1cm4gIHtBcnJheX0gICAgICAgZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZURhdGEobm9kZSkge1xuICAgIC8vIEFsbCBhdHRyaWJ1dGVzXG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBub2RlLmF0dHJpYnV0ZXM7XG5cbiAgICAvLyBSZWdleCBQYXR0ZXJuXG4gICAgdmFyIHBhdHRlcm4gPSAvXmRhdGFcXC0oLispJC87XG5cbiAgICAvLyBPdXRwdXRcbiAgICB2YXIgZGF0YSA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmICghYXR0cmlidXRlc1tpXSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdHRyaWJ1dGVzIG5hbWUgKGV4OiBkYXRhLW1vZHVsZSlcbiAgICAgICAgbGV0IG5hbWUgPSBhdHRyaWJ1dGVzW2ldLm5hbWU7XG5cbiAgICAgICAgLy8gVGhpcyBoYXBwZW5zLlxuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1hdGNoID0gbmFtZS5tYXRjaChwYXR0ZXJuKTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGlzIHRocm93cyBhbiBlcnJvciwgeW91IGhhdmUgc29tZVxuICAgICAgICAvLyBzZXJpb3VzIHByb2JsZW1zIGluIHlvdXIgSFRNTC5cbiAgICAgICAgZGF0YVttYXRjaFsxXV0gPSBub2RlLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbn1cbiIsInZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsXG5cdGFycmF5TGlrZVBhdHRlcm4gPSAvXlxcW29iamVjdCAoPzpBcnJheXxGaWxlTGlzdClcXF0kLztcblxuLy8gdGhhbmtzLCBodHRwOi8vcGVyZmVjdGlvbmtpbGxzLmNvbS9pbnN0YW5jZW9mLWNvbnNpZGVyZWQtaGFybWZ1bC1vci1ob3ctdG8td3JpdGUtYS1yb2J1c3QtaXNhcnJheS9cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5ICggdGhpbmcgKSB7XG5cdHJldHVybiB0b1N0cmluZy5jYWxsKCB0aGluZyApID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheUxpa2UgKCBvYmogKSB7XG5cdHJldHVybiBhcnJheUxpa2VQYXR0ZXJuLnRlc3QoIHRvU3RyaW5nLmNhbGwoIG9iaiApICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VxdWFsICggYSwgYiApIHtcblx0aWYgKCBhID09PSBudWxsICYmIGIgPT09IG51bGwgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoIHR5cGVvZiBhID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgYiA9PT0gJ29iamVjdCcgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIGEgPT09IGI7XG59XG5cbi8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTgwODIvdmFsaWRhdGUtbnVtYmVycy1pbi1qYXZhc2NyaXB0LWlzbnVtZXJpY1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtZXJpYyAoIHRoaW5nICkge1xuXHRyZXR1cm4gIWlzTmFOKCBwYXJzZUZsb2F0KCB0aGluZyApICkgJiYgaXNGaW5pdGUoIHRoaW5nICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCAoIHRoaW5nICkge1xuXHRyZXR1cm4gKCB0aGluZyAmJiB0b1N0cmluZy5jYWxsKCB0aGluZyApID09PSAnW29iamVjdCBPYmplY3RdJyApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbiggdGhpbmcgKSB7XG5cdHZhciBnZXRUeXBlID0ge307XG5cdHJldHVybiB0aGluZyAmJiBnZXRUeXBlLnRvU3RyaW5nLmNhbGwodGhpbmcpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuIiwiLyoganNoaW50IGVzbmV4dDogdHJ1ZSAqL1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXMnO1xuaW1wb3J0IHsgYXJyYXlDb250YWlucywgZmluZEJ5S2V5VmFsdWUsIHJlbW92ZUZyb21BcnJheSB9IGZyb20gJy4vYXJyYXknO1xuaW1wb3J0IHsgJGRvY3VtZW50LCAkd2luZG93LCAkaHRtbCwgJGJvZHkgfSBmcm9tICcuL2Vudmlyb25tZW50JztcblxuY29uc3QgQ0FMTEJBQ0tTID0ge1xuXHRoaWRkZW46IFtdLFxuXHR2aXNpYmxlOiBbXVxufTtcblxuY29uc3QgQUNUSU9OUyA9IFtcblx0J2FkZENhbGxiYWNrJyxcblx0J3JlbW92ZUNhbGxiYWNrJ1xuXTtcblxuY29uc3QgU1RBVEVTID0gW1xuXHQndmlzaWJsZScsXG5cdCdoaWRkZW4nXG5dO1xuXG5jb25zdCBQUkVGSVggPSAndi0nO1xuXG5sZXQgVVVJRCA9IDA7XG5cbi8vIE1haW4gZXZlbnRcbiRkb2N1bWVudC5vbigndmlzaWJpbGl0eWNoYW5nZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdGlmIChkb2N1bWVudC5oaWRkZW4pIHtcblx0XHRvbkRvY3VtZW50Q2hhbmdlKCdoaWRkZW4nKTtcblx0fSBlbHNlIHtcblx0XHRvbkRvY3VtZW50Q2hhbmdlKCd2aXNpYmxlJyk7XG5cdH1cbn0pO1xuXG4vKipcbiAqIEFkZCBhIGNhbGxiYWNrXG4gKiBAcGFyYW0ge3N0cmluZ30gICBzdGF0ZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge3N0cmluZ30gIGlkZW50XG4gKi9cbmZ1bmN0aW9uIGFkZENhbGxiYWNrIChzdGF0ZSwgb3B0aW9ucykge1xuXHRsZXQgY2FsbGJhY2sgPSBvcHRpb25zLmNhbGxiYWNrIHx8ICcnO1xuXG5cdGlmICghaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcblx0XHRjb25zb2xlLndhcm4oJ0NhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0bGV0IGlkZW50ID0gUFJFRklYICsgVVVJRCsrO1xuXG5cdENBTExCQUNLU1tzdGF0ZV0ucHVzaCh7XG5cdFx0aWRlbnQ6IGlkZW50LFxuXHRcdGNhbGxiYWNrOiBjYWxsYmFja1xuXHR9KTtcblxuXHRyZXR1cm4gaWRlbnQ7XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgY2FsbGJhY2tcbiAqIEBwYXJhbSAge3N0cmluZ30gICBzdGF0ZSAgVmlzaWJsZSBvciBoaWRkZW5cbiAqIEBwYXJhbSAge3N0cmluZ30gICBpZGVudCAgVW5pcXVlIGlkZW50aWZpZXJcbiAqIEByZXR1cm4ge2Jvb2xlYW59ICAgICAgICAgSWYgb3BlcmF0aW9uIHdhcyBhIHN1Y2Nlc3NcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQ2FsbGJhY2sgKHN0YXRlLCBvcHRpb25zKSB7XG5cdGxldCBpZGVudCA9IG9wdGlvbnMuaWRlbnQgfHwgJyc7XG5cblx0aWYgKHR5cGVvZihpZGVudCkgPT09ICd1bmRlZmluZWQnIHx8IGlkZW50ID09PSAnJykge1xuXHRcdGNvbnNvbGUud2FybignTmVlZCBpZGVudCB0byByZW1vdmUgY2FsbGJhY2snKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRsZXQgaW5kZXggPSBmaW5kQnlLZXlWYWx1ZShDQUxMQkFDS1Nbc3RhdGVdLCAnaWRlbnQnLCBpZGVudClbMF07XG5cblx0Ly8gY29uc29sZS5sb2coaWRlbnQpXG5cdC8vIGNvbnNvbGUubG9nKENBTExCQUNLU1tzdGF0ZV0pXG5cblx0aWYgKHR5cGVvZihpbmRleCkgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmVtb3ZlRnJvbUFycmF5KENBTExCQUNLU1tzdGF0ZV0sIGluZGV4KTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oJ0NhbGxiYWNrIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG4vKipcbiAqIFdoZW4gZG9jdW1lbnQgc3RhdGUgY2hhbmdlcywgdHJpZ2dlciBjYWxsYmFja3NcbiAqIEBwYXJhbSAge3N0cmluZ30gIHN0YXRlICBWaXNpYmxlIG9yIGhpZGRlblxuICovXG5mdW5jdGlvbiBvbkRvY3VtZW50Q2hhbmdlIChzdGF0ZSkge1xuXHRsZXQgY2FsbGJhY2tBcnJheSA9IENBTExCQUNLU1tzdGF0ZV07XG5cdGxldCBpID0gMDtcblx0bGV0IGxlbiA9IGNhbGxiYWNrQXJyYXkubGVuZ3RoO1xuXG5cdGZvciAoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRjYWxsYmFja0FycmF5W2ldLmNhbGxiYWNrKCk7XG5cdH1cbn1cblxuLyoqXG4gKiBQdWJsaWMgZmFjaW5nIEFQSSBmb3IgYWRkaW5nIGFuZCByZW1vdmluZyBjYWxsYmFja3NcbiAqIEBwYXJhbSAgIHtvYmplY3R9ICAgICAgICAgICBvcHRpb25zICBPcHRpb25zXG4gKiBAcmV0dXJuICB7Ym9vbGVhbnxpbnRlZ2VyfSAgICAgICAgICAgVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjYWxsYmFjayBvciBib29sZWFuIGluZGljYXRpbmcgc3VjY2VzcyBvciBmYWlsdXJlXG4gKi9cbmZ1bmN0aW9uIHZpc2liaWxpdHlBcGkgKG9wdGlvbnMpIHtcblx0bGV0IGFjdGlvbiA9IG9wdGlvbnMuYWN0aW9uIHx8ICcnO1xuXHRsZXQgc3RhdGUgPSBvcHRpb25zLnN0YXRlIHx8ICcnO1xuXHRsZXQgcmV0O1xuXG5cdC8vIFR5cGUgYW5kIHZhbHVlIGNoZWNraW5nXG5cdGlmICghYXJyYXlDb250YWlucyhBQ1RJT05TLCBhY3Rpb24pKSB7XG5cdFx0Y29uc29sZS53YXJuKCdBY3Rpb24gZG9lcyBub3QgZXhpc3QnKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0aWYgKCFhcnJheUNvbnRhaW5zKFNUQVRFUywgc3RhdGUpKSB7XG5cdFx0Y29uc29sZS53YXJuKCdTdGF0ZSBkb2VzIG5vdCBleGlzdCcpO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIEB0b2RvIE1hZ2ljIGNhbGwgZnVuY3Rpb24gcGxzXG5cdGlmIChhY3Rpb24gPT09ICdhZGRDYWxsYmFjaycpIHtcblx0XHRyZXQgPSBhZGRDYWxsYmFjayhzdGF0ZSwgb3B0aW9ucyk7XG5cdH0gZWxzZSBpZiAoYWN0aW9uID09PSAncmVtb3ZlQ2FsbGJhY2snKSB7XG5cdFx0cmV0ID0gcmVtb3ZlQ2FsbGJhY2soc3RhdGUsIG9wdGlvbnMpO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IHsgdmlzaWJpbGl0eUFwaSB9O1xuIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJCYXJiYVwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJCYXJiYVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJCYXJiYVwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9kaXN0XCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvL1Byb21pc2UgcG9seWZpbGwgaHR0cHM6Ly9naXRodWIuY29tL3RheWxvcmhha2VzL3Byb21pc2UtcG9seWZpbGxcblx0XG5cdGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgd2luZG93LlByb21pc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR9XG5cdFxuXHR2YXIgQmFyYmEgPSB7XG5cdCAgdmVyc2lvbjogJzEuMC4wJyxcblx0ICBCYXNlVHJhbnNpdGlvbjogX193ZWJwYWNrX3JlcXVpcmVfXyg0KSxcblx0ICBCYXNlVmlldzogX193ZWJwYWNrX3JlcXVpcmVfXyg2KSxcblx0ICBCYXNlQ2FjaGU6IF9fd2VicGFja19yZXF1aXJlX18oOCksXG5cdCAgRGlzcGF0Y2hlcjogX193ZWJwYWNrX3JlcXVpcmVfXyg3KSxcblx0ICBIaXN0b3J5TWFuYWdlcjogX193ZWJwYWNrX3JlcXVpcmVfXyg5KSxcblx0ICBQamF4OiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSxcblx0ICBQcmVmZXRjaDogX193ZWJwYWNrX3JlcXVpcmVfXygxMyksXG5cdCAgVXRpbHM6IF9fd2VicGFja19yZXF1aXJlX18oNSlcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQmFyYmE7XG5cblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihzZXRJbW1lZGlhdGUpIHsoZnVuY3Rpb24gKHJvb3QpIHtcblx0XG5cdCAgLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gcHJvbWlzZS1wb2x5ZmlsbCB3aWxsIGJlIHVuYWZmZWN0ZWQgYnlcblx0ICAvLyBvdGhlciBjb2RlIG1vZGlmeWluZyBzZXRUaW1lb3V0IChsaWtlIHNpbm9uLnVzZUZha2VUaW1lcnMoKSlcblx0ICB2YXIgc2V0VGltZW91dEZ1bmMgPSBzZXRUaW1lb3V0O1xuXHRcblx0ICBmdW5jdGlvbiBub29wKCkge1xuXHQgIH1cblx0XG5cdCAgLy8gVXNlIHBvbHlmaWxsIGZvciBzZXRJbW1lZGlhdGUgZm9yIHBlcmZvcm1hbmNlIGdhaW5zXG5cdCAgdmFyIGFzYXAgPSAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiBzZXRJbW1lZGlhdGUpIHx8XG5cdCAgICBmdW5jdGlvbiAoZm4pIHtcblx0ICAgICAgc2V0VGltZW91dEZ1bmMoZm4sIDApO1xuXHQgICAgfTtcblx0XG5cdCAgdmFyIG9uVW5oYW5kbGVkUmVqZWN0aW9uID0gZnVuY3Rpb24gb25VbmhhbmRsZWRSZWplY3Rpb24oZXJyKSB7XG5cdCAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUpIHtcblx0ICAgICAgY29uc29sZS53YXJuKCdQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb246JywgZXJyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgLy8gUG9seWZpbGwgZm9yIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kXG5cdCAgZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgZm4uYXBwbHkodGhpc0FyZywgYXJndW1lbnRzKTtcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBQcm9taXNlKGZuKSB7XG5cdCAgICBpZiAodHlwZW9mIHRoaXMgIT09ICdvYmplY3QnKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXcnKTtcblx0ICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoJ25vdCBhIGZ1bmN0aW9uJyk7XG5cdCAgICB0aGlzLl9zdGF0ZSA9IDA7XG5cdCAgICB0aGlzLl9oYW5kbGVkID0gZmFsc2U7XG5cdCAgICB0aGlzLl92YWx1ZSA9IHVuZGVmaW5lZDtcblx0ICAgIHRoaXMuX2RlZmVycmVkcyA9IFtdO1xuXHRcblx0ICAgIGRvUmVzb2x2ZShmbiwgdGhpcyk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBoYW5kbGUoc2VsZiwgZGVmZXJyZWQpIHtcblx0ICAgIHdoaWxlIChzZWxmLl9zdGF0ZSA9PT0gMykge1xuXHQgICAgICBzZWxmID0gc2VsZi5fdmFsdWU7XG5cdCAgICB9XG5cdCAgICBpZiAoc2VsZi5fc3RhdGUgPT09IDApIHtcblx0ICAgICAgc2VsZi5fZGVmZXJyZWRzLnB1c2goZGVmZXJyZWQpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBzZWxmLl9oYW5kbGVkID0gdHJ1ZTtcblx0ICAgIGFzYXAoZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgY2IgPSBzZWxmLl9zdGF0ZSA9PT0gMSA/IGRlZmVycmVkLm9uRnVsZmlsbGVkIDogZGVmZXJyZWQub25SZWplY3RlZDtcblx0ICAgICAgaWYgKGNiID09PSBudWxsKSB7XG5cdCAgICAgICAgKHNlbGYuX3N0YXRlID09PSAxID8gcmVzb2x2ZSA6IHJlamVjdCkoZGVmZXJyZWQucHJvbWlzZSwgc2VsZi5fdmFsdWUpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgcmV0O1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHJldCA9IGNiKHNlbGYuX3ZhbHVlKTtcblx0ICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIHJlamVjdChkZWZlcnJlZC5wcm9taXNlLCBlKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgcmVzb2x2ZShkZWZlcnJlZC5wcm9taXNlLCByZXQpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZXNvbHZlKHNlbGYsIG5ld1ZhbHVlKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAvLyBQcm9taXNlIFJlc29sdXRpb24gUHJvY2VkdXJlOiBodHRwczovL2dpdGh1Yi5jb20vcHJvbWlzZXMtYXBsdXMvcHJvbWlzZXMtc3BlYyN0aGUtcHJvbWlzZS1yZXNvbHV0aW9uLXByb2NlZHVyZVxuXHQgICAgICBpZiAobmV3VmFsdWUgPT09IHNlbGYpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuJyk7XG5cdCAgICAgIGlmIChuZXdWYWx1ZSAmJiAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgbmV3VmFsdWUgPT09ICdmdW5jdGlvbicpKSB7XG5cdCAgICAgICAgdmFyIHRoZW4gPSBuZXdWYWx1ZS50aGVuO1xuXHQgICAgICAgIGlmIChuZXdWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0ICAgICAgICAgIHNlbGYuX3N0YXRlID0gMztcblx0ICAgICAgICAgIHNlbGYuX3ZhbHVlID0gbmV3VmFsdWU7XG5cdCAgICAgICAgICBmaW5hbGUoc2VsZik7XG5cdCAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgZG9SZXNvbHZlKGJpbmQodGhlbiwgbmV3VmFsdWUpLCBzZWxmKTtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgc2VsZi5fc3RhdGUgPSAxO1xuXHQgICAgICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuXHQgICAgICBmaW5hbGUoc2VsZik7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgIHJlamVjdChzZWxmLCBlKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHJlamVjdChzZWxmLCBuZXdWYWx1ZSkge1xuXHQgICAgc2VsZi5fc3RhdGUgPSAyO1xuXHQgICAgc2VsZi5fdmFsdWUgPSBuZXdWYWx1ZTtcblx0ICAgIGZpbmFsZShzZWxmKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGZpbmFsZShzZWxmKSB7XG5cdCAgICBpZiAoc2VsZi5fc3RhdGUgPT09IDIgJiYgc2VsZi5fZGVmZXJyZWRzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICBhc2FwKGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIGlmICghc2VsZi5faGFuZGxlZCkge1xuXHQgICAgICAgICAgb25VbmhhbmRsZWRSZWplY3Rpb24oc2VsZi5fdmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNlbGYuX2RlZmVycmVkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICBoYW5kbGUoc2VsZiwgc2VsZi5fZGVmZXJyZWRzW2ldKTtcblx0ICAgIH1cblx0ICAgIHNlbGYuX2RlZmVycmVkcyA9IG51bGw7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9taXNlKSB7XG5cdCAgICB0aGlzLm9uRnVsZmlsbGVkID0gdHlwZW9mIG9uRnVsZmlsbGVkID09PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiBudWxsO1xuXHQgICAgdGhpcy5vblJlamVjdGVkID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT09ICdmdW5jdGlvbicgPyBvblJlamVjdGVkIDogbnVsbDtcblx0ICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBUYWtlIGEgcG90ZW50aWFsbHkgbWlzYmVoYXZpbmcgcmVzb2x2ZXIgZnVuY3Rpb24gYW5kIG1ha2Ugc3VyZVxuXHQgICAqIG9uRnVsZmlsbGVkIGFuZCBvblJlamVjdGVkIGFyZSBvbmx5IGNhbGxlZCBvbmNlLlxuXHQgICAqXG5cdCAgICogTWFrZXMgbm8gZ3VhcmFudGVlcyBhYm91dCBhc3luY2hyb255LlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGRvUmVzb2x2ZShmbiwgc2VsZikge1xuXHQgICAgdmFyIGRvbmUgPSBmYWxzZTtcblx0ICAgIHRyeSB7XG5cdCAgICAgIGZuKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgIGlmIChkb25lKSByZXR1cm47XG5cdCAgICAgICAgZG9uZSA9IHRydWU7XG5cdCAgICAgICAgcmVzb2x2ZShzZWxmLCB2YWx1ZSk7XG5cdCAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcblx0ICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuXHQgICAgICAgIGRvbmUgPSB0cnVlO1xuXHQgICAgICAgIHJlamVjdChzZWxmLCByZWFzb24pO1xuXHQgICAgICB9KTtcblx0ICAgIH0gY2F0Y2ggKGV4KSB7XG5cdCAgICAgIGlmIChkb25lKSByZXR1cm47XG5cdCAgICAgIGRvbmUgPSB0cnVlO1xuXHQgICAgICByZWplY3Qoc2VsZiwgZXgpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgUHJvbWlzZS5wcm90b3R5cGVbJ2NhdGNoJ10gPSBmdW5jdGlvbiAob25SZWplY3RlZCkge1xuXHQgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcblx0ICB9O1xuXHRcblx0ICBQcm9taXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG5cdCAgICB2YXIgcHJvbSA9IG5ldyAodGhpcy5jb25zdHJ1Y3Rvcikobm9vcCk7XG5cdFxuXHQgICAgaGFuZGxlKHRoaXMsIG5ldyBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9tKSk7XG5cdCAgICByZXR1cm4gcHJvbTtcblx0ICB9O1xuXHRcblx0ICBQcm9taXNlLmFsbCA9IGZ1bmN0aW9uIChhcnIpIHtcblx0ICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyKTtcblx0XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHJldHVybiByZXNvbHZlKFtdKTtcblx0ICAgICAgdmFyIHJlbWFpbmluZyA9IGFyZ3MubGVuZ3RoO1xuXHRcblx0ICAgICAgZnVuY3Rpb24gcmVzKGksIHZhbCkge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICBpZiAodmFsICYmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSkge1xuXHQgICAgICAgICAgICB2YXIgdGhlbiA9IHZhbC50aGVuO1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgICB0aGVuLmNhbGwodmFsLCBmdW5jdGlvbiAodmFsKSB7XG5cdCAgICAgICAgICAgICAgICByZXMoaSwgdmFsKTtcblx0ICAgICAgICAgICAgICB9LCByZWplY3QpO1xuXHQgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgYXJnc1tpXSA9IHZhbDtcblx0ICAgICAgICAgIGlmICgtLXJlbWFpbmluZyA9PT0gMCkge1xuXHQgICAgICAgICAgICByZXNvbHZlKGFyZ3MpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG5cdCAgICAgICAgICByZWplY3QoZXgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgcmVzKGksIGFyZ3NbaV0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBQcm9taXNlLnJlc29sdmUgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBQcm9taXNlKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0ICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBQcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgcmVqZWN0KHZhbHVlKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIFByb21pc2UucmFjZSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcblx0ICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICB2YWx1ZXNbaV0udGhlbihyZXNvbHZlLCByZWplY3QpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICAvKipcblx0ICAgKiBTZXQgdGhlIGltbWVkaWF0ZSBmdW5jdGlvbiB0byBleGVjdXRlIGNhbGxiYWNrc1xuXHQgICAqIEBwYXJhbSBmbiB7ZnVuY3Rpb259IEZ1bmN0aW9uIHRvIGV4ZWN1dGVcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqL1xuXHQgIFByb21pc2UuX3NldEltbWVkaWF0ZUZuID0gZnVuY3Rpb24gX3NldEltbWVkaWF0ZUZuKGZuKSB7XG5cdCAgICBhc2FwID0gZm47XG5cdCAgfTtcblx0XG5cdCAgUHJvbWlzZS5fc2V0VW5oYW5kbGVkUmVqZWN0aW9uRm4gPSBmdW5jdGlvbiBfc2V0VW5oYW5kbGVkUmVqZWN0aW9uRm4oZm4pIHtcblx0ICAgIG9uVW5oYW5kbGVkUmVqZWN0aW9uID0gZm47XG5cdCAgfTtcblx0XG5cdCAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IFByb21pc2U7XG5cdCAgfSBlbHNlIGlmICghcm9vdC5Qcm9taXNlKSB7XG5cdCAgICByb290LlByb21pc2UgPSBQcm9taXNlO1xuXHQgIH1cblx0XG5cdH0pKHRoaXMpO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikuc2V0SW1tZWRpYXRlKSlcblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihzZXRJbW1lZGlhdGUsIGNsZWFySW1tZWRpYXRlKSB7dmFyIG5leHRUaWNrID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKS5uZXh0VGljaztcblx0dmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXHR2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cdHZhciBpbW1lZGlhdGVJZHMgPSB7fTtcblx0dmFyIG5leHRJbW1lZGlhdGVJZCA9IDA7XG5cdFxuXHQvLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXHRcblx0ZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xuXHR9O1xuXHRleHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG5cdH07XG5cdGV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cblx0ZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cdFxuXHRmdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG5cdCAgdGhpcy5faWQgPSBpZDtcblx0ICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcblx0fVxuXHRUaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5cdFRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG5cdCAgdGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdywgdGhpcy5faWQpO1xuXHR9O1xuXHRcblx0Ly8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5cdGV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcblx0ICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cdCAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcblx0fTtcblx0XG5cdGV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG5cdCAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXHQgIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG5cdH07XG5cdFxuXHRleHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuXHQgIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblx0XG5cdCAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG5cdCAgaWYgKG1zZWNzID49IDApIHtcblx0ICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcblx0ICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcblx0ICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcblx0ICAgIH0sIG1zZWNzKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyBUaGF0J3Mgbm90IGhvdyBub2RlLmpzIGltcGxlbWVudHMgaXQgYnV0IHRoZSBleHBvc2VkIGFwaSBpcyB0aGUgc2FtZS5cblx0ZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBzZXRJbW1lZGlhdGUgOiBmdW5jdGlvbihmbikge1xuXHQgIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuXHQgIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBmYWxzZSA6IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblx0XG5cdCAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cdFxuXHQgIG5leHRUaWNrKGZ1bmN0aW9uIG9uTmV4dFRpY2soKSB7XG5cdCAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuXHQgICAgICAvLyBmbi5jYWxsKCkgaXMgZmFzdGVyIHNvIHdlIG9wdGltaXplIGZvciB0aGUgY29tbW9uIHVzZS1jYXNlXG5cdCAgICAgIC8vIEBzZWUgaHR0cDovL2pzcGVyZi5jb20vY2FsbC1hcHBseS1zZWd1XG5cdCAgICAgIGlmIChhcmdzKSB7XG5cdCAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZm4uY2FsbChudWxsKTtcblx0ICAgICAgfVxuXHQgICAgICAvLyBQcmV2ZW50IGlkcyBmcm9tIGxlYWtpbmdcblx0ICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiBpZDtcblx0fTtcblx0XG5cdGV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSB0eXBlb2YgY2xlYXJJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IGNsZWFySW1tZWRpYXRlIDogZnVuY3Rpb24oaWQpIHtcblx0ICBkZWxldGUgaW1tZWRpYXRlSWRzW2lkXTtcblx0fTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikuc2V0SW1tZWRpYXRlLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpLmNsZWFySW1tZWRpYXRlKSlcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXHRcblx0dmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXHRcblx0Ly8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG5cdC8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuXHQvLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG5cdC8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cdFxuXHR2YXIgY2FjaGVkU2V0VGltZW91dDtcblx0dmFyIGNhY2hlZENsZWFyVGltZW91dDtcblx0XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgdHJ5IHtcblx0ICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIGNhY2hlZFNldFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBpcyBub3QgZGVmaW5lZCcpO1xuXHQgICAgfVxuXHQgIH1cblx0ICB0cnkge1xuXHQgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaXMgbm90IGRlZmluZWQnKTtcblx0ICAgIH1cblx0ICB9XG5cdH0gKCkpXG5cdHZhciBxdWV1ZSA9IFtdO1xuXHR2YXIgZHJhaW5pbmcgPSBmYWxzZTtcblx0dmFyIGN1cnJlbnRRdWV1ZTtcblx0dmFyIHF1ZXVlSW5kZXggPSAtMTtcblx0XG5cdGZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcblx0ICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgIH1cblx0ICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBkcmFpblF1ZXVlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG5cdCAgICBpZiAoZHJhaW5pbmcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgdGltZW91dCA9IGNhY2hlZFNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcblx0ICAgIGRyYWluaW5nID0gdHJ1ZTtcblx0XG5cdCAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgd2hpbGUobGVuKSB7XG5cdCAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG5cdCAgICAgICAgcXVldWUgPSBbXTtcblx0ICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgfVxuXHQgICAgY3VycmVudFF1ZXVlID0gbnVsbDtcblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBjYWNoZWRDbGVhclRpbWVvdXQodGltZW91dCk7XG5cdH1cblx0XG5cdHByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG5cdCAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0KGRyYWluUXVldWUsIDApO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0Ly8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuXHRmdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcblx0ICAgIHRoaXMuZnVuID0gZnVuO1xuXHQgICAgdGhpcy5hcnJheSA9IGFycmF5O1xuXHR9XG5cdEl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xuXHR9O1xuXHRwcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xuXHRwcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xuXHRwcm9jZXNzLmVudiA9IHt9O1xuXHRwcm9jZXNzLmFyZ3YgPSBbXTtcblx0cHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5cdHByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0cHJvY2Vzcy5vbiA9IG5vb3A7XG5cdHByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLm9uY2UgPSBub29wO1xuXHRwcm9jZXNzLm9mZiA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5cdHByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cdFxuXHRwcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRcblx0cHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcblx0cHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdHByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHQvKipcblx0ICogQmFzZVRyYW5zaXRpb24gdG8gZXh0ZW5kXG5cdCAqXG5cdCAqIEBuYW1lc3BhY2UgQmFyYmEuQmFzZVRyYW5zaXRpb25cblx0ICogQHR5cGUge09iamVjdH1cblx0ICovXG5cdHZhciBCYXNlVHJhbnNpdGlvbiA9IHtcblx0ICAvKipcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuQmFzZVRyYW5zaXRpb25cblx0ICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG5cdCAgICovXG5cdCAgb2xkQ29udGFpbmVyOiB1bmRlZmluZWQsXG5cdFxuXHQgIC8qKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5CYXNlVHJhbnNpdGlvblxuXHQgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cblx0ICAgKi9cblx0ICBuZXdDb250YWluZXI6IHVuZGVmaW5lZCxcblx0XG5cdCAgLyoqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLkJhc2VUcmFuc2l0aW9uXG5cdCAgICogQHR5cGUge1Byb21pc2V9XG5cdCAgICovXG5cdCAgbmV3Q29udGFpbmVyTG9hZGluZzogdW5kZWZpbmVkLFxuXHRcblx0ICAvKipcblx0ICAgKiBIZWxwZXIgdG8gZXh0ZW5kIHRoZSBvYmplY3Rcblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5CYXNlVHJhbnNpdGlvblxuXHQgICAqIEBwYXJhbSAge09iamVjdH0gbmV3T2JqZWN0XG5cdCAgICogQHJldHVybiB7T2JqZWN0fSBuZXdJbmhlcml0T2JqZWN0XG5cdCAgICovXG5cdCAgZXh0ZW5kOiBmdW5jdGlvbihvYmope1xuXHQgICAgcmV0dXJuIFV0aWxzLmV4dGVuZCh0aGlzLCBvYmopO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGZyb20gUGpheCBtb2R1bGUgdG8gaW5pdGlhbGl6ZVxuXHQgICAqIHRoZSB0cmFuc2l0aW9uLlxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLkJhc2VUcmFuc2l0aW9uXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gb2xkQ29udGFpbmVyXG5cdCAgICogQHBhcmFtICB7UHJvbWlzZX0gbmV3Q29udGFpbmVyXG5cdCAgICogQHJldHVybiB7UHJvbWlzZX1cblx0ICAgKi9cblx0ICBpbml0OiBmdW5jdGlvbihvbGRDb250YWluZXIsIG5ld0NvbnRhaW5lcikge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICB0aGlzLm9sZENvbnRhaW5lciA9IG9sZENvbnRhaW5lcjtcblx0ICAgIHRoaXMuX25ld0NvbnRhaW5lclByb21pc2UgPSBuZXdDb250YWluZXI7XG5cdFxuXHQgICAgdGhpcy5kZWZlcnJlZCA9IFV0aWxzLmRlZmVycmVkKCk7XG5cdCAgICB0aGlzLm5ld0NvbnRhaW5lclJlYWR5ID0gVXRpbHMuZGVmZXJyZWQoKTtcblx0ICAgIHRoaXMubmV3Q29udGFpbmVyTG9hZGluZyA9IHRoaXMubmV3Q29udGFpbmVyUmVhZHkucHJvbWlzZTtcblx0XG5cdCAgICB0aGlzLnN0YXJ0KCk7XG5cdFxuXHQgICAgdGhpcy5fbmV3Q29udGFpbmVyUHJvbWlzZS50aGVuKGZ1bmN0aW9uKG5ld0NvbnRhaW5lcikge1xuXHQgICAgICBfdGhpcy5uZXdDb250YWluZXIgPSBuZXdDb250YWluZXI7XG5cdCAgICAgIF90aGlzLm5ld0NvbnRhaW5lclJlYWR5LnJlc29sdmUoKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLmRlZmVycmVkLnByb21pc2U7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogVGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSBjYWxsZWQgYXMgc29vbiB0aGUgVHJhbnNpdGlvbiBpcyBmaW5pc2hlZFxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLkJhc2VUcmFuc2l0aW9uXG5cdCAgICovXG5cdCAgZG9uZTogZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLm9sZENvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMub2xkQ29udGFpbmVyKTtcblx0ICAgIHRoaXMubmV3Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG5cdCAgICB0aGlzLmRlZmVycmVkLnJlc29sdmUoKTtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiBDb25zdHJ1Y3RvciBmb3IgeW91ciBUcmFuc2l0aW9uXG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuQmFzZVRyYW5zaXRpb25cblx0ICAgKiBAYWJzdHJhY3Rcblx0ICAgKi9cblx0ICBzdGFydDogZnVuY3Rpb24oKSB7fSxcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQmFzZVRyYW5zaXRpb247XG5cblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBKdXN0IGFuIG9iamVjdCB3aXRoIHNvbWUgaGVscGZ1bCBmdW5jdGlvbnNcblx0ICpcblx0ICogQHR5cGUge09iamVjdH1cblx0ICogQG5hbWVzcGFjZSBCYXJiYS5VdGlsc1xuXHQgKi9cblx0dmFyIFV0aWxzID0ge1xuXHQgIC8qKlxuXHQgICAqIFJldHVybiB0aGUgY3VycmVudCB1cmxcblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5VdGlsc1xuXHQgICAqIEByZXR1cm4ge1N0cmluZ30gY3VycmVudFVybFxuXHQgICAqL1xuXHQgIGdldEN1cnJlbnRVcmw6IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgK1xuXHQgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICtcblx0ICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgK1xuXHQgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogR2l2ZW4gYW4gdXJsLCByZXR1cm4gaXQgd2l0aG91dCB0aGUgaGFzaFxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLlV0aWxzXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0gIHtTdHJpbmd9IHVybFxuXHQgICAqIEByZXR1cm4ge1N0cmluZ30gbmV3Q2xlYW5Vcmxcblx0ICAgKi9cblx0ICBjbGVhbkxpbms6IGZ1bmN0aW9uKHVybCkge1xuXHQgICAgcmV0dXJuIHVybC5yZXBsYWNlKC8jLiovLCAnJyk7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogVGltZSBpbiBtaWxsaXNlY29uZCBhZnRlciB0aGUgeGhyIHJlcXVlc3QgZ29lcyBpbiB0aW1lb3V0XG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuVXRpbHNcblx0ICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAqIEBkZWZhdWx0XG5cdCAgICovXG5cdCAgeGhyVGltZW91dDogNTAwMCxcblx0XG5cdCAgLyoqXG5cdCAgICogU3RhcnQgYW4gWE1MSHR0cFJlcXVlc3QoKSBhbmQgcmV0dXJuIGEgUHJvbWlzZVxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLlV0aWxzXG5cdCAgICogQHBhcmFtICB7U3RyaW5nfSB1cmxcblx0ICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuXHQgICAqL1xuXHQgIHhocjogZnVuY3Rpb24odXJsKSB7XG5cdCAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLmRlZmVycmVkKCk7XG5cdCAgICB2YXIgcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFxuXHQgICAgcmVxLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICBpZiAocmVxLnJlYWR5U3RhdGUgPT09IDQpIHtcblx0ICAgICAgICBpZiAocmVxLnN0YXR1cyA9PT0gMjAwKSB7XG5cdCAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucmVzb2x2ZShyZXEucmVzcG9uc2VUZXh0KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnJlamVjdChuZXcgRXJyb3IoJ3hocjogSFRUUCBjb2RlIGlzIG5vdCAyMDAnKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHJlcS5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIGRlZmVycmVkLnJlamVjdChuZXcgRXJyb3IoJ3hocjogVGltZW91dCBleGNlZWRlZCcpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmVxLm9wZW4oJ0dFVCcsIHVybCk7XG5cdCAgICByZXEudGltZW91dCA9IHRoaXMueGhyVGltZW91dDtcblx0ICAgIHJlcS5zZXRSZXF1ZXN0SGVhZGVyKCd4LWJhcmJhJywgJ3llcycpO1xuXHQgICAgcmVxLnNlbmQoKTtcblx0XG5cdCAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiBHZXQgb2JqIGFuZCBwcm9wcyBhbmQgcmV0dXJuIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0eSBtZXJnZWRcblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5VdGlsc1xuXHQgICAqIEBwYXJhbSAge29iamVjdH0gb2JqXG5cdCAgICogQHBhcmFtICB7b2JqZWN0fSBwcm9wc1xuXHQgICAqIEByZXR1cm4ge29iamVjdH1cblx0ICAgKi9cblx0ICBleHRlbmQ6IGZ1bmN0aW9uKG9iaiwgcHJvcHMpIHtcblx0ICAgIHZhciBuZXdPYmogPSBPYmplY3QuY3JlYXRlKG9iaik7XG5cdFxuXHQgICAgZm9yKHZhciBwcm9wIGluIHByb3BzKSB7XG5cdCAgICAgIGlmKHByb3BzLmhhc093blByb3BlcnR5KHByb3ApKSB7XG5cdCAgICAgICAgbmV3T2JqW3Byb3BdID0gcHJvcHNbcHJvcF07XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbmV3T2JqO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIFJldHVybiBhIG5ldyBcIkRlZmVycmVkXCIgb2JqZWN0XG5cdCAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Nb3ppbGxhL0phdmFTY3JpcHRfY29kZV9tb2R1bGVzL1Byb21pc2UuanNtL0RlZmVycmVkXG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuVXRpbHNcblx0ICAgKiBAcmV0dXJuIHtEZWZlcnJlZH1cblx0ICAgKi9cblx0ICBkZWZlcnJlZDogZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gbmV3IGZ1bmN0aW9uKCkge1xuXHQgICAgICB0aGlzLnJlc29sdmUgPSBudWxsO1xuXHQgICAgICB0aGlzLnJlamVjdCA9IG51bGw7XG5cdFxuXHQgICAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuXHQgICAgICAgIHRoaXMucmVqZWN0ID0gcmVqZWN0O1xuXHQgICAgICB9LmJpbmQodGhpcykpO1xuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiBSZXR1cm4gdGhlIHBvcnQgbnVtYmVyIG5vcm1hbGl6ZWQsIGV2ZW50dWFsbHkgeW91IGNhbiBwYXNzIGEgc3RyaW5nIHRvIGJlIG5vcm1hbGl6ZWQuXG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuVXRpbHNcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSAge1N0cmluZ30gcFxuXHQgICAqIEByZXR1cm4ge0ludH0gcG9ydFxuXHQgICAqL1xuXHQgIGdldFBvcnQ6IGZ1bmN0aW9uKHApIHtcblx0ICAgIHZhciBwb3J0ID0gdHlwZW9mIHAgIT09ICd1bmRlZmluZWQnID8gcCA6IHdpbmRvdy5sb2NhdGlvbi5wb3J0O1xuXHQgICAgdmFyIHByb3RvY29sID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sO1xuXHRcblx0ICAgIGlmIChwb3J0ICE9ICcnKVxuXHQgICAgICByZXR1cm4gcGFyc2VJbnQocG9ydCk7XG5cdFxuXHQgICAgaWYgKHByb3RvY29sID09PSAnaHR0cDonKVxuXHQgICAgICByZXR1cm4gODA7XG5cdFxuXHQgICAgaWYgKHByb3RvY29sID09PSAnaHR0cHM6Jylcblx0ICAgICAgcmV0dXJuIDQ0Mztcblx0ICB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFV0aWxzO1xuXG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgRGlzcGF0Y2hlciA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHQvKipcblx0ICogQmFzZVZpZXcgdG8gYmUgZXh0ZW5kZWRcblx0ICpcblx0ICogQG5hbWVzcGFjZSBCYXJiYS5CYXNlVmlld1xuXHQgKiBAdHlwZSB7T2JqZWN0fVxuXHQgKi9cblx0dmFyIEJhc2VWaWV3ICA9IHtcblx0ICAvKipcblx0ICAgKiBOYW1lc3BhY2Ugb2YgdGhlIHZpZXcuXG5cdCAgICogKG5lZWQgdG8gYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBkYXRhLW5hbWVzcGFjZSBvZiB0aGUgY29udGFpbmVyKVxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLkJhc2VWaWV3XG5cdCAgICogQHR5cGUge1N0cmluZ31cblx0ICAgKi9cblx0ICBuYW1lc3BhY2U6IG51bGwsXG5cdFxuXHQgIC8qKlxuXHQgICAqIEhlbHBlciB0byBleHRlbmQgdGhlIG9iamVjdFxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLkJhc2VWaWV3XG5cdCAgICogQHBhcmFtICB7T2JqZWN0fSBuZXdPYmplY3Rcblx0ICAgKiBAcmV0dXJuIHtPYmplY3R9IG5ld0luaGVyaXRPYmplY3Rcblx0ICAgKi9cblx0ICBleHRlbmQ6IGZ1bmN0aW9uKG9iail7XG5cdCAgICByZXR1cm4gVXRpbHMuZXh0ZW5kKHRoaXMsIG9iaik7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogSW5pdCB0aGUgdmlldy5cblx0ICAgKiBQLlMuIElzIHN1Z2dlc3RlZCB0byBpbml0IHRoZSB2aWV3IGJlZm9yZSBzdGFydGluZyBCYXJiYS5QamF4LnN0YXJ0KCksXG5cdCAgICogaW4gdGhpcyB3YXkgLm9uRW50ZXIoKSBhbmQgLm9uRW50ZXJDb21wbGV0ZWQoKSB3aWxsIGJlIGZpcmVkIGZvciB0aGUgY3VycmVudFxuXHQgICAqIGNvbnRhaW5lciB3aGVuIHRoZSBwYWdlIGlzIGxvYWRlZC5cblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5CYXNlVmlld1xuXHQgICAqL1xuXHQgIGluaXQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICBEaXNwYXRjaGVyLm9uKCdpbml0U3RhdGVDaGFuZ2UnLFxuXHQgICAgICBmdW5jdGlvbihuZXdTdGF0dXMsIG9sZFN0YXR1cykge1xuXHQgICAgICAgIGlmIChvbGRTdGF0dXMgJiYgb2xkU3RhdHVzLm5hbWVzcGFjZSA9PT0gX3RoaXMubmFtZXNwYWNlKVxuXHQgICAgICAgICAgX3RoaXMub25MZWF2ZSgpO1xuXHQgICAgICB9XG5cdCAgICApO1xuXHRcblx0ICAgIERpc3BhdGNoZXIub24oJ25ld1BhZ2VSZWFkeScsXG5cdCAgICAgIGZ1bmN0aW9uKG5ld1N0YXR1cywgb2xkU3RhdHVzLCBjb250YWluZXIpIHtcblx0ICAgICAgICBfdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG5cdFxuXHQgICAgICAgIGlmIChuZXdTdGF0dXMubmFtZXNwYWNlID09PSBfdGhpcy5uYW1lc3BhY2UpXG5cdCAgICAgICAgICBfdGhpcy5vbkVudGVyKCk7XG5cdCAgICAgIH1cblx0ICAgICk7XG5cdFxuXHQgICAgRGlzcGF0Y2hlci5vbigndHJhbnNpdGlvbkNvbXBsZXRlZCcsXG5cdCAgICAgIGZ1bmN0aW9uKG5ld1N0YXR1cywgb2xkU3RhdHVzKSB7XG5cdCAgICAgICAgaWYgKG5ld1N0YXR1cy5uYW1lc3BhY2UgPT09IF90aGlzLm5hbWVzcGFjZSlcblx0ICAgICAgICAgIF90aGlzLm9uRW50ZXJDb21wbGV0ZWQoKTtcblx0XG5cdCAgICAgICAgaWYgKG9sZFN0YXR1cyAmJiBvbGRTdGF0dXMubmFtZXNwYWNlID09PSBfdGhpcy5uYW1lc3BhY2UpXG5cdCAgICAgICAgICBfdGhpcy5vbkxlYXZlQ29tcGxldGVkKCk7XG5cdCAgICAgIH1cblx0ICAgICk7XG5cdCAgfSxcblx0XG5cdCAvKipcblx0ICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBmaXJlZCB3aGVuIHRoZSBjb250YWluZXJcblx0ICAqIGlzIHJlYWR5IGFuZCBhdHRhY2hlZCB0byB0aGUgRE9NLlxuXHQgICpcblx0ICAqIEBtZW1iZXJPZiBCYXJiYS5CYXNlVmlld1xuXHQgICogQGFic3RyYWN0XG5cdCAgKi9cblx0ICBvbkVudGVyOiBmdW5jdGlvbigpIHt9LFxuXHRcblx0ICAvKipcblx0ICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgZmlyZWQgd2hlbiB0aGUgdHJhbnNpdGlvblxuXHQgICAqIHRvIHRoaXMgY29udGFpbmVyIGhhcyBqdXN0IGZpbmlzaGVkLlxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLkJhc2VWaWV3XG5cdCAgICogQGFic3RyYWN0XG5cdCAgICovXG5cdCAgb25FbnRlckNvbXBsZXRlZDogZnVuY3Rpb24oKSB7fSxcblx0XG5cdCAgLyoqXG5cdCAgICogVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGZpcmVkIHdoZW4gdGhlIHRyYW5zaXRpb25cblx0ICAgKiB0byBhIG5ldyBjb250YWluZXIgaGFzIGp1c3Qgc3RhcnRlZC5cblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5CYXNlVmlld1xuXHQgICAqIEBhYnN0cmFjdFxuXHQgICAqL1xuXHQgIG9uTGVhdmU6IGZ1bmN0aW9uKCkge30sXG5cdFxuXHQgIC8qKlxuXHQgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBmaXJlZCB3aGVuIHRoZSBjb250YWluZXJcblx0ICAgKiBoYXMganVzdCBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLkJhc2VWaWV3XG5cdCAgICogQGFic3RyYWN0XG5cdCAgICovXG5cdCAgb25MZWF2ZUNvbXBsZXRlZDogZnVuY3Rpb24oKSB7fVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEJhc2VWaWV3O1xuXG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogTGl0dGxlIERpc3BhdGNoZXIgaW5zcGlyZWQgYnkgTWljcm9FdmVudC5qc1xuXHQgKlxuXHQgKiBAbmFtZXNwYWNlIEJhcmJhLkRpc3BhdGNoZXJcblx0ICogQHR5cGUge09iamVjdH1cblx0ICovXG5cdHZhciBEaXNwYXRjaGVyID0ge1xuXHQgIC8qKlxuXHQgICAqIE9iamVjdCB0aGF0IGtlZXBzIGFsbCB0aGUgZXZlbnRzXG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuRGlzcGF0Y2hlclxuXHQgICAqIEByZWFkT25seVxuXHQgICAqIEB0eXBlIHtPYmplY3R9XG5cdCAgICovXG5cdCAgZXZlbnRzOiB7fSxcblx0XG5cdCAgLyoqXG5cdCAgICogQmluZCBhIGNhbGxiYWNrIHRvIGFuIGV2ZW50XG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuRGlzcGF0Y2hlclxuXHQgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnROYW1lXG5cdCAgICogQHBhcmFtICB7RnVuY3Rpb259IGZ1bmN0aW9uXG5cdCAgICovXG5cdCAgb246IGZ1bmN0aW9uKGUsIGYpIHtcblx0ICAgIHRoaXMuZXZlbnRzW2VdID0gdGhpcy5ldmVudHNbZV0gfHwgW107XG5cdCAgICB0aGlzLmV2ZW50c1tlXS5wdXNoKGYpO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIFVuYmluZCBldmVudFxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLkRpc3BhdGNoZXJcblx0ICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50TmFtZVxuXHQgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmdW5jdGlvblxuXHQgICAqL1xuXHQgIG9mZjogZnVuY3Rpb24oZSwgZikge1xuXHQgICAgaWYoZSBpbiB0aGlzLmV2ZW50cyA9PT0gZmFsc2UpXG5cdCAgICAgIHJldHVybjtcblx0XG5cdCAgICB0aGlzLmV2ZW50c1tlXS5zcGxpY2UodGhpcy5ldmVudHNbZV0uaW5kZXhPZihmKSwgMSk7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogRmlyZSB0aGUgZXZlbnQgcnVubmluZyBhbGwgdGhlIGV2ZW50IGFzc29jaWF0ZWQgdG8gaXRcblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5EaXNwYXRjaGVyXG5cdCAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudE5hbWVcblx0ICAgKiBAcGFyYW0gIHsuLi4qfSBhcmdzXG5cdCAgICovXG5cdCAgdHJpZ2dlcjogZnVuY3Rpb24oZSkgey8vZSwgLi4uYXJnc1xuXHQgICAgaWYgKGUgaW4gdGhpcy5ldmVudHMgPT09IGZhbHNlKVxuXHQgICAgICByZXR1cm47XG5cdFxuXHQgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuZXZlbnRzW2VdLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgdGhpcy5ldmVudHNbZV1baV0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBEaXNwYXRjaGVyO1xuXG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0LyoqXG5cdCAqIEJhc2VDYWNoZSBpdCdzIGEgc2ltcGxlIHN0YXRpYyBjYWNoZVxuXHQgKlxuXHQgKiBAbmFtZXNwYWNlIEJhcmJhLkJhc2VDYWNoZVxuXHQgKiBAdHlwZSB7T2JqZWN0fVxuXHQgKi9cblx0dmFyIEJhc2VDYWNoZSA9IHtcblx0ICAvKipcblx0ICAgKiBUaGUgT2JqZWN0IHRoYXQga2VlcHMgYWxsIHRoZSBrZXkgdmFsdWUgaW5mb3JtYXRpb25cblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5CYXNlQ2FjaGVcblx0ICAgKiBAdHlwZSB7T2JqZWN0fVxuXHQgICAqL1xuXHQgIGRhdGE6IHt9LFxuXHRcblx0ICAvKipcblx0ICAgKiBIZWxwZXIgdG8gZXh0ZW5kIHRoaXMgb2JqZWN0XG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuQmFzZUNhY2hlXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0gIHtPYmplY3R9IG5ld09iamVjdFxuXHQgICAqIEByZXR1cm4ge09iamVjdH0gbmV3SW5oZXJpdE9iamVjdFxuXHQgICAqL1xuXHQgIGV4dGVuZDogZnVuY3Rpb24ob2JqKSB7XG5cdCAgICByZXR1cm4gVXRpbHMuZXh0ZW5kKHRoaXMsIG9iaik7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogU2V0IGEga2V5IGFuZCB2YWx1ZSBkYXRhLCBtYWlubHkgQmFyYmEgaXMgZ29pbmcgdG8gc2F2ZSBwcm9taXNlc1xuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLkJhc2VDYWNoZVxuXHQgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcblx0ICAgKiBAcGFyYW0geyp9IHZhbHVlXG5cdCAgICovXG5cdCAgc2V0OiBmdW5jdGlvbihrZXksIHZhbCkge1xuXHQgICAgdGhpcy5kYXRhW2tleV0gPSB2YWw7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogUmV0cmlldmUgdGhlIGRhdGEgdXNpbmcgdGhlIGtleVxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLkJhc2VDYWNoZVxuXHQgICAqIEBwYXJhbSAge1N0cmluZ30ga2V5XG5cdCAgICogQHJldHVybiB7Kn1cblx0ICAgKi9cblx0ICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuXHQgICAgcmV0dXJuIHRoaXMuZGF0YVtrZXldO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIEZsdXNoIHRoZSBjYWNoZVxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLkJhc2VDYWNoZVxuXHQgICAqL1xuXHQgIHJlc2V0OiBmdW5jdGlvbigpIHtcblx0ICAgIHRoaXMuZGF0YSA9IHt9O1xuXHQgIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQmFzZUNhY2hlO1xuXG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogSGlzdG9yeU1hbmFnZXIgaGVscHMgdG8ga2VlcCB0cmFjayBvZiB0aGUgbmF2aWdhdGlvblxuXHQgKlxuXHQgKiBAbmFtZXNwYWNlIEJhcmJhLkhpc3RvcnlNYW5hZ2VyXG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqL1xuXHR2YXIgSGlzdG9yeU1hbmFnZXIgPSB7XG5cdCAgLyoqXG5cdCAgICogS2VlcCB0cmFjayBvZiB0aGUgc3RhdHVzIGluIGhpc3RvcmljIG9yZGVyXG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuSGlzdG9yeU1hbmFnZXJcblx0ICAgKiBAcmVhZE9ubHlcblx0ICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICovXG5cdCAgaGlzdG9yeTogW10sXG5cdFxuXHQgIC8qKlxuXHQgICAqIEFkZCBhIG5ldyBzZXQgb2YgdXJsIGFuZCBuYW1lc3BhY2Vcblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5IaXN0b3J5TWFuYWdlclxuXHQgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcblx0ICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCAgICogQHByaXZhdGVcblx0ICAgKi9cblx0ICBhZGQ6IGZ1bmN0aW9uKHVybCwgbmFtZXNwYWNlKSB7XG5cdCAgICBpZiAoIW5hbWVzcGFjZSlcblx0ICAgICAgbmFtZXNwYWNlID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgIHRoaXMuaGlzdG9yeS5wdXNoKHtcblx0ICAgICAgdXJsOiB1cmwsXG5cdCAgICAgIG5hbWVzcGFjZTogbmFtZXNwYWNlXG5cdCAgICB9KTtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiBSZXR1cm4gaW5mb3JtYXRpb24gYWJvdXQgdGhlIGN1cnJlbnQgc3RhdHVzXG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuSGlzdG9yeU1hbmFnZXJcblx0ICAgKiBAcmV0dXJuIHtPYmplY3R9XG5cdCAgICovXG5cdCAgY3VycmVudFN0YXR1czogZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gdGhpcy5oaXN0b3J5W3RoaXMuaGlzdG9yeS5sZW5ndGggLSAxXTtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiBSZXR1cm4gaW5mb3JtYXRpb24gYWJvdXQgdGhlIHByZXZpb3VzIHN0YXR1c1xuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLkhpc3RvcnlNYW5hZ2VyXG5cdCAgICogQHJldHVybiB7T2JqZWN0fVxuXHQgICAqL1xuXHQgIHByZXZTdGF0dXM6IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGhpc3RvcnkgPSB0aGlzLmhpc3Rvcnk7XG5cdFxuXHQgICAgaWYgKGhpc3RvcnkubGVuZ3RoIDwgMilcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdFxuXHQgICAgcmV0dXJuIGhpc3RvcnlbaGlzdG9yeS5sZW5ndGggLSAyXTtcblx0ICB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEhpc3RvcnlNYW5hZ2VyO1xuXG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0dmFyIERpc3BhdGNoZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgSGlkZVNob3dUcmFuc2l0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdHZhciBCYXNlQ2FjaGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIEhpc3RvcnlNYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0dmFyIERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRcblx0LyoqXG5cdCAqIFBqYXggaXMgYSBzdGF0aWMgb2JqZWN0IHdpdGggbWFpbiBmdW5jdGlvblxuXHQgKlxuXHQgKiBAbmFtZXNwYWNlIEJhcmJhLlBqYXhcblx0ICogQGJvcnJvd3MgRG9tIGFzIERvbVxuXHQgKiBAdHlwZSB7T2JqZWN0fVxuXHQgKi9cblx0dmFyIFBqYXggPSB7XG5cdCAgRG9tOiBEb20sXG5cdCAgSGlzdG9yeTogSGlzdG9yeU1hbmFnZXIsXG5cdCAgQ2FjaGU6IEJhc2VDYWNoZSxcblx0XG5cdCAgLyoqXG5cdCAgICogSW5kaWNhdGUgd2V0aGVyIG9yIG5vdCB1c2UgdGhlIGNhY2hlXG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuUGpheFxuXHQgICAqIEB0eXBlIHtCb29sZWFufVxuXHQgICAqIEBkZWZhdWx0XG5cdCAgICovXG5cdCAgY2FjaGVFbmFibGVkOiB0cnVlLFxuXHRcblx0ICAvKipcblx0ICAgKiBJbmRpY2F0ZSBpZiB0aGVyZSBpcyBhbiBhbmltYXRpb24gaW4gcHJvZ3Jlc3Ncblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5QamF4XG5cdCAgICogQHJlYWRPbmx5XG5cdCAgICogQHR5cGUge0Jvb2xlYW59XG5cdCAgICovXG5cdCAgdHJhbnNpdGlvblByb2dyZXNzOiBmYWxzZSxcblx0XG5cdCAgLyoqXG5cdCAgICogQ2xhc3MgbmFtZSB1c2VkIHRvIGlnbm9yZSBsaW5rc1xuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLlBqYXhcblx0ICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAqIEBkZWZhdWx0XG5cdCAgICovXG5cdCAgaWdub3JlQ2xhc3NMaW5rOiAnbm8tYmFyYmEnLFxuXHRcblx0ICAvKipcblx0ICAgKiBGdW5jdGlvbiB0byBiZSBjYWxsZWQgdG8gc3RhcnQgUGpheFxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLlBqYXhcblx0ICAgKi9cblx0ICBzdGFydDogZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLmluaXQoKTtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiBJbml0IHRoZSBldmVudHNcblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5QamF4XG5cdCAgICogQHByaXZhdGVcblx0ICAgKi9cblx0ICBpbml0OiBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBjb250YWluZXIgPSB0aGlzLkRvbS5nZXRDb250YWluZXIoKTtcblx0ICAgIHZhciB3cmFwcGVyID0gdGhpcy5Eb20uZ2V0V3JhcHBlcigpO1xuXHRcblx0ICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG5cdFxuXHQgICAgdGhpcy5IaXN0b3J5LmFkZChcblx0ICAgICAgdGhpcy5nZXRDdXJyZW50VXJsKCksXG5cdCAgICAgIHRoaXMuRG9tLmdldE5hbWVzcGFjZShjb250YWluZXIpXG5cdCAgICApO1xuXHRcblx0ICAgIC8vRmlyZSBmb3IgdGhlIGN1cnJlbnQgdmlldy5cblx0ICAgIERpc3BhdGNoZXIudHJpZ2dlcignaW5pdFN0YXRlQ2hhbmdlJywgdGhpcy5IaXN0b3J5LmN1cnJlbnRTdGF0dXMoKSk7XG5cdCAgICBEaXNwYXRjaGVyLnRyaWdnZXIoJ25ld1BhZ2VSZWFkeScsXG5cdCAgICAgIHRoaXMuSGlzdG9yeS5jdXJyZW50U3RhdHVzKCksXG5cdCAgICAgIHt9LFxuXHQgICAgICBjb250YWluZXIsXG5cdCAgICAgIHRoaXMuRG9tLmN1cnJlbnRIVE1MXG5cdCAgICApO1xuXHQgICAgRGlzcGF0Y2hlci50cmlnZ2VyKCd0cmFuc2l0aW9uQ29tcGxldGVkJywgdGhpcy5IaXN0b3J5LmN1cnJlbnRTdGF0dXMoKSk7XG5cdFxuXHQgICAgdGhpcy5iaW5kRXZlbnRzKCk7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogQXR0YWNoIHRoZSBldmVudGxpc3RlbmVyc1xuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLlBqYXhcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqL1xuXHQgIGJpbmRFdmVudHM6IGZ1bmN0aW9uKCkge1xuXHQgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLFxuXHQgICAgICB0aGlzLm9uTGlua0NsaWNrLmJpbmQodGhpcylcblx0ICAgICk7XG5cdFxuXHQgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJyxcblx0ICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlLmJpbmQodGhpcylcblx0ICAgICk7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogUmV0dXJuIHRoZSBjdXJyZW50VVJMIGNsZWFuZWRcblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5QamF4XG5cdCAgICogQHJldHVybiB7U3RyaW5nfSBjdXJyZW50VXJsXG5cdCAgICovXG5cdCAgZ2V0Q3VycmVudFVybDogZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gVXRpbHMuY2xlYW5MaW5rKFxuXHQgICAgICBVdGlscy5nZXRDdXJyZW50VXJsKClcblx0ICAgICk7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogQ2hhbmdlIHRoZSBVUkwgd2l0aCBwdXNoc3RhdGUgYW5kIHRyaWdnZXIgdGhlIHN0YXRlIGNoYW5nZVxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLlBqYXhcblx0ICAgKiBAcGFyYW0ge1N0cmluZ30gbmV3VXJsXG5cdCAgICovXG5cdCAgZ29UbzogZnVuY3Rpb24odXJsKSB7XG5cdCAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgdXJsKTtcblx0ICAgIHRoaXMub25TdGF0ZUNoYW5nZSgpO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIEZvcmNlIHRoZSBicm93c2VyIHRvIGdvIHRvIGEgY2VydGFpbiB1cmxcblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5QamF4XG5cdCAgICogQHBhcmFtIHtTdHJpbmd9IHVybFxuXHQgICAqIEBwcml2YXRlXG5cdCAgICovXG5cdCAgZm9yY2VHb1RvOiBmdW5jdGlvbih1cmwpIHtcblx0ICAgIHdpbmRvdy5sb2NhdGlvbiA9IHVybDtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiBMb2FkIGFuIHVybCwgd2lsbCBzdGFydCBhbiB4aHIgcmVxdWVzdCBvciBsb2FkIGZyb20gdGhlIGNhY2hlXG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuUGpheFxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtICB7U3RyaW5nfSB1cmxcblx0ICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuXHQgICAqL1xuXHQgIGxvYWQ6IGZ1bmN0aW9uKHVybCkge1xuXHQgICAgdmFyIGRlZmVycmVkID0gVXRpbHMuZGVmZXJyZWQoKTtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICB2YXIgeGhyO1xuXHRcblx0ICAgIHhociA9IHRoaXMuQ2FjaGUuZ2V0KHVybCk7XG5cdFxuXHQgICAgaWYgKCF4aHIpIHtcblx0ICAgICAgeGhyID0gVXRpbHMueGhyKHVybCk7XG5cdCAgICAgIHRoaXMuQ2FjaGUuc2V0KHVybCwgeGhyKTtcblx0ICAgIH1cblx0XG5cdCAgICB4aHIudGhlbihcblx0ICAgICAgZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICAgIHZhciBjb250YWluZXIgPSBfdGhpcy5Eb20ucGFyc2VSZXNwb25zZShkYXRhKTtcblx0XG5cdCAgICAgICAgX3RoaXMuRG9tLnB1dENvbnRhaW5lcihjb250YWluZXIpO1xuXHRcblx0ICAgICAgICBpZiAoIV90aGlzLmNhY2hlRW5hYmxlZClcblx0ICAgICAgICAgIF90aGlzLkNhY2hlLnJlc2V0KCk7XG5cdFxuXHQgICAgICAgIGRlZmVycmVkLnJlc29sdmUoY29udGFpbmVyKTtcblx0ICAgICAgfSxcblx0ICAgICAgZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgLy9Tb21ldGhpbmcgd2VudCB3cm9uZyAodGltZW91dCwgNDA0LCA1MDUuLi4pXG5cdCAgICAgICAgX3RoaXMuZm9yY2VHb1RvKHVybCk7XG5cdFxuXHQgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuXHQgICAgICB9XG5cdCAgICApO1xuXHRcblx0ICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIEdldCB0aGUgLmhyZWYgcGFyYW1ldGVyIG91dCBvZiBhbiBlbGVtZW50XG5cdCAgICogYW5kIGhhbmRsZSBzcGVjaWFsIGNhc2VzIChsaWtlIHhsaW5rOmhyZWYpXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5QamF4XG5cdCAgICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsXG5cdCAgICogQHJldHVybiB7U3RyaW5nfSBocmVmXG5cdCAgICovXG5cdCAgZ2V0SHJlZjogZnVuY3Rpb24oZWwpIHtcblx0ICAgIGlmICghZWwpIHtcblx0ICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoZWwuZ2V0QXR0cmlidXRlICYmIHR5cGVvZiBlbC5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0eXBlb2YgZWwuaHJlZiA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgcmV0dXJuIGVsLmhyZWY7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiBDYWxsYmFjayBjYWxsZWQgZnJvbSBjbGljayBldmVudFxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLlBqYXhcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZ0XG5cdCAgICovXG5cdCAgb25MaW5rQ2xpY2s6IGZ1bmN0aW9uKGV2dCkge1xuXHQgICAgdmFyIGVsID0gZXZ0LnRhcmdldDtcblx0XG5cdCAgICAvL0dvIHVwIGluIHRoZSBub2RlbGlzdCB1bnRpbCB3ZVxuXHQgICAgLy9maW5kIHNvbWV0aGluZyB3aXRoIGFuIGhyZWZcblx0ICAgIHdoaWxlIChlbCAmJiAhdGhpcy5nZXRIcmVmKGVsKSkge1xuXHQgICAgICBlbCA9IGVsLnBhcmVudE5vZGU7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHRoaXMucHJldmVudENoZWNrKGV2dCwgZWwpKSB7XG5cdCAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHQgICAgICBEaXNwYXRjaGVyLnRyaWdnZXIoJ2xpbmtDbGlja2VkJywgZWwsIGV2dCk7XG5cdFxuXHQgICAgICB2YXIgaHJlZiA9IHRoaXMuZ2V0SHJlZihlbCk7XG5cdCAgICAgIHRoaXMuZ29UbyhocmVmKTtcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiBEZXRlcm1pbmUgaWYgdGhlIGxpbmsgc2hvdWxkIGJlIGZvbGxvd2VkXG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuUGpheFxuXHQgICAqIEBwYXJhbSAge01vdXNlRXZlbnR9IGV2dFxuXHQgICAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBlbGVtZW50XG5cdCAgICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICAgKi9cblx0ICBwcmV2ZW50Q2hlY2s6IGZ1bmN0aW9uKGV2dCwgZWxlbWVudCkge1xuXHQgICAgaWYgKCF3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUpXG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0XG5cdCAgICB2YXIgaHJlZiA9IHRoaXMuZ2V0SHJlZihlbGVtZW50KTtcblx0XG5cdCAgICAvL1VzZXJcblx0ICAgIGlmICghZWxlbWVudCB8fCAhaHJlZilcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcblx0ICAgIC8vTWlkZGxlIGNsaWNrLCBjbWQgY2xpY2ssIGFuZCBjdHJsIGNsaWNrXG5cdCAgICBpZiAoZXZ0LndoaWNoID4gMSB8fCBldnQubWV0YUtleSB8fCBldnQuY3RybEtleSB8fCBldnQuc2hpZnRLZXkgfHwgZXZ0LmFsdEtleSlcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcblx0ICAgIC8vSWdub3JlIHRhcmdldCB3aXRoIF9ibGFuayB0YXJnZXRcblx0ICAgIGlmIChlbGVtZW50LnRhcmdldCAmJiBlbGVtZW50LnRhcmdldCA9PT0gJ19ibGFuaycpXG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0XG5cdCAgICAvL0NoZWNrIGlmIGl0J3MgdGhlIHNhbWUgZG9tYWluXG5cdCAgICBpZiAod2luZG93LmxvY2F0aW9uLnByb3RvY29sICE9PSBlbGVtZW50LnByb3RvY29sIHx8IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSAhPT0gZWxlbWVudC5ob3N0bmFtZSlcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcblx0ICAgIC8vQ2hlY2sgaWYgdGhlIHBvcnQgaXMgdGhlIHNhbWVcblx0ICAgIGlmIChVdGlscy5nZXRQb3J0KCkgIT09IFV0aWxzLmdldFBvcnQoZWxlbWVudC5wb3J0KSlcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcblx0ICAgIC8vSWdub3JlIGNhc2Ugd2hlbiBhIGhhc2ggaXMgYmVpbmcgdGFja2VkIG9uIHRoZSBjdXJyZW50IFVSTFxuXHQgICAgaWYgKGhyZWYuaW5kZXhPZignIycpID4gLTEpXG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0XG5cdCAgICAvL0lnbm9yZSBjYXNlIHdoZXJlIHRoZXJlIGlzIGRvd25sb2FkIGF0dHJpYnV0ZVxuXHQgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlICYmIHR5cGVvZiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZG93bmxvYWQnKSA9PT0gJ3N0cmluZycpXG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0XG5cdCAgICAvL0luIGNhc2UgeW91J3JlIHRyeWluZyB0byBsb2FkIHRoZSBzYW1lIHBhZ2Vcblx0ICAgIGlmIChVdGlscy5jbGVhbkxpbmsoaHJlZikgPT0gVXRpbHMuY2xlYW5MaW5rKGxvY2F0aW9uLmhyZWYpKVxuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdFxuXHQgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuaWdub3JlQ2xhc3NMaW5rKSlcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIFJldHVybiBhIHRyYW5zaXRpb24gb2JqZWN0XG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuUGpheFxuXHQgICAqIEByZXR1cm4ge0JhcmJhLlRyYW5zaXRpb259IFRyYW5zaXRpb24gb2JqZWN0XG5cdCAgICovXG5cdCAgZ2V0VHJhbnNpdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAvL1VzZXIgY3VzdG9taXphYmxlXG5cdCAgICByZXR1cm4gSGlkZVNob3dUcmFuc2l0aW9uO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIE1ldGhvZCBjYWxsZWQgYWZ0ZXIgYSAncG9wc3RhdGUnIG9yIGZyb20gLmdvVG8oKVxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLlBqYXhcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqL1xuXHQgIG9uU3RhdGVDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIG5ld1VybCA9IHRoaXMuZ2V0Q3VycmVudFVybCgpO1xuXHRcblx0ICAgIGlmICh0aGlzLnRyYW5zaXRpb25Qcm9ncmVzcylcblx0ICAgICAgdGhpcy5mb3JjZUdvVG8obmV3VXJsKTtcblx0XG5cdCAgICBpZiAodGhpcy5IaXN0b3J5LmN1cnJlbnRTdGF0dXMoKS51cmwgPT09IG5ld1VybClcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcblx0ICAgIHRoaXMuSGlzdG9yeS5hZGQobmV3VXJsKTtcblx0XG5cdCAgICB2YXIgbmV3Q29udGFpbmVyID0gdGhpcy5sb2FkKG5ld1VybCk7XG5cdCAgICB2YXIgdHJhbnNpdGlvbiA9IE9iamVjdC5jcmVhdGUodGhpcy5nZXRUcmFuc2l0aW9uKCkpO1xuXHRcblx0ICAgIHRoaXMudHJhbnNpdGlvblByb2dyZXNzID0gdHJ1ZTtcblx0XG5cdCAgICBEaXNwYXRjaGVyLnRyaWdnZXIoJ2luaXRTdGF0ZUNoYW5nZScsXG5cdCAgICAgIHRoaXMuSGlzdG9yeS5jdXJyZW50U3RhdHVzKCksXG5cdCAgICAgIHRoaXMuSGlzdG9yeS5wcmV2U3RhdHVzKClcblx0ICAgICk7XG5cdFxuXHQgICAgdmFyIHRyYW5zaXRpb25JbnN0YW5jZSA9IHRyYW5zaXRpb24uaW5pdChcblx0ICAgICAgdGhpcy5Eb20uZ2V0Q29udGFpbmVyKCksXG5cdCAgICAgIG5ld0NvbnRhaW5lclxuXHQgICAgKTtcblx0XG5cdCAgICBuZXdDb250YWluZXIudGhlbihcblx0ICAgICAgdGhpcy5vbk5ld0NvbnRhaW5lckxvYWRlZC5iaW5kKHRoaXMpXG5cdCAgICApO1xuXHRcblx0ICAgIHRyYW5zaXRpb25JbnN0YW5jZS50aGVuKFxuXHQgICAgICB0aGlzLm9uVHJhbnNpdGlvbkVuZC5iaW5kKHRoaXMpXG5cdCAgICApO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIEZ1bmN0aW9uIGNhbGxlZCBhcyBzb29uIHRoZSBuZXcgY29udGFpbmVyIGlzIHJlYWR5XG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuUGpheFxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyXG5cdCAgICovXG5cdCAgb25OZXdDb250YWluZXJMb2FkZWQ6IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuXHQgICAgdmFyIGN1cnJlbnRTdGF0dXMgPSB0aGlzLkhpc3RvcnkuY3VycmVudFN0YXR1cygpO1xuXHQgICAgY3VycmVudFN0YXR1cy5uYW1lc3BhY2UgPSB0aGlzLkRvbS5nZXROYW1lc3BhY2UoY29udGFpbmVyKTtcblx0XG5cdCAgICBEaXNwYXRjaGVyLnRyaWdnZXIoJ25ld1BhZ2VSZWFkeScsXG5cdCAgICAgIHRoaXMuSGlzdG9yeS5jdXJyZW50U3RhdHVzKCksXG5cdCAgICAgIHRoaXMuSGlzdG9yeS5wcmV2U3RhdHVzKCksXG5cdCAgICAgIGNvbnRhaW5lcixcblx0ICAgICAgdGhpcy5Eb20uY3VycmVudEhUTUxcblx0ICAgICk7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogRnVuY3Rpb24gY2FsbGVkIGFzIHNvb24gdGhlIHRyYW5zaXRpb24gaXMgZmluaXNoZWRcblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5QamF4XG5cdCAgICogQHByaXZhdGVcblx0ICAgKi9cblx0ICBvblRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgdGhpcy50cmFuc2l0aW9uUHJvZ3Jlc3MgPSBmYWxzZTtcblx0XG5cdCAgICBEaXNwYXRjaGVyLnRyaWdnZXIoJ3RyYW5zaXRpb25Db21wbGV0ZWQnLFxuXHQgICAgICB0aGlzLkhpc3RvcnkuY3VycmVudFN0YXR1cygpLFxuXHQgICAgICB0aGlzLkhpc3RvcnkucHJldlN0YXR1cygpXG5cdCAgICApO1xuXHQgIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUGpheDtcblxuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBCYXNlVHJhbnNpdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHQvKipcblx0ICogQmFzaWMgVHJhbnNpdGlvbiBvYmplY3QsIHdhaXQgZm9yIHRoZSBuZXcgQ29udGFpbmVyIHRvIGJlIHJlYWR5LFxuXHQgKiBzY3JvbGwgdG9wLCBhbmQgZmluaXNoIHRoZSB0cmFuc2l0aW9uIChyZW1vdmluZyB0aGUgb2xkIGNvbnRhaW5lciBhbmQgZGlzcGxheWluZyB0aGUgbmV3IG9uZSlcblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQG5hbWVzcGFjZSBCYXJiYS5IaWRlU2hvd1RyYW5zaXRpb25cblx0ICogQGF1Z21lbnRzIEJhcmJhLkJhc2VUcmFuc2l0aW9uXG5cdCAqL1xuXHR2YXIgSGlkZVNob3dUcmFuc2l0aW9uID0gQmFzZVRyYW5zaXRpb24uZXh0ZW5kKHtcblx0ICBzdGFydDogZnVuY3Rpb24oKSB7XG5cdCAgICB0aGlzLm5ld0NvbnRhaW5lckxvYWRpbmcudGhlbih0aGlzLmZpbmlzaC5iaW5kKHRoaXMpKTtcblx0ICB9LFxuXHRcblx0ICBmaW5pc2g6IGZ1bmN0aW9uKCkge1xuXHQgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSAwO1xuXHQgICAgdGhpcy5kb25lKCk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gSGlkZVNob3dUcmFuc2l0aW9uO1xuXG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIE9iamVjdCB0aGF0IGlzIGdvaW5nIHRvIGRlYWwgd2l0aCBET00gcGFyc2luZy9tYW5pcHVsYXRpb25cblx0ICpcblx0ICogQG5hbWVzcGFjZSBCYXJiYS5QamF4LkRvbVxuXHQgKiBAdHlwZSB7T2JqZWN0fVxuXHQgKi9cblx0dmFyIERvbSA9IHtcblx0ICAvKipcblx0ICAgKiBUaGUgbmFtZSBvZiB0aGUgZGF0YSBhdHRyaWJ1dGUgb24gdGhlIGNvbnRhaW5lclxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLlBqYXguRG9tXG5cdCAgICogQHR5cGUge1N0cmluZ31cblx0ICAgKiBAZGVmYXVsdFxuXHQgICAqL1xuXHQgIGRhdGFOYW1lc3BhY2U6ICduYW1lc3BhY2UnLFxuXHRcblx0ICAvKipcblx0ICAgKiBJZCBvZiB0aGUgbWFpbiB3cmFwcGVyXG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuUGpheC5Eb21cblx0ICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAqIEBkZWZhdWx0XG5cdCAgICovXG5cdCAgd3JhcHBlcklkOiAnYmFyYmEtd3JhcHBlcicsXG5cdFxuXHQgIC8qKlxuXHQgICAqIENsYXNzIG5hbWUgdXNlZCB0byBpZGVudGlmeSB0aGUgY29udGFpbmVyc1xuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLlBqYXguRG9tXG5cdCAgICogQHR5cGUge1N0cmluZ31cblx0ICAgKiBAZGVmYXVsdFxuXHQgICAqL1xuXHQgIGNvbnRhaW5lckNsYXNzOiAnYmFyYmEtY29udGFpbmVyJyxcblx0XG5cdCAgLyoqXG5cdCAgICogRnVsbCBIVE1MIFN0cmluZyBvZiB0aGUgY3VycmVudCBwYWdlLlxuXHQgICAqIEJ5IGRlZmF1bHQgaXMgdGhlIGlubmVySFRNTCBvZiB0aGUgaW5pdGlhbCBsb2FkZWQgcGFnZS5cblx0ICAgKlxuXHQgICAqIEVhY2ggdGltZSBhIG5ldyBwYWdlIGlzIGxvYWRlZCwgdGhlIHZhbHVlIGlzIHRoZSByZXNwb25zZSBvZiB0aGUgeGhyIGNhbGwuXG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuUGpheC5Eb21cblx0ICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAqL1xuXHQgIGN1cnJlbnRIVE1MOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuaW5uZXJIVE1MLFxuXHRcblx0ICAvKipcblx0ICAgKiBQYXJzZSB0aGUgcmVzcG9uc2VUZXh0IG9idGFpbmVkIGZyb20gdGhlIHhociBjYWxsXG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuUGpheC5Eb21cblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSAge1N0cmluZ30gcmVzcG9uc2VUZXh0XG5cdCAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9XG5cdCAgICovXG5cdCAgcGFyc2VSZXNwb25zZTogZnVuY3Rpb24ocmVzcG9uc2VUZXh0KSB7XG5cdCAgICB0aGlzLmN1cnJlbnRIVE1MID0gcmVzcG9uc2VUZXh0O1xuXHRcblx0ICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICB3cmFwcGVyLmlubmVySFRNTCA9IHJlc3BvbnNlVGV4dDtcblx0XG5cdCAgICB2YXIgdGl0bGVFbCA9IHdyYXBwZXIucXVlcnlTZWxlY3RvcigndGl0bGUnKTtcblx0XG5cdCAgICBpZiAodGl0bGVFbClcblx0ICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aXRsZUVsLnRleHRDb250ZW50O1xuXHRcblx0ICAgIHJldHVybiB0aGlzLmdldENvbnRhaW5lcih3cmFwcGVyKTtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiBHZXQgdGhlIG1haW4gYmFyYmEgd3JhcHBlciBieSB0aGUgSUQgYHdyYXBwZXJJZGBcblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5QamF4LkRvbVxuXHQgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBlbGVtZW50XG5cdCAgICovXG5cdCAgZ2V0V3JhcHBlcjogZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMud3JhcHBlcklkKTtcblx0XG5cdCAgICBpZiAoIXdyYXBwZXIpXG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignQmFyYmEuanM6IHdyYXBwZXIgbm90IGZvdW5kIScpO1xuXHRcblx0ICAgIHJldHVybiB3cmFwcGVyO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIEdldCB0aGUgY29udGFpbmVyIG9uIHRoZSBjdXJyZW50IERPTSxcblx0ICAgKiBvciBmcm9tIGFuIEhUTUxFbGVtZW50IHBhc3NlZCB2aWEgYXJndW1lbnRcblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5QamF4LkRvbVxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcblx0ICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cblx0ICAgKi9cblx0ICBnZXRDb250YWluZXI6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0ICAgIGlmICghZWxlbWVudClcblx0ICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmJvZHk7XG5cdFxuXHQgICAgaWYgKCFlbGVtZW50KVxuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhcmJhLmpzOiBET00gbm90IHJlYWR5IScpO1xuXHRcblx0ICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcnNlQ29udGFpbmVyKGVsZW1lbnQpO1xuXHRcblx0ICAgIGlmIChjb250YWluZXIgJiYgY29udGFpbmVyLmpxdWVyeSlcblx0ICAgICAgY29udGFpbmVyID0gY29udGFpbmVyWzBdO1xuXHRcblx0ICAgIGlmICghY29udGFpbmVyKVxuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhcmJhLmpzOiBubyBjb250YWluZXIgZm91bmQnKTtcblx0XG5cdCAgICByZXR1cm4gY29udGFpbmVyO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIEdldCB0aGUgbmFtZXNwYWNlIG9mIHRoZSBjb250YWluZXJcblx0ICAgKlxuXHQgICAqIEBtZW1iZXJPZiBCYXJiYS5QamF4LkRvbVxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcblx0ICAgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAgICovXG5cdCAgZ2V0TmFtZXNwYWNlOiBmdW5jdGlvbihlbGVtZW50KSB7XG5cdCAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LmRhdGFzZXQpIHtcblx0ICAgICAgcmV0dXJuIGVsZW1lbnQuZGF0YXNldFt0aGlzLmRhdGFOYW1lc3BhY2VdO1xuXHQgICAgfSBlbHNlIGlmIChlbGVtZW50KSB7XG5cdCAgICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS0nICsgdGhpcy5kYXRhTmFtZXNwYWNlKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiBQdXQgdGhlIGNvbnRhaW5lciBvbiB0aGUgcGFnZVxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLlBqYXguRG9tXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuXHQgICAqL1xuXHQgIHB1dENvbnRhaW5lcjogZnVuY3Rpb24oZWxlbWVudCkge1xuXHQgICAgZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG5cdFxuXHQgICAgdmFyIHdyYXBwZXIgPSB0aGlzLmdldFdyYXBwZXIoKTtcblx0ICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogR2V0IGNvbnRhaW5lciBzZWxlY3RvclxuXHQgICAqXG5cdCAgICogQG1lbWJlck9mIEJhcmJhLlBqYXguRG9tXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuXHQgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBlbGVtZW50XG5cdCAgICovXG5cdCAgcGFyc2VDb250YWluZXI6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0ICAgIHJldHVybiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5jb250YWluZXJDbGFzcyk7XG5cdCAgfVxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBEb207XG5cblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHR2YXIgUGpheCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0LyoqXG5cdCAqIFByZWZldGNoXG5cdCAqXG5cdCAqIEBuYW1lc3BhY2UgQmFyYmEuUHJlZmV0Y2hcblx0ICogQHR5cGUge09iamVjdH1cblx0ICovXG5cdHZhciBQcmVmZXRjaCA9IHtcblx0ICAvKipcblx0ICAgKiBDbGFzcyBuYW1lIHVzZWQgdG8gaWdub3JlIHByZWZldGNoIG9uIGxpbmtzXG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuUHJlZmV0Y2hcblx0ICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAqIEBkZWZhdWx0XG5cdCAgICovXG5cdCAgaWdub3JlQ2xhc3NMaW5rOiAnbm8tYmFyYmEtcHJlZmV0Y2gnLFxuXHRcblx0ICAvKipcblx0ICAgKiBJbml0IHRoZSBldmVudCBsaXN0ZW5lciBvbiBtb3VzZW92ZXIgYW5kIHRvdWNoc3RhcnRcblx0ICAgKiBmb3IgdGhlIHByZWZldGNoXG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuUHJlZmV0Y2hcblx0ICAgKi9cblx0ICBpbml0OiBmdW5jdGlvbigpIHtcblx0ICAgIGlmICghd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25MaW5rRW50ZXIuYmluZCh0aGlzKSk7XG5cdCAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uTGlua0VudGVyLmJpbmQodGhpcykpO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIENhbGxiYWNrIGZvciB0aGUgbW91c2Vob3Zlci90b3VjaHN0YXJ0XG5cdCAgICpcblx0ICAgKiBAbWVtYmVyT2YgQmFyYmEuUHJlZmV0Y2hcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSAge09iamVjdH0gZXZ0XG5cdCAgICovXG5cdCAgb25MaW5rRW50ZXI6IGZ1bmN0aW9uKGV2dCkge1xuXHQgICAgdmFyIGVsID0gZXZ0LnRhcmdldDtcblx0XG5cdCAgICB3aGlsZSAoZWwgJiYgIVBqYXguZ2V0SHJlZihlbCkpIHtcblx0ICAgICAgZWwgPSBlbC5wYXJlbnROb2RlO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghZWwgfHwgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuaWdub3JlQ2xhc3NMaW5rKSkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHVybCA9IFBqYXguZ2V0SHJlZihlbCk7XG5cdFxuXHQgICAgLy9DaGVjayBpZiB0aGUgbGluayBpcyBlbGVnaWJsZSBmb3IgUGpheFxuXHQgICAgaWYgKFBqYXgucHJldmVudENoZWNrKGV2dCwgZWwpICYmICFQamF4LkNhY2hlLmdldCh1cmwpKSB7XG5cdCAgICAgIHZhciB4aHIgPSBVdGlscy54aHIodXJsKTtcblx0ICAgICAgUGpheC5DYWNoZS5zZXQodXJsLCB4aHIpO1xuXHQgICAgfVxuXHQgIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUHJlZmV0Y2g7XG5cblxuLyoqKi8gfVxuLyoqKioqKi8gXSlcbn0pO1xuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFyYmEuanMubWFwIiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0dHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuXHR0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuXHQoZ2xvYmFsLlJhY3RpdmUgPSBnbG9iYWwuUmFjdGl2ZSB8fCB7fSwgZ2xvYmFsLlJhY3RpdmUuZXZlbnRzID0gZ2xvYmFsLlJhY3RpdmUuZXZlbnRzIHx8IHt9LCBnbG9iYWwuUmFjdGl2ZS5ldmVudHMudGFwID0gZmFjdG9yeSgpKTtcbn0odGhpcywgZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cblx0dmFyIERJU1RBTkNFX1RIUkVTSE9MRCA9IDU7IC8vIG1heGltdW0gcGl4ZWxzIHBvaW50ZXIgY2FuIG1vdmUgYmVmb3JlIGNhbmNlbFxuXHR2YXIgVElNRV9USFJFU0hPTEQgPSA0MDA7ICAgLy8gbWF4aW11bSBtaWxsaXNlY29uZHMgYmV0d2VlbiBkb3duIGFuZCB1cCBiZWZvcmUgY2FuY2VsXG5cblx0ZnVuY3Rpb24gdGFwICggbm9kZSwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIG5ldyBUYXBIYW5kbGVyKCBub2RlLCBjYWxsYmFjayApO1xuXHR9XG5cblx0ZnVuY3Rpb24gVGFwSGFuZGxlciAoIG5vZGUsIGNhbGxiYWNrICkge1xuXHRcdHRoaXMubm9kZSA9IG5vZGU7XG5cdFx0dGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuXG5cdFx0dGhpcy5wcmV2ZW50TW91c2Vkb3duRXZlbnRzID0gZmFsc2U7XG5cblx0XHR0aGlzLmJpbmQoIG5vZGUgKTtcblx0fVxuXG5cdFRhcEhhbmRsZXIucHJvdG90eXBlID0ge1xuXHRcdGJpbmQ6IGZ1bmN0aW9uIGJpbmQgKCBub2RlICkge1xuXHRcdFx0Ly8gbGlzdGVuIGZvciBtb3VzZS9wb2ludGVyIGV2ZW50cy4uLlxuXHRcdFx0aWYgKHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQpIHtcblx0XHRcdFx0bm9kZS5hZGRFdmVudExpc3RlbmVyKCAncG9pbnRlcmRvd24nLCBoYW5kbGVNb3VzZWRvd24sIGZhbHNlICk7XG5cdFx0XHR9IGVsc2UgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuXHRcdFx0XHRub2RlLmFkZEV2ZW50TGlzdGVuZXIoICdNU1BvaW50ZXJEb3duJywgaGFuZGxlTW91c2Vkb3duLCBmYWxzZSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bm9kZS5hZGRFdmVudExpc3RlbmVyKCAnbW91c2Vkb3duJywgaGFuZGxlTW91c2Vkb3duLCBmYWxzZSApO1xuXG5cdFx0XHRcdC8vIC4uLmFuZCB0b3VjaCBldmVudHNcblx0XHRcdFx0bm9kZS5hZGRFdmVudExpc3RlbmVyKCAndG91Y2hzdGFydCcsIGhhbmRsZVRvdWNoc3RhcnQsIGZhbHNlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIG5hdGl2ZSBidXR0b25zLCBhbmQgPGlucHV0IHR5cGU9J2J1dHRvbic+IGVsZW1lbnRzLCBzaG91bGQgZmlyZSBhIHRhcCBldmVudFxuXHRcdFx0Ly8gd2hlbiB0aGUgc3BhY2Uga2V5IGlzIHByZXNzZWRcblx0XHRcdGlmICggbm9kZS50YWdOYW1lID09PSAnQlVUVE9OJyB8fCBub2RlLnR5cGUgPT09ICdidXR0b24nICkge1xuXHRcdFx0XHRub2RlLmFkZEV2ZW50TGlzdGVuZXIoICdmb2N1cycsIGhhbmRsZUZvY3VzLCBmYWxzZSApO1xuXHRcdFx0fVxuXG5cdFx0XHRub2RlLl9fdGFwX2hhbmRsZXJfXyA9IHRoaXM7XG5cdFx0fSxcblxuXHRcdGZpcmU6IGZ1bmN0aW9uIGZpcmUgKCBldmVudCwgeCwgeSApIHtcblx0XHRcdHRoaXMuY2FsbGJhY2soe1xuXHRcdFx0XHRub2RlOiB0aGlzLm5vZGUsXG5cdFx0XHRcdG9yaWdpbmFsOiBldmVudCxcblx0XHRcdFx0eDogeCxcblx0XHRcdFx0eTogeVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdG1vdXNlZG93bjogZnVuY3Rpb24gbW91c2Vkb3duICggZXZlbnQgKSB7XG5cdFx0XHR2YXIgdGhpcyQxID0gdGhpcztcblxuXHRcdFx0aWYgKCB0aGlzLnByZXZlbnRNb3VzZWRvd25FdmVudHMgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBldmVudC53aGljaCAhPT0gdW5kZWZpbmVkICYmIGV2ZW50LndoaWNoICE9PSAxICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHZhciB4ID0gZXZlbnQuY2xpZW50WDtcblx0XHRcdHZhciB5ID0gZXZlbnQuY2xpZW50WTtcblxuXHRcdFx0Ly8gVGhpcyB3aWxsIGJlIG51bGwgZm9yIG1vdXNlIGV2ZW50cy5cblx0XHRcdHZhciBwb2ludGVySWQgPSBldmVudC5wb2ludGVySWQ7XG5cblx0XHRcdHZhciBoYW5kbGVNb3VzZXVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHRcdGlmICggZXZlbnQucG9pbnRlcklkICE9IHBvaW50ZXJJZCApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzJDEuZmlyZSggZXZlbnQsIHgsIHkgKTtcblx0XHRcdFx0Y2FuY2VsKCk7XG5cdFx0XHR9O1xuXG5cdFx0XHR2YXIgaGFuZGxlTW91c2Vtb3ZlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHRcdGlmICggZXZlbnQucG9pbnRlcklkICE9IHBvaW50ZXJJZCApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoICggTWF0aC5hYnMoIGV2ZW50LmNsaWVudFggLSB4ICkgPj0gRElTVEFOQ0VfVEhSRVNIT0xEICkgfHwgKCBNYXRoLmFicyggZXZlbnQuY2xpZW50WSAtIHkgKSA+PSBESVNUQU5DRV9USFJFU0hPTEQgKSApIHtcblx0XHRcdFx0XHRjYW5jZWwoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0dmFyIGNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dGhpcyQxLm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ01TUG9pbnRlclVwJywgaGFuZGxlTW91c2V1cCwgZmFsc2UgKTtcblx0XHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ01TUG9pbnRlck1vdmUnLCBoYW5kbGVNb3VzZW1vdmUsIGZhbHNlICk7XG5cdFx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdNU1BvaW50ZXJDYW5jZWwnLCBjYW5jZWwsIGZhbHNlICk7XG5cdFx0XHRcdHRoaXMkMS5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdwb2ludGVydXAnLCBoYW5kbGVNb3VzZXVwLCBmYWxzZSApO1xuXHRcdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAncG9pbnRlcm1vdmUnLCBoYW5kbGVNb3VzZW1vdmUsIGZhbHNlICk7XG5cdFx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdwb2ludGVyY2FuY2VsJywgY2FuY2VsLCBmYWxzZSApO1xuXHRcdFx0XHR0aGlzJDEubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCAnY2xpY2snLCBoYW5kbGVNb3VzZXVwLCBmYWxzZSApO1xuXHRcdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2Vtb3ZlJywgaGFuZGxlTW91c2Vtb3ZlLCBmYWxzZSApO1xuXHRcdFx0fTtcblxuXHRcdFx0aWYgKCB3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkICkge1xuXHRcdFx0XHR0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJ1cCcsIGhhbmRsZU1vdXNldXAsIGZhbHNlICk7XG5cdFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVybW92ZScsIGhhbmRsZU1vdXNlbW92ZSwgZmFsc2UgKTtcblx0XHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJjYW5jZWwnLCBjYW5jZWwsIGZhbHNlICk7XG5cdFx0XHR9IGVsc2UgaWYgKCB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgKSB7XG5cdFx0XHRcdHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCAnTVNQb2ludGVyVXAnLCBoYW5kbGVNb3VzZXVwLCBmYWxzZSApO1xuXHRcdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnTVNQb2ludGVyTW92ZScsIGhhbmRsZU1vdXNlbW92ZSwgZmFsc2UgKTtcblx0XHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ01TUG9pbnRlckNhbmNlbCcsIGNhbmNlbCwgZmFsc2UgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBoYW5kbGVNb3VzZXVwLCBmYWxzZSApO1xuXHRcdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnbW91c2Vtb3ZlJywgaGFuZGxlTW91c2Vtb3ZlLCBmYWxzZSApO1xuXHRcdFx0fVxuXG5cdFx0XHRzZXRUaW1lb3V0KCBjYW5jZWwsIFRJTUVfVEhSRVNIT0xEICk7XG5cdFx0fSxcblxuXHRcdHRvdWNoZG93bjogZnVuY3Rpb24gdG91Y2hkb3duICggZXZlbnQgKSB7XG5cdFx0XHR2YXIgdGhpcyQxID0gdGhpcztcblxuXHRcdFx0dmFyIHRvdWNoID0gZXZlbnQudG91Y2hlc1swXTtcblxuXHRcdFx0dmFyIHggPSB0b3VjaC5jbGllbnRYO1xuXHRcdFx0dmFyIHkgPSB0b3VjaC5jbGllbnRZO1xuXG5cdFx0XHR2YXIgZmluZ2VyID0gdG91Y2guaWRlbnRpZmllcjtcblxuXHRcdFx0dmFyIGhhbmRsZVRvdWNodXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdFx0dmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XG5cblx0XHRcdFx0aWYgKCB0b3VjaC5pZGVudGlmaWVyICE9PSBmaW5nZXIgKSB7XG5cdFx0XHRcdFx0Y2FuY2VsKCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gcHJldmVudCBjb21wYXRpYmlsaXR5IG1vdXNlIGV2ZW50XG5cblx0XHRcdFx0Ly8gZm9yIHRoZSBiZW5lZml0IG9mIG1vYmlsZSBGaXJlZm94IGFuZCBvbGQgQW5kcm9pZCBicm93c2Vycywgd2UgbmVlZCB0aGlzIGFic3VyZCBoYWNrLlxuXHRcdFx0XHR0aGlzJDEucHJldmVudE1vdXNlZG93bkV2ZW50cyA9IHRydWU7XG5cdFx0XHRcdGNsZWFyVGltZW91dCggdGhpcyQxLnByZXZlbnRNb3VzZWRvd25UaW1lb3V0ICk7XG5cblx0XHRcdFx0dGhpcyQxLnByZXZlbnRNb3VzZWRvd25UaW1lb3V0ID0gc2V0VGltZW91dCggZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHRoaXMkMS5wcmV2ZW50TW91c2Vkb3duRXZlbnRzID0gZmFsc2U7XG5cdFx0XHRcdH0sIDQwMCApO1xuXG5cdFx0XHRcdHRoaXMkMS5maXJlKCBldmVudCwgeCwgeSApO1xuXHRcdFx0XHRjYW5jZWwoKTtcblx0XHRcdH07XG5cblx0XHRcdHZhciBoYW5kbGVUb3VjaG1vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdFx0aWYgKCBldmVudC50b3VjaGVzLmxlbmd0aCAhPT0gMSB8fCBldmVudC50b3VjaGVzWzBdLmlkZW50aWZpZXIgIT09IGZpbmdlciApIHtcblx0XHRcdFx0XHRjYW5jZWwoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF07XG5cdFx0XHRcdGlmICggKCBNYXRoLmFicyggdG91Y2guY2xpZW50WCAtIHggKSA+PSBESVNUQU5DRV9USFJFU0hPTEQgKSB8fCAoIE1hdGguYWJzKCB0b3VjaC5jbGllbnRZIC0geSApID49IERJU1RBTkNFX1RIUkVTSE9MRCApICkge1xuXHRcdFx0XHRcdGNhbmNlbCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHR2YXIgY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0aGlzJDEubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCAndG91Y2hlbmQnLCBoYW5kbGVUb3VjaHVwLCBmYWxzZSApO1xuXHRcdFx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3RvdWNobW92ZScsIGhhbmRsZVRvdWNobW92ZSwgZmFsc2UgKTtcblx0XHRcdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICd0b3VjaGNhbmNlbCcsIGNhbmNlbCwgZmFsc2UgKTtcblx0XHRcdH07XG5cblx0XHRcdHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCAndG91Y2hlbmQnLCBoYW5kbGVUb3VjaHVwLCBmYWxzZSApO1xuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaG1vdmUnLCBoYW5kbGVUb3VjaG1vdmUsIGZhbHNlICk7XG5cdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNoY2FuY2VsJywgY2FuY2VsLCBmYWxzZSApO1xuXG5cdFx0XHRzZXRUaW1lb3V0KCBjYW5jZWwsIFRJTUVfVEhSRVNIT0xEICk7XG5cdFx0fSxcblxuXHRcdHRlYXJkb3duOiBmdW5jdGlvbiB0ZWFyZG93biAoKSB7XG5cdFx0XHR2YXIgbm9kZSA9IHRoaXMubm9kZTtcblxuXHRcdFx0bm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCAncG9pbnRlcmRvd24nLCAgIGhhbmRsZU1vdXNlZG93biwgZmFsc2UgKTtcblx0XHRcdG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ01TUG9pbnRlckRvd24nLCBoYW5kbGVNb3VzZWRvd24sIGZhbHNlICk7XG5cdFx0XHRub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdtb3VzZWRvd24nLCAgICAgaGFuZGxlTW91c2Vkb3duLCBmYWxzZSApO1xuXHRcdFx0bm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCAndG91Y2hzdGFydCcsICAgIGhhbmRsZVRvdWNoc3RhcnQsIGZhbHNlICk7XG5cdFx0XHRub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdmb2N1cycsICAgICAgICAgaGFuZGxlRm9jdXMsIGZhbHNlICk7XG5cdFx0fVxuXHR9O1xuXG5cdGZ1bmN0aW9uIGhhbmRsZU1vdXNlZG93biAoIGV2ZW50ICkge1xuXHRcdHRoaXMuX190YXBfaGFuZGxlcl9fLm1vdXNlZG93biggZXZlbnQgKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVRvdWNoc3RhcnQgKCBldmVudCApIHtcblx0XHR0aGlzLl9fdGFwX2hhbmRsZXJfXy50b3VjaGRvd24oIGV2ZW50ICk7XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVGb2N1cyAoKSB7XG5cdFx0dGhpcy5hZGRFdmVudExpc3RlbmVyKCAna2V5ZG93bicsIGhhbmRsZUtleWRvd24sIGZhbHNlICk7XG5cdFx0dGhpcy5hZGRFdmVudExpc3RlbmVyKCAnYmx1cicsIGhhbmRsZUJsdXIsIGZhbHNlICk7XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVCbHVyICgpIHtcblx0XHR0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgaGFuZGxlS2V5ZG93biwgZmFsc2UgKTtcblx0XHR0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdibHVyJywgaGFuZGxlQmx1ciwgZmFsc2UgKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZUtleWRvd24gKCBldmVudCApIHtcblx0XHRpZiAoIGV2ZW50LndoaWNoID09PSAzMiApIHsgLy8gc3BhY2Uga2V5XG5cdFx0XHR0aGlzLl9fdGFwX2hhbmRsZXJfXy5maXJlKCk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRhcDtcblxufSkpOyIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0Z2xvYmFsLlJhY3RpdmUudHJhbnNpdGlvbnMuZmFkZSA9IGZhY3RvcnkoKTtcbn0odGhpcywgZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cblx0dmFyIERFRkFVTFRTID0ge1xuXHRcdGRlbGF5OiAwLFxuXHRcdGR1cmF0aW9uOiAzMDAsXG5cdFx0ZWFzaW5nOiAnbGluZWFyJ1xuXHR9O1xuXG5cdGZ1bmN0aW9uIGZhZGUodCwgcGFyYW1zKSB7XG5cdFx0dmFyIHRhcmdldE9wYWNpdHk7XG5cblx0XHRwYXJhbXMgPSB0LnByb2Nlc3NQYXJhbXMocGFyYW1zLCBERUZBVUxUUyk7XG5cblx0XHRpZiAodC5pc0ludHJvKSB7XG5cdFx0XHR0YXJnZXRPcGFjaXR5ID0gdC5nZXRTdHlsZSgnb3BhY2l0eScpO1xuXHRcdFx0dC5zZXRTdHlsZSgnb3BhY2l0eScsIDApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXRPcGFjaXR5ID0gMDtcblx0XHR9XG5cblx0XHR0LmFuaW1hdGVTdHlsZSgnb3BhY2l0eScsIHRhcmdldE9wYWNpdHksIHBhcmFtcykudGhlbih0LmNvbXBsZXRlKTtcblx0fVxuXG5cdHJldHVybiBmYWRlO1xuXG59KSk7IiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5TY3JvbGxiYXI9ZSgpOnQuU2Nyb2xsYmFyPWUoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0uZXhwb3J0czt2YXIgbz1uW3JdPXtleHBvcnRzOnt9LGlkOnIsbG9hZGVkOiExfTtyZXR1cm4gdFtyXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxlKSxvLmxvYWRlZD0hMCxvLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUucD1cIlwiLGUoMCl9KFtmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBvKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZT0wLG49QXJyYXkodC5sZW5ndGgpO2U8dC5sZW5ndGg7ZSsrKW5bZV09dFtlXTtyZXR1cm4gbn1yZXR1cm4oMCx1LmRlZmF1bHQpKHQpfXZhciBpPW4oMiksdT1yKGkpLGE9big1NSksYz1yKGEpLGw9big2MiksZj1yKGwpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPVwiZnVuY3Rpb25cIj09dHlwZW9mIGYuZGVmYXVsdCYmXCJzeW1ib2xcIj09dHlwZW9mIGMuZGVmYXVsdD9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLmRlZmF1bHQmJnQuY29uc3RydWN0b3I9PT1mLmRlZmF1bHQmJnQhPT1mLmRlZmF1bHQucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGQ9big3OCksaD1uKDg5KTtuKDEyOSksbigxNDUpLG4oMTU4KSxuKDE3MyksbigxODcpLGUuZGVmYXVsdD1kLlNtb290aFNjcm9sbGJhcixkLlNtb290aFNjcm9sbGJhci52ZXJzaW9uPVwiNy4zLjFcIixkLlNtb290aFNjcm9sbGJhci5pbml0PWZ1bmN0aW9uKHQsZSl7aWYoIXR8fDEhPT10Lm5vZGVUeXBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3QgZWxlbWVudCB0byBiZSBET00gRWxlbWVudCwgYnV0IGdvdCBcIisoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/XCJ1bmRlZmluZWRcIjpzKHQpKSk7aWYoaC5zYkxpc3QuaGFzKHQpKXJldHVybiBoLnNiTGlzdC5nZXQodCk7dC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNjcm9sbGJhclwiLFwiXCIpO3ZhciBuPVtdLmNvbmNhdChvKHQuY2hpbGROb2RlcykpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyLmlubmVySFRNTD0nXFxuICAgICAgICA8YXJ0aWNsZSBjbGFzcz1cInNjcm9sbC1jb250ZW50XCI+PC9hcnRpY2xlPlxcbiAgICAgICAgPGFzaWRlIGNsYXNzPVwic2Nyb2xsYmFyLXRyYWNrIHNjcm9sbGJhci10cmFjay14XCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNjcm9sbGJhci10aHVtYiBzY3JvbGxiYXItdGh1bWIteFwiPjwvZGl2PlxcbiAgICAgICAgPC9hc2lkZT5cXG4gICAgICAgIDxhc2lkZSBjbGFzcz1cInNjcm9sbGJhci10cmFjayBzY3JvbGxiYXItdHJhY2steVwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzY3JvbGxiYXItdGh1bWIgc2Nyb2xsYmFyLXRodW1iLXlcIj48L2Rpdj5cXG4gICAgICAgIDwvYXNpZGU+XFxuICAgICAgICA8Y2FudmFzIGNsYXNzPVwib3ZlcnNjcm9sbC1nbG93XCI+PC9jYW52YXM+XFxuICAgICc7dmFyIGk9ci5xdWVyeVNlbGVjdG9yKFwiLnNjcm9sbC1jb250ZW50XCIpO3JldHVybltdLmNvbmNhdChvKHIuY2hpbGROb2RlcykpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwZW5kQ2hpbGQoZSl9KSxuLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGkuYXBwZW5kQ2hpbGQodCl9KSxuZXcgZC5TbW9vdGhTY3JvbGxiYXIodCxlKX0sZC5TbW9vdGhTY3JvbGxiYXIuaW5pdEFsbD1mdW5jdGlvbih0KXtyZXR1cm5bXS5jb25jYXQobyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGguc2VsZWN0b3JzKSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZC5TbW9vdGhTY3JvbGxiYXIuaW5pdChlLHQpfSl9LGQuU21vb3RoU2Nyb2xsYmFyLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gaC5zYkxpc3QuaGFzKHQpfSxkLlNtb290aFNjcm9sbGJhci5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGguc2JMaXN0LmdldCh0KX0sZC5TbW9vdGhTY3JvbGxiYXIuZ2V0QWxsPWZ1bmN0aW9uKCl7cmV0dXJuW10uY29uY2F0KG8oaC5zYkxpc3QudmFsdWVzKCkpKX0sZC5TbW9vdGhTY3JvbGxiYXIuZGVzdHJveT1mdW5jdGlvbih0LGUpe3JldHVybiBkLlNtb290aFNjcm9sbGJhci5oYXModCkmJmQuU21vb3RoU2Nyb2xsYmFyLmdldCh0KS5kZXN0cm95KGUpfSxkLlNtb290aFNjcm9sbGJhci5kZXN0cm95QWxsPWZ1bmN0aW9uKHQpe2guc2JMaXN0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5kZXN0cm95KHQpfSl9LHQuZXhwb3J0cz1lLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e2RlZmF1bHQ6bigzKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe24oNCksbig0OCksdC5leHBvcnRzPW4oMTIpLkFycmF5LmZyb219LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpKCEwKTtuKDgpKFN0cmluZyxcIlN0cmluZ1wiLGZ1bmN0aW9uKHQpe3RoaXMuX3Q9U3RyaW5nKHQpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuX3Qsbj10aGlzLl9pO3JldHVybiBuPj1lLmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9Oih0PXIoZSxuKSx0aGlzLl9pKz10Lmxlbmd0aCx7dmFsdWU6dCxkb25lOiExfSl9KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNiksbz1uKDcpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgaSx1LGE9U3RyaW5nKG8oZSkpLGM9cihuKSxsPWEubGVuZ3RoO3JldHVybiBjPDB8fGM+PWw/dD9cIlwiOnZvaWQgMDooaT1hLmNoYXJDb2RlQXQoYyksaTw1NTI5Nnx8aT41NjMxOXx8YysxPT09bHx8KHU9YS5jaGFyQ29kZUF0KGMrMSkpPDU2MzIwfHx1PjU3MzQzP3Q/YS5jaGFyQXQoYyk6aTp0P2Euc2xpY2UoYyxjKzIpOihpLTU1Mjk2PDwxMCkrKHUtNTYzMjApKzY1NTM2KX19fSxmdW5jdGlvbih0LGUpe3ZhciBuPU1hdGguY2VpbCxyPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0PSt0KT8wOih0PjA/cjpuKSh0KX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09dCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIrdCk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big5KSxvPW4oMTApLGk9bigyNSksdT1uKDE1KSxhPW4oMjYpLGM9bigyNyksbD1uKDI4KSxmPW4oNDQpLHM9big0NiksZD1uKDQ1KShcIml0ZXJhdG9yXCIpLGg9IShbXS5rZXlzJiZcIm5leHRcImluW10ua2V5cygpKSx2PVwiQEBpdGVyYXRvclwiLF89XCJrZXlzXCIscD1cInZhbHVlc1wiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLGIsZyxtLHgpe2wobixlLGIpO3ZhciBTLEUsTSxPPWZ1bmN0aW9uKHQpe2lmKCFoJiZ0IGluIGopcmV0dXJuIGpbdF07c3dpdGNoKHQpe2Nhc2UgXzpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX07Y2FzZSBwOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX19LHc9ZStcIiBJdGVyYXRvclwiLFA9Zz09cCxrPSExLGo9dC5wcm90b3R5cGUsVD1qW2RdfHxqW3ZdfHxnJiZqW2ddLEE9VHx8TyhnKSxSPWc/UD9PKFwiZW50cmllc1wiKTpBOnZvaWQgMCxMPVwiQXJyYXlcIj09ZT9qLmVudHJpZXN8fFQ6VDtpZihMJiYoTT1zKEwuY2FsbChuZXcgdCkpLE0hPT1PYmplY3QucHJvdG90eXBlJiYoZihNLHcsITApLHJ8fGEoTSxkKXx8dShNLGQseSkpKSxQJiZUJiZULm5hbWUhPT1wJiYoaz0hMCxBPWZ1bmN0aW9uKCl7cmV0dXJuIFQuY2FsbCh0aGlzKX0pLHImJiF4fHwhaCYmIWsmJmpbZF18fHUoaixkLEEpLGNbZV09QSxjW3ddPXksZylpZihTPXt2YWx1ZXM6UD9BOk8ocCksa2V5czptP0E6TyhfKSxlbnRyaWVzOlJ9LHgpZm9yKEUgaW4gUylFIGluIGp8fGkoaixFLFNbRV0pO2Vsc2UgbyhvLlArby5GKihofHxrKSxlLFMpO3JldHVybiBTfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ITB9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExKSxvPW4oMTIpLGk9bigxMyksdT1uKDE1KSxhPVwicHJvdG90eXBlXCIsYz1mdW5jdGlvbih0LGUsbil7dmFyIGwsZixzLGQ9dCZjLkYsaD10JmMuRyx2PXQmYy5TLF89dCZjLlAscD10JmMuQix5PXQmYy5XLGI9aD9vOm9bZV18fChvW2VdPXt9KSxnPWJbYV0sbT1oP3I6dj9yW2VdOihyW2VdfHx7fSlbYV07aCYmKG49ZSk7Zm9yKGwgaW4gbilmPSFkJiZtJiZ2b2lkIDAhPT1tW2xdLGYmJmwgaW4gYnx8KHM9Zj9tW2xdOm5bbF0sYltsXT1oJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBtW2xdP25bbF06cCYmZj9pKHMscik6eSYmbVtsXT09cz9mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlLG4scil7aWYodGhpcyBpbnN0YW5jZW9mIHQpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQoZSk7Y2FzZSAyOnJldHVybiBuZXcgdChlLG4pfXJldHVybiBuZXcgdChlLG4scil9cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gZVthXT10W2FdLGV9KHMpOl8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHM/aShGdW5jdGlvbi5jYWxsLHMpOnMsXyYmKChiLnZpcnR1YWx8fChiLnZpcnR1YWw9e30pKVtsXT1zLHQmYy5SJiZnJiYhZ1tsXSYmdShnLGwscykpKX07Yy5GPTEsYy5HPTIsYy5TPTQsYy5QPTgsYy5CPTE2LGMuVz0zMixjLlU9NjQsYy5SPTEyOCx0LmV4cG9ydHM9Y30sZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4cG9ydHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XCJudW1iZXJcIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0sZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246XCIyLjQuMFwifTtcIm51bWJlclwiPT10eXBlb2YgX19lJiYoX19lPW4pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtpZihyKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKG4pe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbChlLG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIHQuY2FsbChlLG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLG8pe3JldHVybiB0LmNhbGwoZSxuLHIsbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhIGZ1bmN0aW9uIVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE2KSxvPW4oMjQpO3QuZXhwb3J0cz1uKDIwKT9mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIuZih0LGUsbygxLG4pKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4sdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE3KSxvPW4oMTkpLGk9bigyMyksdT1PYmplY3QuZGVmaW5lUHJvcGVydHk7ZS5mPW4oMjApP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUsbil7aWYocih0KSxlPWkoZSwhMCkscihuKSxvKXRyeXtyZXR1cm4gdSh0LGUsbil9Y2F0Y2godCl7fWlmKFwiZ2V0XCJpbiBufHxcInNldFwiaW4gbil0aHJvdyBUeXBlRXJyb3IoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCFcIik7cmV0dXJuXCJ2YWx1ZVwiaW4gbiYmKHRbZV09bi52YWx1ZSksdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGFuIG9iamVjdCFcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0fX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigyMCkmJiFuKDIxKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobigyMikoXCJkaXZcIiksXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigyMSkoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxOCksbz1uKDExKS5kb2N1bWVudCxpPXIobykmJnIoby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KHQpOnt9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTgpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFyKHQpKXJldHVybiB0O3ZhciBuLG87aWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIobz1uLmNhbGwodCkpKXJldHVybiBvO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC52YWx1ZU9mKSYmIXIobz1uLmNhbGwodCkpKXJldHVybiBvO2lmKCFlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihvPW4uY2FsbCh0KSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMTUpfSxmdW5jdGlvbih0LGUpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuLmNhbGwodCxlKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXt9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyOSksbz1uKDI0KSxpPW4oNDQpLHU9e307bigxNSkodSxuKDQ1KShcIml0ZXJhdG9yXCIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3QucHJvdG90eXBlPXIodSx7bmV4dDpvKDEsbil9KSxpKHQsZStcIiBJdGVyYXRvclwiKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE3KSxvPW4oMzApLGk9big0MiksdT1uKDM5KShcIklFX1BST1RPXCIpLGE9ZnVuY3Rpb24oKXt9LGM9XCJwcm90b3R5cGVcIixsPWZ1bmN0aW9uKCl7dmFyIHQsZT1uKDIyKShcImlmcmFtZVwiKSxyPWkubGVuZ3RoLG89XCI8XCIsdT1cIj5cIjtmb3IoZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLG4oNDMpLmFwcGVuZENoaWxkKGUpLGUuc3JjPVwiamF2YXNjcmlwdDpcIix0PWUuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKG8rXCJzY3JpcHRcIit1K1wiZG9jdW1lbnQuRj1PYmplY3RcIitvK1wiL3NjcmlwdFwiK3UpLHQuY2xvc2UoKSxsPXQuRjtyLS07KWRlbGV0ZSBsW2NdW2lbcl1dO3JldHVybiBsKCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBudWxsIT09dD8oYVtjXT1yKHQpLG49bmV3IGEsYVtjXT1udWxsLG5bdV09dCk6bj1sKCksdm9pZCAwPT09ZT9uOm8obixlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE2KSxvPW4oMTcpLGk9bigzMSk7dC5leHBvcnRzPW4oMjApP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKHQsZSl7byh0KTtmb3IodmFyIG4sdT1pKGUpLGE9dS5sZW5ndGgsYz0wO2E+Yzspci5mKHQsbj11W2MrK10sZVtuXSk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMiksbz1uKDQyKTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsbyl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNiksbz1uKDMzKSxpPW4oMzYpKCExKSx1PW4oMzkpKFwiSUVfUFJPVE9cIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sYT1vKHQpLGM9MCxsPVtdO2ZvcihuIGluIGEpbiE9dSYmcihhLG4pJiZsLnB1c2gobik7Zm9yKDtlLmxlbmd0aD5jOylyKGEsbj1lW2MrK10pJiYofmkobCxuKXx8bC5wdXNoKG4pKTtyZXR1cm4gbH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDM0KSxvPW4oNyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKG8odCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzUpO3QuZXhwb3J0cz1PYmplY3QoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm5cIlN0cmluZ1wiPT1yKHQpP3Quc3BsaXQoXCJcIik6T2JqZWN0KHQpfX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4uY2FsbCh0KS5zbGljZSg4LC0xKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMzKSxvPW4oMzcpLGk9bigzOCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4sdSl7dmFyIGEsYz1yKGUpLGw9byhjLmxlbmd0aCksZj1pKHUsbCk7aWYodCYmbiE9bil7Zm9yKDtsPmY7KWlmKGE9Y1tmKytdLGEhPWEpcmV0dXJuITB9ZWxzZSBmb3IoO2w+ZjtmKyspaWYoKHR8fGYgaW4gYykmJmNbZl09PT1uKXJldHVybiB0fHxmfHwwO3JldHVybiF0JiYtMX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2KSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP28ocih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNiksbz1NYXRoLm1heCxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiB0PXIodCksdDwwP28odCtlLDApOmkodCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQwKShcImtleXNcIiksbz1uKDQxKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHJbdF18fChyW3RdPW8odCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTEpLG89XCJfX2NvcmUtanNfc2hhcmVkX19cIixpPXJbb118fChyW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPXt9KX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49MCxyPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwiU3ltYm9sKFwiLmNvbmNhdCh2b2lkIDA9PT10P1wiXCI6dCxcIilfXCIsKCsrbityKS50b1N0cmluZygzNikpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2ZcIi5zcGxpdChcIixcIil9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigxMSkuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTYpLmYsbz1uKDI2KSxpPW4oNDUpKFwidG9TdHJpbmdUYWdcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt0JiYhbyh0PW4/dDp0LnByb3RvdHlwZSxpKSYmcih0LGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTplfSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0MCkoXCJ3a3NcIiksbz1uKDQxKSxpPW4oMTEpLlN5bWJvbCx1PVwiZnVuY3Rpb25cIj09dHlwZW9mIGksYT10LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHJbdF18fChyW3RdPXUmJmlbdF18fCh1P2k6bykoXCJTeW1ib2wuXCIrdCkpfTthLnN0b3JlPXJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI2KSxvPW4oNDcpLGk9bigzOSkoXCJJRV9QUk9UT1wiKSx1PU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCl7cmV0dXJuIHQ9byh0KSxyKHQsaSk/dFtpXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZ0IGluc3RhbmNlb2YgdC5jb25zdHJ1Y3Rvcj90LmNvbnN0cnVjdG9yLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgT2JqZWN0P3U6bnVsbH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHIodCkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTMpLG89bigxMCksaT1uKDQ3KSx1PW4oNDkpLGE9big1MCksYz1uKDM3KSxsPW4oNTEpLGY9big1Mik7byhvLlMrby5GKiFuKDU0KShmdW5jdGlvbih0KXtBcnJheS5mcm9tKHQpfSksXCJBcnJheVwiLHtmcm9tOmZ1bmN0aW9uKHQpe3ZhciBlLG4sbyxzLGQ9aSh0KSxoPVwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSx2PWFyZ3VtZW50cy5sZW5ndGgsXz12PjE/YXJndW1lbnRzWzFdOnZvaWQgMCxwPXZvaWQgMCE9PV8seT0wLGI9ZihkKTtpZihwJiYoXz1yKF8sdj4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMikpLHZvaWQgMD09Ynx8aD09QXJyYXkmJmEoYikpZm9yKGU9YyhkLmxlbmd0aCksbj1uZXcgaChlKTtlPnk7eSsrKWwobix5LHA/XyhkW3ldLHkpOmRbeV0pO2Vsc2UgZm9yKHM9Yi5jYWxsKGQpLG49bmV3IGg7IShvPXMubmV4dCgpKS5kb25lO3krKylsKG4seSxwP3UocyxfLFtvLnZhbHVlLHldLCEwKTpvLnZhbHVlKTtyZXR1cm4gbi5sZW5ndGg9eSxufX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLG8pe3RyeXtyZXR1cm4gbz9lKHIobilbMF0sblsxXSk6ZShuKX1jYXRjaChlKXt2YXIgaT10LnJldHVybjt0aHJvdyB2b2lkIDAhPT1pJiZyKGkuY2FsbCh0KSksZX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNyksbz1uKDQ1KShcIml0ZXJhdG9yXCIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmKHIuQXJyYXk9PT10fHxpW29dPT09dCl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxNiksbz1uKDI0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2UgaW4gdD9yLmYodCxlLG8oMCxuKSk6dFtlXT1ufX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTMpLG89big0NSkoXCJpdGVyYXRvclwiKSxpPW4oMjcpO3QuZXhwb3J0cz1uKDEyKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbih0KXtpZih2b2lkIDAhPXQpcmV0dXJuIHRbb118fHRbXCJAQGl0ZXJhdG9yXCJdfHxpW3IodCldfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzUpLG89big0NSkoXCJ0b1N0cmluZ1RhZ1wiKSxpPVwiQXJndW1lbnRzXCI9PXIoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSx1PWZ1bmN0aW9uKHQsZSl7dHJ5e3JldHVybiB0W2VdfWNhdGNoKHQpe319O3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuLGE7cmV0dXJuIHZvaWQgMD09PXQ/XCJVbmRlZmluZWRcIjpudWxsPT09dD9cIk51bGxcIjpcInN0cmluZ1wiPT10eXBlb2Yobj11KGU9T2JqZWN0KHQpLG8pKT9uOmk/cihlKTpcIk9iamVjdFwiPT0oYT1yKGUpKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jYWxsZWU/XCJBcmd1bWVudHNcIjphfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDUpKFwiaXRlcmF0b3JcIiksbz0hMTt0cnl7dmFyIGk9WzddW3JdKCk7aS5yZXR1cm49ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2godCl7fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFlJiYhbylyZXR1cm4hMTt2YXIgbj0hMTt0cnl7dmFyIGk9WzddLHU9aVtyXSgpO3UubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOm49ITB9fSxpW3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHV9LHQoaSl9Y2F0Y2godCl7fXJldHVybiBufX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17ZGVmYXVsdDpuKDU2KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe24oNCksbig1NyksdC5leHBvcnRzPW4oNjEpLmYoXCJpdGVyYXRvclwiKX0sZnVuY3Rpb24odCxlLG4pe24oNTgpO2Zvcih2YXIgcj1uKDExKSxvPW4oMTUpLGk9bigyNyksdT1uKDQ1KShcInRvU3RyaW5nVGFnXCIpLGE9W1wiTm9kZUxpc3RcIixcIkRPTVRva2VuTGlzdFwiLFwiTWVkaWFMaXN0XCIsXCJTdHlsZVNoZWV0TGlzdFwiLFwiQ1NTUnVsZUxpc3RcIl0sYz0wO2M8NTtjKyspe3ZhciBsPWFbY10sZj1yW2xdLHM9ZiYmZi5wcm90b3R5cGU7cyYmIXNbdV0mJm8ocyx1LGwpLGlbbF09aS5BcnJheX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDU5KSxvPW4oNjApLGk9bigyNyksdT1uKDMzKTt0LmV4cG9ydHM9big4KShBcnJheSxcIkFycmF5XCIsZnVuY3Rpb24odCxlKXt0aGlzLl90PXUodCksdGhpcy5faT0wLHRoaXMuX2s9ZX0sZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90LGU9dGhpcy5fayxuPXRoaXMuX2krKztyZXR1cm4hdHx8bj49dC5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOlwia2V5c1wiPT1lP28oMCxuKTpcInZhbHVlc1wiPT1lP28oMCx0W25dKTpvKDAsW24sdFtuXV0pfSxcInZhbHVlc1wiKSxpLkFyZ3VtZW50cz1pLkFycmF5LHIoXCJrZXlzXCIpLHIoXCJ2YWx1ZXNcIikscihcImVudHJpZXNcIil9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57dmFsdWU6ZSxkb25lOiEhdH19fSxmdW5jdGlvbih0LGUsbil7ZS5mPW4oNDUpfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtkZWZhdWx0Om4oNjMpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7big2NCksbig3NSksbig3Niksbig3NyksdC5leHBvcnRzPW4oMTIpLlN5bWJvbH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTEpLG89bigyNiksaT1uKDIwKSx1PW4oMTApLGE9bigyNSksYz1uKDY1KS5LRVksbD1uKDIxKSxmPW4oNDApLHM9big0NCksZD1uKDQxKSxoPW4oNDUpLHY9big2MSksXz1uKDY2KSxwPW4oNjcpLHk9big2OCksYj1uKDcxKSxnPW4oMTcpLG09bigzMykseD1uKDIzKSxTPW4oMjQpLEU9bigyOSksTT1uKDcyKSxPPW4oNzQpLHc9bigxNiksUD1uKDMxKSxrPU8uZixqPXcuZixUPU0uZixBPXIuU3ltYm9sLFI9ci5KU09OLEw9UiYmUi5zdHJpbmdpZnksST1cInByb3RvdHlwZVwiLEQ9aChcIl9oaWRkZW5cIiksQz1oKFwidG9QcmltaXRpdmVcIiksTj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxGPWYoXCJzeW1ib2wtcmVnaXN0cnlcIiksSD1mKFwic3ltYm9sc1wiKSx6PWYoXCJvcC1zeW1ib2xzXCIpLEI9T2JqZWN0W0ldLEc9XCJmdW5jdGlvblwiPT10eXBlb2YgQSxXPXIuUU9iamVjdCxWPSFXfHwhV1tJXXx8IVdbSV0uZmluZENoaWxkLFU9aSYmbChmdW5jdGlvbigpe3JldHVybiA3IT1FKGooe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBqKHRoaXMsXCJhXCIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24odCxlLG4pe3ZhciByPWsoQixlKTtyJiZkZWxldGUgQltlXSxqKHQsZSxuKSxyJiZ0IT09QiYmaihCLGUscil9OmosWD1mdW5jdGlvbih0KXt2YXIgZT1IW3RdPUUoQVtJXSk7cmV0dXJuIGUuX2s9dCxlfSxxPUcmJlwic3ltYm9sXCI9PXR5cGVvZiBBLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEF9LEs9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PT09QiYmSyh6LGUsbiksZyh0KSxlPXgoZSwhMCksZyhuKSxvKEgsZSk/KG4uZW51bWVyYWJsZT8obyh0LEQpJiZ0W0RdW2VdJiYodFtEXVtlXT0hMSksbj1FKG4se2VudW1lcmFibGU6UygwLCExKX0pKToobyh0LEQpfHxqKHQsRCxTKDEse30pKSx0W0RdW2VdPSEwKSxVKHQsZSxuKSk6aih0LGUsbil9LEo9ZnVuY3Rpb24odCxlKXtnKHQpO2Zvcih2YXIgbixyPXkoZT1tKGUpKSxvPTAsaT1yLmxlbmd0aDtpPm87KUsodCxuPXJbbysrXSxlW25dKTtyZXR1cm4gdH0sWT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lP0UodCk6SihFKHQpLGUpfSxRPWZ1bmN0aW9uKHQpe3ZhciBlPU4uY2FsbCh0aGlzLHQ9eCh0LCEwKSk7cmV0dXJuISh0aGlzPT09QiYmbyhILHQpJiYhbyh6LHQpKSYmKCEoZXx8IW8odGhpcyx0KXx8IW8oSCx0KXx8byh0aGlzLEQpJiZ0aGlzW0RdW3RdKXx8ZSl9LFo9ZnVuY3Rpb24odCxlKXtpZih0PW0odCksZT14KGUsITApLHQhPT1CfHwhbyhILGUpfHxvKHosZSkpe3ZhciBuPWsodCxlKTtyZXR1cm4hbnx8IW8oSCxlKXx8byh0LEQpJiZ0W0RdW2VdfHwobi5lbnVtZXJhYmxlPSEwKSxufX0sJD1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj1UKG0odCkpLHI9W10saT0wO24ubGVuZ3RoPmk7KW8oSCxlPW5baSsrXSl8fGU9PUR8fGU9PWN8fHIucHVzaChlKTtyZXR1cm4gcn0sdHQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dD09PUIscj1UKG4/ejptKHQpKSxpPVtdLHU9MDtyLmxlbmd0aD51OykhbyhILGU9clt1KytdKXx8biYmIW8oQixlKXx8aS5wdXNoKEhbZV0pO3JldHVybiBpfTtHfHwoQT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBBKXRocm93IFR5cGVFcnJvcihcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciFcIik7dmFyIHQ9ZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksZT1mdW5jdGlvbihuKXt0aGlzPT09QiYmZS5jYWxsKHosbiksbyh0aGlzLEQpJiZvKHRoaXNbRF0sdCkmJih0aGlzW0RdW3RdPSExKSxVKHRoaXMsdCxTKDEsbikpfTtyZXR1cm4gaSYmViYmVShCLHQse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZX0pLFgodCl9LGEoQVtJXSxcInRvU3RyaW5nXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pLE8uZj1aLHcuZj1LLG4oNzMpLmY9TS5mPSQsbig3MCkuZj1RLG4oNjkpLmY9dHQsaSYmIW4oOSkmJmEoQixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsUSwhMCksdi5mPWZ1bmN0aW9uKHQpe3JldHVybiBYKGgodCkpfSksdSh1LkcrdS5XK3UuRiohRyx7U3ltYm9sOkF9KTtmb3IodmFyIGV0PVwiaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXNcIi5zcGxpdChcIixcIiksbnQ9MDtldC5sZW5ndGg+bnQ7KWgoZXRbbnQrK10pO2Zvcih2YXIgZXQ9UChoLnN0b3JlKSxudD0wO2V0Lmxlbmd0aD5udDspXyhldFtudCsrXSk7dSh1LlMrdS5GKiFHLFwiU3ltYm9sXCIse2ZvcjpmdW5jdGlvbih0KXtyZXR1cm4gbyhGLHQrPVwiXCIpP0ZbdF06Rlt0XT1BKHQpfSxrZXlGb3I6ZnVuY3Rpb24odCl7aWYocSh0KSlyZXR1cm4gcChGLHQpO3Rocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhIHN5bWJvbCFcIil9LHVzZVNldHRlcjpmdW5jdGlvbigpe1Y9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe1Y9ITF9fSksdSh1LlMrdS5GKiFHLFwiT2JqZWN0XCIse2NyZWF0ZTpZLGRlZmluZVByb3BlcnR5OkssZGVmaW5lUHJvcGVydGllczpKLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpaLGdldE93blByb3BlcnR5TmFtZXM6JCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6dHR9KSxSJiZ1KHUuUyt1LkYqKCFHfHxsKGZ1bmN0aW9uKCl7dmFyIHQ9QSgpO3JldHVyblwiW251bGxdXCIhPUwoW3RdKXx8XCJ7fVwiIT1MKHthOnR9KXx8XCJ7fVwiIT1MKE9iamVjdCh0KSl9KSksXCJKU09OXCIse3N0cmluZ2lmeTpmdW5jdGlvbih0KXtpZih2b2lkIDAhPT10JiYhcSh0KSl7Zm9yKHZhciBlLG4scj1bdF0sbz0xO2FyZ3VtZW50cy5sZW5ndGg+bzspci5wdXNoKGFyZ3VtZW50c1tvKytdKTtyZXR1cm4gZT1yWzFdLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihuPWUpLCFuJiZiKGUpfHwoZT1mdW5jdGlvbih0LGUpe2lmKG4mJihlPW4uY2FsbCh0aGlzLHQsZSkpLCFxKGUpKXJldHVybiBlfSksclsxXT1lLEwuYXBwbHkoUixyKX19fSksQVtJXVtDXXx8bigxNSkoQVtJXSxDLEFbSV0udmFsdWVPZikscyhBLFwiU3ltYm9sXCIpLHMoTWF0aCxcIk1hdGhcIiwhMCkscyhyLkpTT04sXCJKU09OXCIsITApfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0MSkoXCJtZXRhXCIpLG89bigxOCksaT1uKDI2KSx1PW4oMTYpLmYsYT0wLGM9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbD0hbigyMSkoZnVuY3Rpb24oKXtyZXR1cm4gYyhPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pLGY9ZnVuY3Rpb24odCl7dSh0LHIse3ZhbHVlOntpOlwiT1wiKyArK2Esdzp7fX19KX0scz1mdW5jdGlvbih0LGUpe2lmKCFvKHQpKXJldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0P3Q6KFwic3RyaW5nXCI9PXR5cGVvZiB0P1wiU1wiOlwiUFwiKSt0O2lmKCFpKHQscikpe2lmKCFjKHQpKXJldHVyblwiRlwiO2lmKCFlKXJldHVyblwiRVwiO2YodCl9cmV0dXJuIHRbcl0uaX0sZD1mdW5jdGlvbih0LGUpe2lmKCFpKHQscikpe2lmKCFjKHQpKXJldHVybiEwO2lmKCFlKXJldHVybiExO2YodCl9cmV0dXJuIHRbcl0ud30saD1mdW5jdGlvbih0KXtyZXR1cm4gbCYmdi5ORUVEJiZjKHQpJiYhaSh0LHIpJiZmKHQpLHR9LHY9dC5leHBvcnRzPXtLRVk6cixORUVEOiExLGZhc3RLZXk6cyxnZXRXZWFrOmQsb25GcmVlemU6aH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExKSxvPW4oMTIpLGk9big5KSx1PW4oNjEpLGE9bigxNikuZjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9by5TeW1ib2x8fChvLlN5bWJvbD1pP3t9OnIuU3ltYm9sfHx7fSk7XCJfXCI9PXQuY2hhckF0KDApfHx0IGluIGV8fGEoZSx0LHt2YWx1ZTp1LmYodCl9KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMxKSxvPW4oMzMpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbixpPW8odCksdT1yKGkpLGE9dS5sZW5ndGgsYz0wO2E+YzspaWYoaVtuPXVbYysrXV09PT1lKXJldHVybiBufX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzEpLG89big2OSksaT1uKDcwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9cih0KSxuPW8uZjtpZihuKWZvcih2YXIgdSxhPW4odCksYz1pLmYsbD0wO2EubGVuZ3RoPmw7KWMuY2FsbCh0LHU9YVtsKytdKSYmZS5wdXNoKHUpO3JldHVybiBlfX0sZnVuY3Rpb24odCxlKXtlLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sZnVuY3Rpb24odCxlKXtlLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDM1KTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuXCJBcnJheVwiPT1yKHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzMpLG89big3MykuZixpPXt9LnRvU3RyaW5nLHU9XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGE9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBvKHQpfWNhdGNoKHQpe3JldHVybiB1LnNsaWNlKCl9fTt0LmV4cG9ydHMuZj1mdW5jdGlvbih0KXtyZXR1cm4gdSYmXCJbb2JqZWN0IFdpbmRvd11cIj09aS5jYWxsKHQpP2EodCk6byhyKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMyKSxvPW4oNDIpLmNvbmNhdChcImxlbmd0aFwiLFwicHJvdG90eXBlXCIpO2UuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24odCl7cmV0dXJuIHIodCxvKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcwKSxvPW4oMjQpLGk9bigzMyksdT1uKDIzKSxhPW4oMjYpLGM9bigxOSksbD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2UuZj1uKDIwKT9sOmZ1bmN0aW9uKHQsZSl7aWYodD1pKHQpLGU9dShlLCEwKSxjKXRyeXtyZXR1cm4gbCh0LGUpfWNhdGNoKHQpe31pZihhKHQsZSkpcmV0dXJuIG8oIXIuZi5jYWxsKHQsZSksdFtlXSl9fSxmdW5jdGlvbih0LGUpe30sZnVuY3Rpb24odCxlLG4pe24oNjYpKFwiYXN5bmNJdGVyYXRvclwiKX0sZnVuY3Rpb24odCxlLG4pe24oNjYpKFwib2JzZXJ2YWJsZVwiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXZhciBpPW4oNzkpLHU9cihpKSxhPW4oODIpLGM9cihhKSxsPW4oODYpLGY9cihsKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLlNtb290aFNjcm9sbGJhcj12b2lkIDA7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLCgwLGYuZGVmYXVsdCkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCksZD1uKDg5KSxoPW4oMTEyKTtlLlNtb290aFNjcm9sbGJhcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtvKHRoaXMsdCksZS5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiMVwiKSxlLnNjcm9sbFRvcD1lLnNjcm9sbExlZnQ9MDt2YXIgaT0oMCxoLmZpbmRDaGlsZCkoZSxcInNjcm9sbC1jb250ZW50XCIpLGE9KDAsaC5maW5kQ2hpbGQpKGUsXCJvdmVyc2Nyb2xsLWdsb3dcIiksbD0oMCxoLmZpbmRDaGlsZCkoZSxcInNjcm9sbGJhci10cmFjay14XCIpLGY9KDAsaC5maW5kQ2hpbGQpKGUsXCJzY3JvbGxiYXItdHJhY2steVwiKTtpZigoMCxoLnNldFN0eWxlKShlLHtvdmVyZmxvdzpcImhpZGRlblwiLG91dGxpbmU6XCJub25lXCJ9KSwoMCxoLnNldFN0eWxlKShhLHtkaXNwbGF5Olwibm9uZVwiLFwicG9pbnRlci1ldmVudHNcIjpcIm5vbmVcIn0pLHRoaXMuX19yZWFkb25seShcInRhcmdldHNcIiwoMCxjLmRlZmF1bHQpKHtjb250YWluZXI6ZSxjb250ZW50OmksY2FudmFzOntlbGVtOmEsY29udGV4dDphLmdldENvbnRleHQoXCIyZFwiKX0seEF4aXM6KDAsYy5kZWZhdWx0KSh7dHJhY2s6bCx0aHVtYjooMCxoLmZpbmRDaGlsZCkobCxcInNjcm9sbGJhci10aHVtYi14XCIpfSkseUF4aXM6KDAsYy5kZWZhdWx0KSh7dHJhY2s6Zix0aHVtYjooMCxoLmZpbmRDaGlsZCkoZixcInNjcm9sbGJhci10aHVtYi15XCIpfSl9KSkuX19yZWFkb25seShcIm9mZnNldFwiLHt4OjAseTowfSkuX19yZWFkb25seShcInRodW1iT2Zmc2V0XCIse3g6MCx5OjB9KS5fX3JlYWRvbmx5KFwibGltaXRcIix7eDoxLzAseToxLzB9KS5fX3JlYWRvbmx5KFwibW92ZW1lbnRcIix7eDowLHk6MH0pLl9fcmVhZG9ubHkoXCJtb3ZlbWVudExvY2tlZFwiLHt4OiExLHk6ITF9KS5fX3JlYWRvbmx5KFwib3ZlcnNjcm9sbFJlbmRlcmVkXCIse3g6MCx5OjB9KS5fX3JlYWRvbmx5KFwib3ZlcnNjcm9sbEJhY2tcIiwhMSkuX19yZWFkb25seShcInRodW1iU2l6ZVwiLHt4OjAseTowLHJlYWxYOjAscmVhbFk6MH0pLl9fcmVhZG9ubHkoXCJib3VuZGluZ1wiLHt0b3A6MCxyaWdodDowLGJvdHRvbTowLGxlZnQ6MH0pLl9fcmVhZG9ubHkoXCJjaGlsZHJlblwiLFtdKS5fX3JlYWRvbmx5KFwicGFyZW50c1wiLFtdKS5fX3JlYWRvbmx5KFwic2l6ZVwiLHRoaXMuZ2V0U2l6ZSgpKS5fX3JlYWRvbmx5KFwiaXNOZXN0ZWRTY3JvbGxiYXJcIiwhMSksKDAsdS5kZWZhdWx0KSh0aGlzLHtfX2hpZGVUcmFja1Rocm90dGxlOnt2YWx1ZTooMCxoLmRlYm91bmNlKSh0aGlzLmhpZGVUcmFjay5iaW5kKHRoaXMpLDFlMywhMSl9LF9fdXBkYXRlVGhyb3R0bGU6e3ZhbHVlOigwLGguZGVib3VuY2UpKHRoaXMudXBkYXRlLmJpbmQodGhpcykpfSxfX3RvdWNoUmVjb3JkOnt2YWx1ZTpuZXcgaC5Ub3VjaFJlY29yZH0sX19saXN0ZW5lcnM6e3ZhbHVlOltdfSxfX2hhbmRsZXJzOnt2YWx1ZTpbXX0sX19jaGlsZHJlbjp7dmFsdWU6W119LF9fdGltZXJJRDp7dmFsdWU6e319fSksdGhpcy5fX2luaXRPcHRpb25zKHIpLHRoaXMuX19pbml0U2Nyb2xsYmFyKCksZC5zYkxpc3Quc2V0KGUsdGhpcyksXCJmdW5jdGlvblwiPT10eXBlb2YgZC5HTE9CQUxfRU5WLk11dGF0aW9uT2JzZXJ2ZXIpe3ZhciBzPW5ldyBkLkdMT0JBTF9FTlYuTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpe24udXBkYXRlKCEwKX0pO3Mub2JzZXJ2ZShpLHtjaGlsZExpc3Q6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIl9fb2JzZXJ2ZXJcIix7dmFsdWU6c30pfX1yZXR1cm4gcyh0LFt7a2V5OlwiTUFYX09WRVJTQ1JPTExcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMsZT10aGlzLnNpemU7c3dpdGNoKHQub3ZlcnNjcm9sbEVmZmVjdCl7Y2FzZVwiYm91bmNlXCI6dmFyIG49TWF0aC5mbG9vcihNYXRoLnNxcnQoTWF0aC5wb3coZS5jb250YWluZXIud2lkdGgsMikrTWF0aC5wb3coZS5jb250YWluZXIuaGVpZ2h0LDIpKSkscj10aGlzLl9faXNNb3ZlbWVudExvY2tlZCgpPzI6MTA7cmV0dXJuIGQuR0xPQkFMX0VOVi5UT1VDSF9TVVBQT1JURUQ/KDAsaC5waWNrSW5SYW5nZSkobi9yLDEwMCwxZTMpOigwLGgucGlja0luUmFuZ2UpKG4vMTAsMjUsNTApO2Nhc2VcImdsb3dcIjpyZXR1cm4gMTUwO2RlZmF1bHQ6cmV0dXJuIDB9fX0se2tleTpcInNjcm9sbFRvcFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9mZnNldC55fX0se2tleTpcInNjcm9sbExlZnRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vZmZzZXQueH19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17ZGVmYXVsdDpuKDgwKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe24oODEpO3ZhciByPW4oMTIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gci5kZWZpbmVQcm9wZXJ0aWVzKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMCk7cihyLlMrci5GKiFuKDIwKSxcIk9iamVjdFwiLHtkZWZpbmVQcm9wZXJ0aWVzOm4oMzApfSl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e2RlZmF1bHQ6big4MyksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXtuKDg0KSx0LmV4cG9ydHM9bigxMikuT2JqZWN0LmZyZWV6ZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTgpLG89big2NSkub25GcmVlemU7big4NSkoXCJmcmVlemVcIixmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQmJnIoZSk/dChvKGUpKTplfX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMCksbz1uKDEyKSxpPW4oMjEpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPShvLk9iamVjdHx8e30pW3RdfHxPYmplY3RbdF0sdT17fTt1W3RdPWUobikscihyLlMrci5GKmkoZnVuY3Rpb24oKXtuKDEpfSksXCJPYmplY3RcIix1KX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e2RlZmF1bHQ6big4NyksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXtuKDg4KTt2YXIgcj1uKDEyKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5kZWZpbmVQcm9wZXJ0eSh0LGUsbil9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMCk7cihyLlMrci5GKiFuKDIwKSxcIk9iamVjdFwiLHtkZWZpbmVQcm9wZXJ0eTpuKDE2KS5mfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX12YXIgbz1uKDg2KSxpPXIobyksdT1uKDkwKSxhPXIodSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGM9big5Myk7KDAsYS5kZWZhdWx0KShjKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY1t0XX19KX0pfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtkZWZhdWx0Om4oOTEpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7big5MiksdC5leHBvcnRzPW4oMTIpLk9iamVjdC5rZXlzfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0Nyksbz1uKDMxKTtuKDg1KShcImtleXNcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbyhyKHQpKX19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXZhciBvPW4oODYpLGk9cihvKSx1PW4oOTApLGE9cih1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYz1uKDk0KTsoMCxhLmRlZmF1bHQpKGMpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjW3RdfX0pfSk7dmFyIGw9big5NSk7KDAsYS5kZWZhdWx0KShsKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt0XX19KX0pO3ZhciBmPW4oMTExKTsoMCxhLmRlZmF1bHQpKGYpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmW3RdfX0pfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX12YXIgbz1uKDg2KSxpPXIobyksdT1uKDkwKSxhPXIodSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGM9ZnVuY3Rpb24odCl7dmFyIGU9e30sbj17fTtyZXR1cm4oMCxhLmRlZmF1bHQpKHQpLmZvckVhY2goZnVuY3Rpb24ocil7KDAsaS5kZWZhdWx0KShlLHIse2dldDpmdW5jdGlvbigpe2lmKCFuLmhhc093blByb3BlcnR5KHIpKXt2YXIgZT10W3JdO25bcl09ZSgpfXJldHVybiBuW3JdfX0pfSksZX0sbD17TXV0YXRpb25PYnNlcnZlcjpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5Nb3pNdXRhdGlvbk9ic2VydmVyfSxUT1VDSF9TVVBQT1JURUQ6ZnVuY3Rpb24oKXtyZXR1cm5cIm9udG91Y2hzdGFydFwiaW4gZG9jdW1lbnR9LEVBU0lOR19NVUxUSVBMSUVSOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvKT8uNTouMjV9LFdIRUVMX0VWRU5UOmZ1bmN0aW9uKCl7cmV0dXJuXCJvbndoZWVsXCJpbiB3aW5kb3c/XCJ3aGVlbFwiOlwibW91c2V3aGVlbFwifX07ZS5HTE9CQUxfRU5WPWMobCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX12YXIgbz1uKDk2KSxpPXIobyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHU9bmV3IGkuZGVmYXVsdCxhPXUuc2V0LmJpbmQodSksYz11LmRlbGV0ZS5iaW5kKHUpO3UudXBkYXRlPWZ1bmN0aW9uKCl7dS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuX191cGRhdGVUcmVlKCl9KX0sdS5kZWxldGU9ZnVuY3Rpb24oKXt2YXIgdD1jLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpO3JldHVybiB1LnVwZGF0ZSgpLHR9LHUuc2V0PWZ1bmN0aW9uKCl7dmFyIHQ9YS5hcHBseSh2b2lkIDAsYXJndW1lbnRzKTtyZXR1cm4gdS51cGRhdGUoKSx0fSxlLnNiTGlzdD11fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtkZWZhdWx0Om4oOTcpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7big3NSksbig0KSxuKDU3KSxuKDk4KSxuKDEwOCksdC5leHBvcnRzPW4oMTIpLk1hcH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOTkpO3QuZXhwb3J0cz1uKDEwNCkoXCJNYXBcIixmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKX19LHtnZXQ6ZnVuY3Rpb24odCl7dmFyIGU9ci5nZXRFbnRyeSh0aGlzLHQpO3JldHVybiBlJiZlLnZ9LHNldDpmdW5jdGlvbih0LGUpe3JldHVybiByLmRlZih0aGlzLDA9PT10PzA6dCxlKX19LHIsITApfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxNikuZixvPW4oMjkpLGk9bigxMDApLHU9bigxMyksYT1uKDEwMSksYz1uKDcpLGw9bigxMDIpLGY9big4KSxzPW4oNjApLGQ9bigxMDMpLGg9bigyMCksdj1uKDY1KS5mYXN0S2V5LF89aD9cIl9zXCI6XCJzaXplXCIscD1mdW5jdGlvbih0LGUpe3ZhciBuLHI9dihlKTtpZihcIkZcIiE9PXIpcmV0dXJuIHQuX2lbcl07Zm9yKG49dC5fZjtuO249bi5uKWlmKG4uaz09ZSlyZXR1cm4gbn07dC5leHBvcnRzPXtnZXRDb25zdHJ1Y3RvcjpmdW5jdGlvbih0LGUsbixmKXt2YXIgcz10KGZ1bmN0aW9uKHQscil7YSh0LHMsZSxcIl9pXCIpLHQuX2k9byhudWxsKSx0Ll9mPXZvaWQgMCx0Ll9sPXZvaWQgMCx0W19dPTAsdm9pZCAwIT1yJiZsKHIsbix0W2ZdLHQpfSk7cmV0dXJuIGkocy5wcm90b3R5cGUse2NsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT10Ll9pLG49dC5fZjtuO249bi5uKW4ucj0hMCxuLnAmJihuLnA9bi5wLm49dm9pZCAwKSxkZWxldGUgZVtuLmldO3QuX2Y9dC5fbD12b2lkIDAsdFtfXT0wfSxkZWxldGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXAoZSx0KTtpZihuKXt2YXIgcj1uLm4sbz1uLnA7ZGVsZXRlIGUuX2lbbi5pXSxuLnI9ITAsbyYmKG8ubj1yKSxyJiYoci5wPW8pLGUuX2Y9PW4mJihlLl9mPXIpLGUuX2w9PW4mJihlLl9sPW8pLGVbX10tLX1yZXR1cm4hIW59LGZvckVhY2g6ZnVuY3Rpb24odCl7YSh0aGlzLHMsXCJmb3JFYWNoXCIpO2Zvcih2YXIgZSxuPXUodCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTtlPWU/ZS5uOnRoaXMuX2Y7KWZvcihuKGUudixlLmssdGhpcyk7ZSYmZS5yOyllPWUucH0saGFzOmZ1bmN0aW9uKHQpe3JldHVybiEhcCh0aGlzLHQpfX0pLGgmJnIocy5wcm90b3R5cGUsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjKHRoaXNbX10pfX0pLHN9LGRlZjpmdW5jdGlvbih0LGUsbil7dmFyIHIsbyxpPXAodCxlKTtyZXR1cm4gaT9pLnY9bjoodC5fbD1pPXtpOm89dihlLCEwKSxrOmUsdjpuLHA6cj10Ll9sLG46dm9pZCAwLHI6ITF9LHQuX2Z8fCh0Ll9mPWkpLHImJihyLm49aSksdFtfXSsrLFwiRlwiIT09byYmKHQuX2lbb109aSkpLHR9LGdldEVudHJ5OnAsc2V0U3Ryb25nOmZ1bmN0aW9uKHQsZSxuKXtmKHQsZSxmdW5jdGlvbih0LGUpe3RoaXMuX3Q9dCx0aGlzLl9rPWUsdGhpcy5fbD12b2lkIDB9LGZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT10Ll9rLG49dC5fbDtuJiZuLnI7KW49bi5wO3JldHVybiB0Ll90JiYodC5fbD1uPW4/bi5uOnQuX3QuX2YpP1wia2V5c1wiPT1lP3MoMCxuLmspOlwidmFsdWVzXCI9PWU/cygwLG4udik6cygwLFtuLmssbi52XSk6KHQuX3Q9dm9pZCAwLHMoMSkpfSxuP1wiZW50cmllc1wiOlwidmFsdWVzXCIsIW4sITApLGQoZSl9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTUpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBvIGluIGUpbiYmdFtvXT90W29dPWVbb106cih0LG8sZVtvXSk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixyKXtpZighKHQgaW5zdGFuY2VvZiBlKXx8dm9pZCAwIT09ciYmciBpbiB0KXRocm93IFR5cGVFcnJvcihuK1wiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiFcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMyksbz1uKDQ5KSxpPW4oNTApLHU9bigxNyksYT1uKDM3KSxjPW4oNTIpLGw9e30sZj17fSxlPXQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixzLGQpe3ZhciBoLHYsXyxwLHk9ZD9mdW5jdGlvbigpe3JldHVybiB0fTpjKHQpLGI9cihuLHMsZT8yOjEpLGc9MDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB5KXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBpdGVyYWJsZSFcIik7aWYoaSh5KSl7Zm9yKGg9YSh0Lmxlbmd0aCk7aD5nO2crKylpZihwPWU/Yih1KHY9dFtnXSlbMF0sdlsxXSk6Yih0W2ddKSxwPT09bHx8cD09PWYpcmV0dXJuIHB9ZWxzZSBmb3IoXz15LmNhbGwodCk7ISh2PV8ubmV4dCgpKS5kb25lOylpZihwPW8oXyxiLHYudmFsdWUsZSkscD09PWx8fHA9PT1mKXJldHVybiBwfTtlLkJSRUFLPWwsZS5SRVRVUk49Zn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTEpLG89bigxMiksaT1uKDE2KSx1PW4oMjApLGE9big0NSkoXCJzcGVjaWVzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBvW3RdP29bdF06clt0XTt1JiZlJiYhZVthXSYmaS5mKGUsYSx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTEpLG89bigxMCksaT1uKDY1KSx1PW4oMjEpLGE9bigxNSksYz1uKDEwMCksbD1uKDEwMiksZj1uKDEwMSkscz1uKDE4KSxkPW4oNDQpLGg9bigxNikuZix2PW4oMTA1KSgwKSxfPW4oMjApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixwLHksYil7dmFyIGc9clt0XSxtPWcseD15P1wic2V0XCI6XCJhZGRcIixTPW0mJm0ucHJvdG90eXBlLEU9e307cmV0dXJuIF8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG0mJihifHxTLmZvckVhY2gmJiF1KGZ1bmN0aW9uKCl7KG5ldyBtKS5lbnRyaWVzKCkubmV4dCgpfSkpPyhtPWUoZnVuY3Rpb24oZSxuKXtmKGUsbSx0LFwiX2NcIiksZS5fYz1uZXcgZyx2b2lkIDAhPW4mJmwobix5LGVbeF0sZSl9KSx2KFwiYWRkLGNsZWFyLGRlbGV0ZSxmb3JFYWNoLGdldCxoYXMsc2V0LGtleXMsdmFsdWVzLGVudHJpZXMsdG9KU09OXCIuc3BsaXQoXCIsXCIpLGZ1bmN0aW9uKHQpe3ZhciBlPVwiYWRkXCI9PXR8fFwic2V0XCI9PXQ7dCBpbiBTJiYoIWJ8fFwiY2xlYXJcIiE9dCkmJmEobS5wcm90b3R5cGUsdCxmdW5jdGlvbihuLHIpe2lmKGYodGhpcyxtLHQpLCFlJiZiJiYhcyhuKSlyZXR1cm5cImdldFwiPT10JiZ2b2lkIDA7dmFyIG89dGhpcy5fY1t0XSgwPT09bj8wOm4scik7cmV0dXJuIGU/dGhpczpvfSl9KSxcInNpemVcImluIFMmJmgobS5wcm90b3R5cGUsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jLnNpemV9fSkpOihtPXAuZ2V0Q29uc3RydWN0b3IoZSx0LHkseCksYyhtLnByb3RvdHlwZSxuKSxpLk5FRUQ9ITApLGQobSx0KSxFW3RdPW0sbyhvLkcrby5XK28uRixFKSxifHxwLnNldFN0cm9uZyhtLHQseSksbX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEzKSxvPW4oMzQpLGk9big0NyksdT1uKDM3KSxhPW4oMTA2KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj0xPT10LGM9Mj09dCxsPTM9PXQsZj00PT10LHM9Nj09dCxkPTU9PXR8fHMsaD1lfHxhO3JldHVybiBmdW5jdGlvbihlLGEsdil7Zm9yKHZhciBfLHAseT1pKGUpLGI9byh5KSxnPXIoYSx2LDMpLG09dShiLmxlbmd0aCkseD0wLFM9bj9oKGUsbSk6Yz9oKGUsMCk6dm9pZCAwO20+eDt4KyspaWYoKGR8fHggaW4gYikmJihfPWJbeF0scD1nKF8seCx5KSx0KSlpZihuKVNbeF09cDtlbHNlIGlmKHApc3dpdGNoKHQpe2Nhc2UgMzpyZXR1cm4hMDtjYXNlIDU6cmV0dXJuIF87Y2FzZSA2OnJldHVybiB4O2Nhc2UgMjpTLnB1c2goXyl9ZWxzZSBpZihmKXJldHVybiExO3JldHVybiBzPy0xOmx8fGY/ZjpTfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwNyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyhyKHQpKShlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE4KSxvPW4oNzEpLGk9big0NSkoXCJzcGVjaWVzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gbyh0KSYmKGU9dC5jb25zdHJ1Y3RvcixcImZ1bmN0aW9uXCIhPXR5cGVvZiBlfHxlIT09QXJyYXkmJiFvKGUucHJvdG90eXBlKXx8KGU9dm9pZCAwKSxyKGUpJiYoZT1lW2ldLG51bGw9PT1lJiYoZT12b2lkIDApKSksdm9pZCAwPT09ZT9BcnJheTplfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTApO3Ioci5QK3IuUixcIk1hcFwiLHt0b0pTT046bigxMDkpKFwiTWFwXCIpfSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUzKSxvPW4oMTEwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYocih0aGlzKSE9dCl0aHJvdyBUeXBlRXJyb3IodCtcIiN0b0pTT04gaXNuJ3QgZ2VuZXJpY1wiKTtyZXR1cm4gbyh0aGlzKX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMDIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO3JldHVybiByKHQsITEsbi5wdXNoLG4sZSksbn19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7ZS5zZWxlY3RvcnM9XCJzY3JvbGxiYXIsIFtzY3JvbGxiYXJdLCBbZGF0YS1zY3JvbGxiYXJdXCJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX12YXIgbz1uKDg2KSxpPXIobyksdT1uKDkwKSxhPXIodSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGM9bigxMTMpOygwLGEuZGVmYXVsdCkoYykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNbdF19fSl9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXZhciBvPW4oODYpLGk9cihvKSx1PW4oOTApLGE9cih1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYz1uKDExNCk7KDAsYS5kZWZhdWx0KShjKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY1t0XX19KX0pO3ZhciBsPW4oMTE1KTsoMCxhLmRlZmF1bHQpKGwpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3RdfX0pfSk7dmFyIGY9bigxMTYpOygwLGEuZGVmYXVsdCkoZikuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZbdF19fSl9KTt2YXIgcz1uKDExNyk7KDAsYS5kZWZhdWx0KShzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc1t0XX19KX0pO3ZhciBkPW4oMTE4KTsoMCxhLmRlZmF1bHQpKGQpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkW3RdfX0pfSk7dmFyIGg9bigxMTkpOygwLGEuZGVmYXVsdCkoaCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGhbdF19fSl9KTt2YXIgdj1uKDEyMCk7KDAsYS5kZWZhdWx0KSh2KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdlt0XX19KX0pO3ZhciBfPW4oMTIxKTsoMCxhLmRlZmF1bHQpKF8pLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfW3RdfX0pfSk7dmFyIHA9bigxMjIpOygwLGEuZGVmYXVsdCkocCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHBbdF19fSl9KTt2YXIgeT1uKDEyMyk7KDAsYS5kZWZhdWx0KSh5KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geVt0XX19KX0pO3ZhciBiPW4oMTI0KTsoMCxhLmRlZmF1bHQpKGIpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBiW3RdfX0pfSl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7ZS5idWlsZEN1cnZlPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107aWYoZTw9MClyZXR1cm4gbjtmb3IodmFyIHI9TWF0aC5yb3VuZChlLzFlMyo2MCktMSxvPXQ/TWF0aC5wb3coMS9NYXRoLmFicyh0KSwxL3IpOjAsaT0xO2k8PXI7aSsrKW4ucHVzaCh0LXQqTWF0aC5wb3cobyxpKSk7cmV0dXJuIG4ucHVzaCh0KSxufX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj0xMDA7ZS5kZWJvdW5jZT1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bixyPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl7dmFyIG89dm9pZCAwO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9QXJyYXkobiksdT0wO3U8bjt1KyspaVt1XT1hcmd1bWVudHNbdV07IW8mJnImJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh2b2lkIDAsaSl9KSxjbGVhclRpbWVvdXQobyksbz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bz12b2lkIDAsdC5hcHBseSh2b2lkIDAsaSl9LGUpfX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gbyh0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPUFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59cmV0dXJuKDAsdS5kZWZhdWx0KSh0KX12YXIgaT1uKDIpLHU9cihpKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLmZpbmRDaGlsZD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuY2hpbGRyZW4scj1udWxsO1xucmV0dXJuIG4mJltdLmNvbmNhdChvKG4pKS5zb21lKGZ1bmN0aW9uKHQpe2lmKHQuY2xhc3NOYW1lLm1hdGNoKGUpKXJldHVybiByPXQsITB9KSxyfX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj17U1RBTkRBUkQ6MSxPVEhFUlM6LTN9LHI9WzEsMjgsNTAwXSxvPWZ1bmN0aW9uKHQpe3JldHVybiByW3RdfHxyWzBdfTtlLmdldERlbHRhPWZ1bmN0aW9uKHQpe2lmKFwiZGVsdGFYXCJpbiB0KXt2YXIgZT1vKHQuZGVsdGFNb2RlKTtyZXR1cm57eDp0LmRlbHRhWC9uLlNUQU5EQVJEKmUseTp0LmRlbHRhWS9uLlNUQU5EQVJEKmV9fXJldHVyblwid2hlZWxEZWx0YVhcImluIHQ/e3g6dC53aGVlbERlbHRhWC9uLk9USEVSUyx5OnQud2hlZWxEZWx0YVkvbi5PVEhFUlN9Ont4OjAseTp0LndoZWVsRGVsdGEvbi5PVEhFUlN9fX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLmdldFBvaW50ZXJEYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0LnRvdWNoZXM/dC50b3VjaGVzW3QudG91Y2hlcy5sZW5ndGgtMV06dH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmdldFBvc2l0aW9uPXZvaWQgMDt2YXIgcj1uKDExOCk7ZS5nZXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZT0oMCxyLmdldFBvaW50ZXJEYXRhKSh0KTtyZXR1cm57eDplLmNsaWVudFgseTplLmNsaWVudFl9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuZ2V0VG91Y2hJRD12b2lkIDA7dmFyIHI9bigxMTgpO2UuZ2V0VG91Y2hJRD1mdW5jdGlvbih0KXt2YXIgZT0oMCxyLmdldFBvaW50ZXJEYXRhKSh0KTtyZXR1cm4gZS5pZGVudGlmaWVyfX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLmlzT25lT2Y9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdO3JldHVybiBlLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9PT1lfSl9fSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UucGlja0luUmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOi0oMS8wKSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxLzA7cmV0dXJuIE1hdGgubWF4KGUsTWF0aC5taW4odCxuKSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19dmFyIG89big5MCksaT1yKG8pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB1PVtcIndlYmtpdFwiLFwibW96XCIsXCJtc1wiLFwib1wiXSxhPW5ldyBSZWdFeHAoXCJeLSg/ISg/OlwiK3Uuam9pbihcInxcIikrXCIpLSlcIiksYz1mdW5jdGlvbih0KXt2YXIgZT17fTtyZXR1cm4oMCxpLmRlZmF1bHQpKHQpLmZvckVhY2goZnVuY3Rpb24obil7aWYoIWEudGVzdChuKSlyZXR1cm4gdm9pZChlW25dPXRbbl0pO3ZhciByPXRbbl07bj1uLnJlcGxhY2UoL14tLyxcIlwiKSxlW25dPXIsdS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbXCItXCIrdCtcIi1cIituXT1yfSl9KSxlfTtlLnNldFN0eWxlPWZ1bmN0aW9uKHQsZSl7ZT1jKGUpLCgwLGkuZGVmYXVsdCkoZSkuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgcj1uLnJlcGxhY2UoL14tLyxcIlwiKS5yZXBsYWNlKC8tKFthLXpdKS9nLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKX0pO3Quc3R5bGVbcl09ZVtuXX0pfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIG8odCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsbj1BcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufXJldHVybigwLGEuZGVmYXVsdCkodCl9ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9dmFyIHU9bigyKSxhPXIodSksYz1uKDg2KSxsPXIoYyksZj1uKDEyNSkscz1yKGYpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuVG91Y2hSZWNvcmQ9dm9pZCAwO3ZhciBkPXMuZGVmYXVsdHx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH0saD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksKDAsbC5kZWZhdWx0KSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSx2PW4oMTE5KSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtpKHRoaXMsdCksdGhpcy51cGRhdGVUaW1lPURhdGUubm93KCksdGhpcy5kZWx0YT17eDowLHk6MH0sdGhpcy52ZWxvY2l0eT17eDowLHk6MH0sdGhpcy5sYXN0UG9zaXRpb249KDAsdi5nZXRQb3NpdGlvbikoZSl9cmV0dXJuIGgodCxbe2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmVsb2NpdHksbj10aGlzLnVwZGF0ZVRpbWUscj10aGlzLmxhc3RQb3NpdGlvbixvPURhdGUubm93KCksaT0oMCx2LmdldFBvc2l0aW9uKSh0KSx1PXt4Oi0oaS54LXIueCkseTotKGkueS1yLnkpfSxhPW8tbnx8MTYsYz11LngvYSoxZTMsbD11LnkvYSoxZTM7ZS54PS44KmMrLjIqZS54LGUueT0uOCpsKy4yKmUueSx0aGlzLmRlbHRhPXUsdGhpcy51cGRhdGVUaW1lPW8sdGhpcy5sYXN0UG9zaXRpb249aX19XSksdH0oKTtlLlRvdWNoUmVjb3JkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2kodGhpcyx0KSx0aGlzLnRvdWNoTGlzdD17fSx0aGlzLmxhc3RUb3VjaD1udWxsLHRoaXMuYWN0aXZlVG91Y2hJRD12b2lkIDB9cmV0dXJuIGgodCxbe2tleTpcIl9fYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5fX2hhcyh0KSlyZXR1cm4gbnVsbDt2YXIgZT1uZXcgXyh0KTtyZXR1cm4gdGhpcy50b3VjaExpc3RbdC5pZGVudGlmaWVyXT1lLGV9fSx7a2V5OlwiX19yZW5ld1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9faGFzKHQpKXJldHVybiBudWxsO3ZhciBlPXRoaXMudG91Y2hMaXN0W3QuaWRlbnRpZmllcl07cmV0dXJuIGUudXBkYXRlKHQpLGV9fSx7a2V5OlwiX19kZWxldGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZGVsZXRlIHRoaXMudG91Y2hMaXN0W3QuaWRlbnRpZmllcl19fSx7a2V5OlwiX19oYXNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50b3VjaExpc3QuaGFzT3duUHJvcGVydHkodC5pZGVudGlmaWVyKX19LHtrZXk6XCJfX3NldEFjdGl2ZUlEXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5hY3RpdmVUb3VjaElEPXRbdC5sZW5ndGgtMV0uaWRlbnRpZmllcix0aGlzLmxhc3RUb3VjaD10aGlzLnRvdWNoTGlzdFt0aGlzLmFjdGl2ZVRvdWNoSURdfX0se2tleTpcIl9fZ2V0QWN0aXZlVHJhY2tlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50b3VjaExpc3QsZT10aGlzLmFjdGl2ZVRvdWNoSUQ7cmV0dXJuIHRbZV19fSx7a2V5OlwiaXNBY3RpdmVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLmFjdGl2ZVRvdWNoSUR9fSx7a2V5OlwiZ2V0RGVsdGFcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX19nZXRBY3RpdmVUcmFja2VyKCk7cmV0dXJuIHQ/ZCh7fSx0LmRlbHRhKTp0aGlzLl9fcHJpbWl0aXZlVmFsdWV9fSx7a2V5OlwiZ2V0VmVsb2NpdHlcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX19nZXRBY3RpdmVUcmFja2VyKCk7cmV0dXJuIHQ/ZCh7fSx0LnZlbG9jaXR5KTp0aGlzLl9fcHJpbWl0aXZlVmFsdWV9fSx7a2V5OlwiZ2V0TGFzdFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJcIixlPXRoaXMuX19nZXRBY3RpdmVUcmFja2VyKCl8fHRoaXMubGFzdFRvdWNoLG49ZT9lLmxhc3RQb3NpdGlvbjp0aGlzLl9fcHJpbWl0aXZlVmFsdWU7cmV0dXJuIHQ/bi5oYXNPd25Qcm9wZXJ0eSh0KT9uW3RdOjA6ZCh7fSxuKX19LHtrZXk6XCJ1cGRhdGVkUmVjZW50bHlcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX19nZXRBY3RpdmVUcmFja2VyKCk7cmV0dXJuIHQmJkRhdGUubm93KCktdC51cGRhdGVUaW1lPDMwfX0se2tleTpcInRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQudGFyZ2V0VG91Y2hlcztyZXR1cm5bXS5jb25jYXQobyhuKSkuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9fYWRkKHQpfSksdGhpcy50b3VjaExpc3R9fSx7a2V5OlwidXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQudG91Y2hlcyxyPXQuY2hhbmdlZFRvdWNoZXM7cmV0dXJuW10uY29uY2F0KG8obikpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fX3JlbmV3KHQpfSksdGhpcy5fX3NldEFjdGl2ZUlEKHIpLHRoaXMudG91Y2hMaXN0fX0se2tleTpcInJlbGVhc2VcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmFjdGl2ZVRvdWNoSUQ9dm9pZCAwLFtdLmNvbmNhdChvKHQuY2hhbmdlZFRvdWNoZXMpKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX19kZWxldGUodCl9KSx0aGlzLnRvdWNoTGlzdH19LHtrZXk6XCJfX3ByaW1pdGl2ZVZhbHVlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue3g6MCx5OjB9fX1dKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtkZWZhdWx0Om4oMTI2KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe24oMTI3KSx0LmV4cG9ydHM9bigxMikuT2JqZWN0LmFzc2lnbn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTApO3Ioci5TK3IuRixcIk9iamVjdFwiLHthc3NpZ246bigxMjgpfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDMxKSxvPW4oNjkpLGk9big3MCksdT1uKDQ3KSxhPW4oMzQpLGM9T2JqZWN0LmFzc2lnbjt0LmV4cG9ydHM9IWN8fG4oMjEpKGZ1bmN0aW9uKCl7dmFyIHQ9e30sZT17fSxuPVN5bWJvbCgpLHI9XCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiO3JldHVybiB0W25dPTcsci5zcGxpdChcIlwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbdF09dH0pLDchPWMoe30sdClbbl18fE9iamVjdC5rZXlzKGMoe30sZSkpLmpvaW4oXCJcIikhPXJ9KT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj11KHQpLGM9YXJndW1lbnRzLmxlbmd0aCxsPTEsZj1vLmYscz1pLmY7Yz5sOylmb3IodmFyIGQsaD1hKGFyZ3VtZW50c1tsKytdKSx2PWY/cihoKS5jb25jYXQoZihoKSk6cihoKSxfPXYubGVuZ3RoLHA9MDtfPnA7KXMuY2FsbChoLGQ9dltwKytdKSYmKG5bZF09aFtkXSk7cmV0dXJuIG59OmN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX12YXIgbz1uKDg2KSxpPXIobyksdT1uKDkwKSxhPXIodSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGM9bigxMzApOygwLGEuZGVmYXVsdCkoYykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNbdF19fSl9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXZhciBvPW4oODYpLGk9cihvKSx1PW4oOTApLGE9cih1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYz1uKDEzMSk7KDAsYS5kZWZhdWx0KShjKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY1t0XX19KX0pO3ZhciBsPW4oMTMyKTsoMCxhLmRlZmF1bHQpKGwpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3RdfX0pfSk7dmFyIGY9bigxMzMpOygwLGEuZGVmYXVsdCkoZikuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZbdF19fSl9KTt2YXIgcz1uKDEzNCk7KDAsYS5kZWZhdWx0KShzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc1t0XX19KX0pO3ZhciBkPW4oMTM1KTsoMCxhLmRlZmF1bHQpKGQpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkW3RdfX0pfSk7dmFyIGg9bigxMzYpOygwLGEuZGVmYXVsdCkoaCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGhbdF19fSl9KTt2YXIgdj1uKDEzNyk7KDAsYS5kZWZhdWx0KSh2KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdlt0XX19KX0pO3ZhciBfPW4oMTM4KTsoMCxhLmRlZmF1bHQpKF8pLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfW3RdfX0pfSk7dmFyIHA9bigxMzkpOygwLGEuZGVmYXVsdCkocCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHBbdF19fSl9KTt2YXIgeT1uKDE0MCk7KDAsYS5kZWZhdWx0KSh5KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geVt0XX19KX0pO3ZhciBiPW4oMTQxKTsoMCxhLmRlZmF1bHQpKGIpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBiW3RdfX0pfSk7dmFyIGc9bigxNDIpOygwLGEuZGVmYXVsdCkoZykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGdbdF19fSl9KTt2YXIgbT1uKDE0Myk7KDAsYS5kZWZhdWx0KShtKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbVt0XX19KX0pO3ZhciB4PW4oMTQ0KTsoMCxhLmRlZmF1bHQpKHgpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB4W3RdfX0pfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDc4KTtyLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUuY2xlYXJNb3ZlbWVudD1yLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMubW92ZW1lbnQueD10aGlzLm1vdmVtZW50Lnk9MCxjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9fdGltZXJJRC5zY3JvbGxUbyl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gbyh0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPUFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59cmV0dXJuKDAsdS5kZWZhdWx0KSh0KX12YXIgaT1uKDIpLHU9cihpKSxhPW4oNzgpLGM9bigxMTIpLGw9big4OSk7YS5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2xpc3RlbmVycyxuPXRoaXMuX19oYW5kbGVycyxyPXRoaXMuX19vYnNlcnZlcixpPXRoaXMudGFyZ2V0cyx1PWkuY29udGFpbmVyLGE9aS5jb250ZW50O24uZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT10LmV2dCxuPXQuZWxlbSxyPXQuZm47bi5yZW1vdmVFdmVudExpc3RlbmVyKGUscil9KSxuLmxlbmd0aD1lLmxlbmd0aD0wLHRoaXMuc3RvcCgpLGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX190aW1lcklELnJlbmRlciksciYmci5kaXNjb25uZWN0KCksbC5zYkxpc3QuZGVsZXRlKHUpLHR8fHRoaXMuc2Nyb2xsVG8oMCwwLDMwMCxmdW5jdGlvbigpe2lmKHUucGFyZW50Tm9kZSl7KDAsYy5zZXRTdHlsZSkodSx7b3ZlcmZsb3c6XCJcIn0pLHUuc2Nyb2xsVG9wPXUuc2Nyb2xsTGVmdD0wO2Zvcih2YXIgdD1bXS5jb25jYXQobyhhLmNoaWxkTm9kZXMpKTt1LmZpcnN0Q2hpbGQ7KXUucmVtb3ZlQ2hpbGQodS5maXJzdENoaWxkKTt0LmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHUuYXBwZW5kQ2hpbGQodCl9KX19KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDc4KTtyLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUuZ2V0Q29udGVudEVsZW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YXJnZXRzLmNvbnRlbnR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big3OCk7ci5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRhcmdldHMuY29udGFpbmVyLGU9dGhpcy50YXJnZXRzLmNvbnRlbnQ7cmV0dXJue2NvbnRhaW5lcjp7d2lkdGg6dC5jbGllbnRXaWR0aCxoZWlnaHQ6dC5jbGllbnRIZWlnaHR9LGNvbnRlbnQ6e3dpZHRoOmUub2Zmc2V0V2lkdGgtZS5jbGllbnRXaWR0aCtlLnNjcm9sbFdpZHRoLGhlaWdodDplLm9mZnNldEhlaWdodC1lLmNsaWVudEhlaWdodCtlLnNjcm9sbEhlaWdodH19fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNzgpO3IuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZS5pbmZpbml0ZVNjcm9sbD1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NTA7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl7dmFyIG49e3g6MCx5OjB9LHI9ITE7dGhpcy5hZGRMaXN0ZW5lcihmdW5jdGlvbihvKXt2YXIgaT1vLm9mZnNldCx1PW8ubGltaXQ7dS55LWkueTw9ZSYmaS55Pm4ueSYmIXImJihyPSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdChvKX0pKSx1LnktaS55PmUmJihyPSExKSxuPWl9KX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big3OCk7ci5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmJvdW5kaW5nLG49dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPU1hdGgubWF4KGUudG9wLG4udG9wKSxvPU1hdGgubWF4KGUubGVmdCxuLmxlZnQpLGk9TWF0aC5taW4oZS5yaWdodCxuLnJpZ2h0KSx1PU1hdGgubWluKGUuYm90dG9tLG4uYm90dG9tKTtyZXR1cm4gcjx1JiZvPGl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big3OCk7ci5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnRoaXMuX19saXN0ZW5lcnMucHVzaCh0KX0sci5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnRoaXMuX19saXN0ZW5lcnMuc29tZShmdW5jdGlvbihlLG4scil7cmV0dXJuIGU9PT10JiZyLnNwbGljZShuLDEpfSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gbyh0LGUsbil7cmV0dXJuIGUgaW4gdD8oMCxsLmRlZmF1bHQpKHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fWZ1bmN0aW9uIGkodCxlKXtyZXR1cm4hIWUubGVuZ3RoJiZlLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIHQubWF0Y2goZSl9KX1mdW5jdGlvbiB1KCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnMuUkVHSUVTVEVSLGU9ZFt0XTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxyPUFycmF5KG4pLG89MDtvPG47bysrKXJbb109YXJndW1lbnRzW29dO3RoaXMuX19oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBvPW4uZWxlbSx1PW4uZXZ0LGE9bi5mbixjPW4uaGFzUmVnaXN0ZXJlZDtjJiZ0PT09cy5SRUdJRVNURVJ8fCFjJiZ0PT09cy5VTlJFR0lFU1RFUnx8aSh1LHIpJiYob1tlXSh1LGEpLG4uaGFzUmVnaXN0ZXJlZD0hYyl9KX19dmFyIGEsYz1uKDg2KSxsPXIoYyksZj1uKDc4KSxzPXtSRUdJRVNURVI6MCxVTlJFR0lFU1RFUjoxfSxkPShhPXt9LG8oYSxzLlJFR0lFU1RFUixcImFkZEV2ZW50TGlzdGVuZXJcIiksbyhhLHMuVU5SRUdJRVNURVIsXCJyZW1vdmVFdmVudExpc3RlbmVyXCIpLGEpO2YuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZS5yZWdpc3RlckV2ZW50cz11KHMuUkVHSUVTVEVSKSxmLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUudW5yZWdpc3RlckV2ZW50cz11KHMuVU5SRUdJRVNURVIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big3OCk7ci5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLnNjcm9sbEludG9WaWV3PWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUuYWxpZ25Ub1RvcCxyPXZvaWQgMD09PW58fG4sbz1lLm9ubHlTY3JvbGxJZk5lZWRlZCxpPXZvaWQgMCE9PW8mJm8sdT1lLm9mZnNldFRvcCxhPXZvaWQgMD09PXU/MDp1LGM9ZS5vZmZzZXRMZWZ0LGw9dm9pZCAwPT09Yz8wOmMsZj1lLm9mZnNldEJvdHRvbSxzPXZvaWQgMD09PWY/MDpmLGQ9dGhpcy50YXJnZXRzLGg9dGhpcy5ib3VuZGluZztpZih0JiZkLmNvbnRhaW5lci5jb250YWlucyh0KSl7dmFyIHY9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpJiZ0aGlzLmlzVmlzaWJsZSh0KXx8dGhpcy5fX3NldE1vdmVtZW50KHYubGVmdC1oLmxlZnQtbCxyP3YudG9wLWgudG9wLWE6di5ib3R0b20taC5ib3R0b20tcyl9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTEyKSxvPW4oNzgpO28uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZS5zY3JvbGxUbz1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLm9mZnNldC54LGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMub2Zmc2V0Lnksbj10aGlzLG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAsaT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106bnVsbCx1PXRoaXMub3B0aW9ucyxhPXRoaXMub2Zmc2V0LGM9dGhpcy5saW1pdCxsPXRoaXMuX190aW1lcklEO2NhbmNlbEFuaW1hdGlvbkZyYW1lKGwuc2Nyb2xsVG8pLGk9XCJmdW5jdGlvblwiPT10eXBlb2YgaT9pOmZ1bmN0aW9uKCl7fSx1LnJlbmRlckJ5UGl4ZWxzJiYodD1NYXRoLnJvdW5kKHQpLGU9TWF0aC5yb3VuZChlKSk7dmFyIGY9YS54LHM9YS55LGQ9KDAsci5waWNrSW5SYW5nZSkodCwwLGMueCktZixoPSgwLHIucGlja0luUmFuZ2UpKGUsMCxjLnkpLXMsdj0oMCxyLmJ1aWxkQ3VydmUpKGQsbyksXz0oMCxyLmJ1aWxkQ3VydmUpKGgsbykscD12Lmxlbmd0aCx5PTAsYj1mdW5jdGlvbiB0KCl7bi5zZXRQb3NpdGlvbihmK3ZbeV0scytfW3ldKSx5KysseT09PXA/cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7aShuKX0pOmwuc2Nyb2xsVG89cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHQpfTtiKCl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19dmFyIG89big5MCksaT1yKG8pLHU9big3OCk7dS5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9OygwLGkuZGVmYXVsdCkoZSkuZm9yRWFjaChmdW5jdGlvbihuKXt0Lm9wdGlvbnMuaGFzT3duUHJvcGVydHkobikmJnZvaWQgMCE9PWVbbl0mJih0Lm9wdGlvbnNbbl09ZVtuXSl9KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX12YXIgbz1uKDEyNSksaT1yKG8pLHU9aS5kZWZhdWx0fHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSxhPW4oMTEyKSxjPW4oNzgpO2MuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLm9mZnNldC54LGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMub2Zmc2V0Lnksbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO3RoaXMuX19oaWRlVHJhY2tUaHJvdHRsZSgpO3ZhciByPXt9LG89dGhpcy5vcHRpb25zLGk9dGhpcy5vZmZzZXQsYz10aGlzLmxpbWl0LGw9dGhpcy50YXJnZXRzLGY9dGhpcy5fX2xpc3RlbmVycztvLnJlbmRlckJ5UGl4ZWxzJiYodD1NYXRoLnJvdW5kKHQpLGU9TWF0aC5yb3VuZChlKSksdCE9PWkueCYmdGhpcy5zaG93VHJhY2soXCJ4XCIpLGUhPT1pLnkmJnRoaXMuc2hvd1RyYWNrKFwieVwiKSx0PSgwLGEucGlja0luUmFuZ2UpKHQsMCxjLngpLGU9KDAsYS5waWNrSW5SYW5nZSkoZSwwLGMueSksdD09PWkueCYmZT09PWkueXx8KHIuZGlyZWN0aW9uPXt4OnQ9PT1pLng/XCJub25lXCI6dD5pLng/XCJyaWdodFwiOlwibGVmdFwiLHk6ZT09PWkueT9cIm5vbmVcIjplPmkueT9cImRvd25cIjpcInVwXCJ9LHRoaXMuX19yZWFkb25seShcIm9mZnNldFwiLHt4OnQseTplfSksci5saW1pdD11KHt9LGMpLHIub2Zmc2V0PXUoe30sdGhpcy5vZmZzZXQpLHRoaXMuX19zZXRUaHVtYlBvc2l0aW9uKCksKDAsYS5zZXRTdHlsZSkobC5jb250ZW50LHtcIi10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNkKFwiKy10K1wicHgsIFwiKy1lK1wicHgsIDApXCJ9KSxufHxmLmZvckVhY2goZnVuY3Rpb24odCl7by5zeW5jQ2FsbGJhY2tzP3Qocik6cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7dChyKX0pfSkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIG8odCxlLG4pe3JldHVybiBlIGluIHQ/KDAsYy5kZWZhdWx0KSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH1mdW5jdGlvbiBpKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOmYuU0hPVyxlPWRbdF07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiYm90aFwiLHI9dGhpcy5vcHRpb25zLG89dGhpcy5tb3ZlbWVudCxpPXRoaXMudGFyZ2V0cyx1PWkuY29udGFpbmVyLGE9aS54QXhpcyxjPWkueUF4aXM7by54fHxvLnk/dS5jbGFzc0xpc3QuYWRkKHMuQ09OVEFJTkVSKTp1LmNsYXNzTGlzdC5yZW1vdmUocy5DT05UQUlORVIpLHIuYWx3YXlzU2hvd1RyYWNrcyYmdD09PWYuSElERXx8KG49bi50b0xvd2VyQ2FzZSgpLFwiYm90aFwiPT09biYmKGEudHJhY2suY2xhc3NMaXN0W2VdKHMuVFJBQ0spLGMudHJhY2suY2xhc3NMaXN0W2VdKHMuVFJBQ0spKSxcInhcIj09PW4mJmEudHJhY2suY2xhc3NMaXN0W2VdKHMuVFJBQ0spLFwieVwiPT09biYmYy50cmFjay5jbGFzc0xpc3RbZV0ocy5UUkFDSykpfX12YXIgdSxhPW4oODYpLGM9cihhKSxsPW4oNzgpLGY9e1NIT1c6MCxISURFOjF9LHM9e1RSQUNLOlwic2hvd1wiLENPTlRBSU5FUjpcInNjcm9sbGluZ1wifSxkPSh1PXt9LG8odSxmLlNIT1csXCJhZGRcIiksbyh1LGYuSElERSxcInJlbW92ZVwiKSx1KTtsLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUuc2hvd1RyYWNrPWkoZi5TSE9XKSxsLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUuaGlkZVRyYWNrPWkoZi5ISURFKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXtpZihcImdsb3dcIj09PXRoaXMub3B0aW9ucy5vdmVyc2Nyb2xsRWZmZWN0KXt2YXIgdD10aGlzLnRhcmdldHMsZT10aGlzLnNpemUsbj10LmNhbnZhcyxyPW4uZWxlbSxvPW4uY29udGV4dCxpPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxLHU9ZS5jb250YWluZXIud2lkdGgqaSxhPWUuY29udGFpbmVyLmhlaWdodCppO3U9PT1yLndpZHRoJiZhPT09ci5oZWlnaHR8fChyLndpZHRoPXUsci5oZWlnaHQ9YSxvLnNjYWxlKGksaSkpfX1mdW5jdGlvbiBvKCl7dmFyIHQ9dGhpcy5zaXplLGU9dGhpcy50aHVtYlNpemUsbj10aGlzLnRhcmdldHMscj1uLnhBeGlzLG89bi55QXhpczsoMCx1LnNldFN0eWxlKShyLnRyYWNrLHtkaXNwbGF5OnQuY29udGVudC53aWR0aDw9dC5jb250YWluZXIud2lkdGg/XCJub25lXCI6XCJibG9ja1wifSksKDAsdS5zZXRTdHlsZSkoby50cmFjayx7ZGlzcGxheTp0LmNvbnRlbnQuaGVpZ2h0PD10LmNvbnRhaW5lci5oZWlnaHQ/XCJub25lXCI6XCJibG9ja1wifSksKDAsdS5zZXRTdHlsZSkoci50aHVtYix7d2lkdGg6ZS54K1wicHhcIn0pLCgwLHUuc2V0U3R5bGUpKG8udGh1bWIse2hlaWdodDplLnkrXCJweFwifSl9ZnVuY3Rpb24gaSgpe3ZhciB0PXRoaXMub3B0aW9uczt0aGlzLl9fdXBkYXRlQm91bmRpbmcoKTt2YXIgZT10aGlzLmdldFNpemUoKSxuPXt4Ok1hdGgubWF4KGUuY29udGVudC53aWR0aC1lLmNvbnRhaW5lci53aWR0aCwwKSx5Ok1hdGgubWF4KGUuY29udGVudC5oZWlnaHQtZS5jb250YWluZXIuaGVpZ2h0LDApfSxpPXtyZWFsWDplLmNvbnRhaW5lci53aWR0aC9lLmNvbnRlbnQud2lkdGgqZS5jb250YWluZXIud2lkdGgscmVhbFk6ZS5jb250YWluZXIuaGVpZ2h0L2UuY29udGVudC5oZWlnaHQqZS5jb250YWluZXIuaGVpZ2h0fTtpLng9TWF0aC5tYXgoaS5yZWFsWCx0LnRodW1iTWluU2l6ZSksaS55PU1hdGgubWF4KGkucmVhbFksdC50aHVtYk1pblNpemUpLHRoaXMuX19yZWFkb25seShcInNpemVcIixlKS5fX3JlYWRvbmx5KFwibGltaXRcIixuKS5fX3JlYWRvbmx5KFwidGh1bWJTaXplXCIsaSksby5jYWxsKHRoaXMpLHIuY2FsbCh0aGlzKSx0aGlzLnNldFBvc2l0aW9uKCksdGhpcy5fX3NldFRodW1iUG9zaXRpb24oKX12YXIgdT1uKDExMiksYT1uKDc4KTthLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3Q/cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGkuYmluZCh0aGlzKSk6aS5jYWxsKHRoaXMpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXZhciBvPW4oODYpLGk9cihvKSx1PW4oOTApLGE9cih1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYz1uKDE0Nik7KDAsYS5kZWZhdWx0KShjKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY1t0XX19KX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19dmFyIG89big4NiksaT1yKG8pLHU9big5MCksYT1yKHUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPW4oMTQ3KTsoMCxhLmRlZmF1bHQpKGMpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjW3RdfX0pfSk7dmFyIGw9bigxNDgpOygwLGEuZGVmYXVsdCkobCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdF19fSl9KTt2YXIgZj1uKDE0OSk7KDAsYS5kZWZhdWx0KShmKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZlt0XX19KX0pO3ZhciBzPW4oMTU0KTsoMCxhLmRlZmF1bHQpKHMpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzW3RdfX0pfSk7dmFyIGQ9bigxNTUpOygwLGEuZGVmYXVsdCkoZCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRbdF19fSl9KTt2YXIgaD1uKDE1Nik7KDAsYS5kZWZhdWx0KShoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaFt0XX19KX0pO3ZhciB2PW4oMTU3KTsoMCxhLmRlZmF1bHQpKHYpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB2W3RdfX0pfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBvKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZT0wLG49QXJyYXkodC5sZW5ndGgpO2U8dC5sZW5ndGg7ZSsrKW5bZV09dFtlXTtyZXR1cm4gbn1yZXR1cm4oMCxhLmRlZmF1bHQpKHQpfWZ1bmN0aW9uIGkoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxyPXRoaXMubGltaXQsaT10aGlzLm9wdGlvbnMsdT10aGlzLm1vdmVtZW50O3RoaXMuX191cGRhdGVUaHJvdHRsZSgpLGkucmVuZGVyQnlQaXhlbHMmJih0PU1hdGgucm91bmQodCksZT1NYXRoLnJvdW5kKGUpKTt2YXIgYT11LngrdCxsPXUueStlOzA9PT1yLngmJihhPTApLDA9PT1yLnkmJihsPTApO3ZhciBmPXRoaXMuX19nZXREZWx0YUxpbWl0KG4pO3UueD1jLnBpY2tJblJhbmdlLmFwcGx5KHZvaWQgMCxbYV0uY29uY2F0KG8oZi54KSkpLHUueT1jLnBpY2tJblJhbmdlLmFwcGx5KHZvaWQgMCxbbF0uY29uY2F0KG8oZi55KSkpfXZhciB1PW4oMiksYT1yKHUpLGM9bigxMTIpLGw9big3OCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGwuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fYWRkTW92ZW1lbnRcIix7dmFsdWU6aSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt2YXIgdD10aGlzLGU9dGhpcy5tb3ZlbWVudCxuPXRoaXMubW92ZW1lbnRMb2NrZWQ7YS5mb3JFYWNoKGZ1bmN0aW9uKHIpe25bcl09ZVtyXSYmdC5fX3dpbGxPdmVyc2Nyb2xsKHIsZVtyXSl9KX1mdW5jdGlvbiBvKCl7dmFyIHQ9dGhpcy5tb3ZlbWVudExvY2tlZDthLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT0hMX0pfWZ1bmN0aW9uIGkoKXt2YXIgdD10aGlzLm1vdmVtZW50TG9ja2VkO3JldHVybiB0Lnh8fHQueX12YXIgdT1uKDc4KSxhPVtcInhcIixcInlcIl07T2JqZWN0LmRlZmluZVByb3BlcnR5KHUuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fYXV0b0xvY2tNb3ZlbWVudFwiLHt2YWx1ZTpyLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUsXCJfX3VubG9ja01vdmVtZW50XCIse3ZhbHVlOm8sd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHUuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9faXNNb3ZlbWVudExvY2tlZFwiLHt2YWx1ZTppLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gbygpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcIlwiO2lmKHQpe3ZhciBlPXRoaXMub3B0aW9ucyxuPXRoaXMubW92ZW1lbnQscj10aGlzLm92ZXJzY3JvbGxSZW5kZXJlZCxvPXRoaXMuTUFYX09WRVJTQ1JPTEwsaT1uW3RdPSgwLGgucGlja0luUmFuZ2UpKG5bdF0sLW8sbyksdT1lLm92ZXJzY3JvbGxEYW1waW5nLGE9clt0XSsoaS1yW3RdKSp1O2UucmVuZGVyQnlQaXhlbHMmJihhfD0wKSwhdGhpcy5fX2lzTW92ZW1lbnRMb2NrZWQoKSYmTWF0aC5hYnMoYS1yW3RdKTwuMSYmKGEtPWkvTWF0aC5hYnMoaXx8MSkpLE1hdGguYWJzKGEpPE1hdGguYWJzKHJbdF0pJiZ0aGlzLl9fcmVhZG9ubHkoXCJvdmVyc2Nyb2xsQmFja1wiLCEwKSwoYSpyW3RdPDB8fE1hdGguYWJzKGEpPD0xKSYmKGE9MCx0aGlzLl9fcmVhZG9ubHkoXCJvdmVyc2Nyb2xsQmFja1wiLCExKSksclt0XT1hfX1mdW5jdGlvbiBpKHQpe3ZhciBlPXRoaXMuX190b3VjaFJlY29yZCxuPXRoaXMub3ZlcnNjcm9sbFJlbmRlcmVkO3JldHVybiBuLnghPT10Lnh8fG4ueSE9PXQueXx8ISghZC5HTE9CQUxfRU5WLlRPVUNIX1NVUFBPUlRFRHx8IWUudXBkYXRlZFJlY2VudGx5KCkpfWZ1bmN0aW9uIHUoKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdO2lmKGUubGVuZ3RoJiZ0aGlzLm9wdGlvbnMub3ZlcnNjcm9sbEVmZmVjdCl7dmFyIG49dGhpcy5vcHRpb25zLHI9dGhpcy5vdmVyc2Nyb2xsUmVuZGVyZWQsdT1sKHt9LHIpO2lmKGUuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gby5jYWxsKHQsZSl9KSxpLmNhbGwodGhpcyx1KSlzd2l0Y2gobi5vdmVyc2Nyb2xsRWZmZWN0KXtjYXNlXCJib3VuY2VcIjpyZXR1cm4gcy5vdmVyc2Nyb2xsQm91bmNlLmNhbGwodGhpcyxyLngsci55KTtjYXNlXCJnbG93XCI6cmV0dXJuIHMub3ZlcnNjcm9sbEdsb3cuY2FsbCh0aGlzLHIueCxyLnkpO2RlZmF1bHQ6cmV0dXJufX19dmFyIGE9bigxMjUpLGM9cihhKSxsPWMuZGVmYXVsdHx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH0sZj1uKDc4KSxzPW4oMTUwKSxkPW4oODkpLGg9bigxMTIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShmLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUsXCJfX3JlbmRlck92ZXJzY3JvbGxcIix7dmFsdWU6dSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXZhciBvPW4oODYpLGk9cihvKSx1PW4oOTApLGE9cih1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYz1uKDE1MSk7KDAsYS5kZWZhdWx0KShjKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY1t0XX19KX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19dmFyIG89big4NiksaT1yKG8pLHU9big5MCksYT1yKHUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPW4oMTUyKTsoMCxhLmRlZmF1bHQpKGMpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjW3RdfX0pfSk7dmFyIGw9bigxNTMpOygwLGEuZGVmYXVsdCkobCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdF19fSl9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXt2YXIgbj10aGlzLnNpemUscj10aGlzLm9mZnNldCxpPXRoaXMudGFyZ2V0cyx1PXRoaXMudGh1bWJPZmZzZXQsYT1pLnhBeGlzLGM9aS55QXhpcyxsPWkuY29udGVudDtpZigoMCxvLnNldFN0eWxlKShsLHtcIi10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNkKFwiKy0oci54K3QpK1wicHgsIFwiKy0oci55K2UpK1wicHgsIDApXCJ9KSx0KXt2YXIgZj1uLmNvbnRhaW5lci53aWR0aC8obi5jb250YWluZXIud2lkdGgrTWF0aC5hYnModCkpOygwLG8uc2V0U3R5bGUpKGEudGh1bWIse1wiLXRyYW5zZm9ybVwiOlwidHJhbnNsYXRlM2QoXCIrdS54K1wicHgsIDAsIDApIHNjYWxlM2QoXCIrZitcIiwgMSwgMSlcIixcIi10cmFuc2Zvcm0tb3JpZ2luXCI6dDwwP1wibGVmdFwiOlwicmlnaHRcIn0pfWlmKGUpe3ZhciBzPW4uY29udGFpbmVyLmhlaWdodC8obi5jb250YWluZXIuaGVpZ2h0K01hdGguYWJzKGUpKTsoMCxvLnNldFN0eWxlKShjLnRodW1iLHtcIi10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNkKDAsIFwiK3UueStcInB4LCAwKSBzY2FsZTNkKDEsIFwiK3MrXCIsIDEpXCIsXCItdHJhbnNmb3JtLW9yaWdpblwiOmU8MD9cInRvcFwiOlwiYm90dG9tXCJ9KX19T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5vdmVyc2Nyb2xsQm91bmNlPXI7dmFyIG89bigxMTIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3ZhciBuPXRoaXMuc2l6ZSxyPXRoaXMudGFyZ2V0cyxhPXRoaXMub3B0aW9ucyxjPXIuY2FudmFzLGw9Yy5lbGVtLGY9Yy5jb250ZXh0O3JldHVybiB0fHxlPygoMCx1LnNldFN0eWxlKShsLHtkaXNwbGF5OlwiYmxvY2tcIn0pLGYuY2xlYXJSZWN0KDAsMCxuLmNvbnRlbnQud2lkdGgsbi5jb250YWluZXIuaGVpZ2h0KSxmLmZpbGxTdHlsZT1hLm92ZXJzY3JvbGxFZmZlY3RDb2xvcixvLmNhbGwodGhpcyx0KSx2b2lkIGkuY2FsbCh0aGlzLGUpKTooMCx1LnNldFN0eWxlKShsLHtkaXNwbGF5Olwibm9uZVwifSl9ZnVuY3Rpb24gbyh0KXt2YXIgZT10aGlzLnNpemUsbj10aGlzLnRhcmdldHMscj10aGlzLl9fdG91Y2hSZWNvcmQsbz10aGlzLk1BWF9PVkVSU0NST0xMLGk9ZS5jb250YWluZXIsbD1pLndpZHRoLGY9aS5oZWlnaHQscz1uLmNhbnZhcy5jb250ZXh0O3Muc2F2ZSgpLHQ+MCYmcy50cmFuc2Zvcm0oLTEsMCwwLDEsbCwwKTt2YXIgZD0oMCx1LnBpY2tJblJhbmdlKShNYXRoLmFicyh0KS9vLDAsYSksaD0oMCx1LnBpY2tJblJhbmdlKShkLDAsYykqbCx2PU1hdGguYWJzKHQpLF89ci5nZXRMYXN0UG9zaXRpb24oXCJ5XCIpfHxmLzI7cy5nbG9iYWxBbHBoYT1kLHMuYmVnaW5QYXRoKCkscy5tb3ZlVG8oMCwtaCkscy5xdWFkcmF0aWNDdXJ2ZVRvKHYsXywwLGYraCkscy5maWxsKCkscy5jbG9zZVBhdGgoKSxzLnJlc3RvcmUoKX1mdW5jdGlvbiBpKHQpe3ZhciBlPXRoaXMuc2l6ZSxuPXRoaXMudGFyZ2V0cyxyPXRoaXMuX190b3VjaFJlY29yZCxvPXRoaXMuTUFYX09WRVJTQ1JPTEwsaT1lLmNvbnRhaW5lcixsPWkud2lkdGgsZj1pLmhlaWdodCxzPW4uY2FudmFzLmNvbnRleHQ7cy5zYXZlKCksdD4wJiZzLnRyYW5zZm9ybSgxLDAsMCwtMSwwLGYpO3ZhciBkPSgwLHUucGlja0luUmFuZ2UpKE1hdGguYWJzKHQpL28sMCxhKSxoPSgwLHUucGlja0luUmFuZ2UpKGQsMCxjKSpsLHY9ci5nZXRMYXN0UG9zaXRpb24oXCJ4XCIpfHxsLzIsXz1NYXRoLmFicyh0KTtzLmdsb2JhbEFscGhhPWQscy5iZWdpblBhdGgoKSxzLm1vdmVUbygtaCwwKSxzLnF1YWRyYXRpY0N1cnZlVG8odixfLGwraCwwKSxzLmZpbGwoKSxzLmNsb3NlUGF0aCgpLHMucmVzdG9yZSgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUub3ZlcnNjcm9sbEdsb3c9cjt2YXIgdT1uKDExMiksYT0uNzUsYz0uMjV9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3ZhciBlPXRoaXMub3B0aW9ucyxuPXRoaXMub2Zmc2V0LHI9dGhpcy5tb3ZlbWVudCxvPXRoaXMuX190b3VjaFJlY29yZCxpPWUuZGFtcGluZyx1PWUucmVuZGVyQnlQaXhlbHMsYT1lLm92ZXJzY3JvbGxEYW1waW5nLGM9blt0XSxsPXJbdF0sZj1pO2lmKHRoaXMuX193aWxsT3ZlcnNjcm9sbCh0LGwpP2Y9YTpvLmlzQWN0aXZlKCkmJihmPS41KSxNYXRoLmFicyhsKTwxKXt2YXIgcz1jK2w7cmV0dXJue21vdmVtZW50OjAscG9zaXRpb246bD4wP01hdGguY2VpbChzKTpNYXRoLmZsb29yKHMpfX12YXIgZD1sKigxLWYpO3JldHVybiB1JiYoZHw9MCkse21vdmVtZW50OmQscG9zaXRpb246YytsLWR9fWZ1bmN0aW9uIG8oKXt2YXIgdD10aGlzLm9wdGlvbnMsZT10aGlzLm9mZnNldCxuPXRoaXMubGltaXQsaT10aGlzLm1vdmVtZW50LGE9dGhpcy5vdmVyc2Nyb2xsUmVuZGVyZWQsYz10aGlzLl9fdGltZXJJRDtpZihpLnh8fGkueXx8YS54fHxhLnkpe3ZhciBsPXIuY2FsbCh0aGlzLFwieFwiKSxmPXIuY2FsbCh0aGlzLFwieVwiKSxzPVtdO2lmKHQub3ZlcnNjcm9sbEVmZmVjdCl7dmFyIGQ9KDAsdS5waWNrSW5SYW5nZSkobC5wb3NpdGlvbiwwLG4ueCksaD0oMCx1LnBpY2tJblJhbmdlKShmLnBvc2l0aW9uLDAsbi55KTsoYS54fHxkPT09ZS54JiZpLngpJiZzLnB1c2goXCJ4XCIpLChhLnl8fGg9PT1lLnkmJmkueSkmJnMucHVzaChcInlcIil9dGhpcy5tb3ZlbWVudExvY2tlZC54fHwoaS54PWwubW92ZW1lbnQpLHRoaXMubW92ZW1lbnRMb2NrZWQueXx8KGkueT1mLm1vdmVtZW50KSx0aGlzLnNldFBvc2l0aW9uKGwucG9zaXRpb24sZi5wb3NpdGlvbiksdGhpcy5fX3JlbmRlck92ZXJzY3JvbGwocyl9Yy5yZW5kZXI9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKG8uYmluZCh0aGlzKSl9dmFyIGk9big3OCksdT1uKDExMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fcmVuZGVyXCIse3ZhbHVlOm8sd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBvKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZT0wLG49QXJyYXkodC5sZW5ndGgpO2U8dC5sZW5ndGg7ZSsrKW5bZV09dFtlXTtyZXR1cm4gbn1yZXR1cm4oMCxhLmRlZmF1bHQpKHQpfWZ1bmN0aW9uIGkoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxyPXRoaXMub3B0aW9ucyxpPXRoaXMubW92ZW1lbnQ7dGhpcy5fX3VwZGF0ZVRocm90dGxlKCk7dmFyIHU9dGhpcy5fX2dldERlbHRhTGltaXQobik7ci5yZW5kZXJCeVBpeGVscyYmKHQ9TWF0aC5yb3VuZCh0KSxlPU1hdGgucm91bmQoZSkpLGkueD1jLnBpY2tJblJhbmdlLmFwcGx5KHZvaWQgMCxbdF0uY29uY2F0KG8odS54KSkpLGkueT1jLnBpY2tJblJhbmdlLmFwcGx5KHZvaWQgMCxbZV0uY29uY2F0KG8odS55KSkpfXZhciB1PW4oMiksYT1yKHUpLGM9bigxMTIpLGw9big3OCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGwuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fc2V0TW92ZW1lbnRcIix7dmFsdWU6aSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49dGhpcy5vcHRpb25zLHI9dGhpcy5vZmZzZXQsbz10aGlzLmxpbWl0O2lmKCFuLmNvbnRpbnVvdXNTY3JvbGxpbmcpcmV0dXJuITE7dmFyIHU9KDAsaS5waWNrSW5SYW5nZSkodCtyLngsMCxvLngpLGE9KDAsaS5waWNrSW5SYW5nZSkoZStyLnksMCxvLnkpLGM9ITA7cmV0dXJuIGMmPXU9PT1yLngsYyY9YT09PXIueSxjJj11PT09by54fHwwPT09dXx8YT09PW8ueXx8MD09PWF9dmFyIG89big3OCksaT1uKDExMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fc2hvdWxkUHJvcGFnYXRlTW92ZW1lbnRcIix7dmFsdWU6cix3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJcIixlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO2lmKCF0KXJldHVybiExO3ZhciBuPXRoaXMub2Zmc2V0LHI9dGhpcy5saW1pdCxvPW5bdF07cmV0dXJuKDAsaS5waWNrSW5SYW5nZSkoZStvLDAsclt0XSk9PT1vJiYoMD09PW98fG89PT1yW3RdKX12YXIgbz1uKDc4KSxpPW4oMTEyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoby5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX193aWxsT3ZlcnNjcm9sbFwiLHt2YWx1ZTpyLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19dmFyIG89big4NiksaT1yKG8pLHU9big5MCksYT1yKHUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPW4oMTU5KTsoMCxhLmRlZmF1bHQpKGMpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjW3RdfX0pfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX12YXIgbz1uKDg2KSxpPXIobyksdT1uKDkwKSxhPXIodSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGM9bigxNjApOygwLGEuZGVmYXVsdCkoYykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNbdF19fSl9KTt2YXIgbD1uKDE2MSk7KDAsYS5kZWZhdWx0KShsKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt0XX19KX0pO3ZhciBmPW4oMTY4KTsoMCxhLmRlZmF1bHQpKGYpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmW3RdfX0pfSk7dmFyIHM9bigxNjkpOygwLGEuZGVmYXVsdCkocykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHNbdF19fSl9KTt2YXIgZD1uKDE3MCk7KDAsYS5kZWZhdWx0KShkKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZFt0XX19KX0pO3ZhciBoPW4oMTcxKTsoMCxhLmRlZmF1bHQpKGgpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoW3RdfX0pfSk7dmFyIHY9bigxNzIpOygwLGEuZGVmYXVsdCkodikuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZbdF19fSl9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt2YXIgdD10aGlzLGU9dGhpcy50YXJnZXRzLG49ZS5jb250YWluZXIscj1lLmNvbnRlbnQsbz0hMSx1PXZvaWQgMCxhPXZvaWQgMDtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIl9faXNEcmFnXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBvfSxlbnVtZXJhYmxlOiExfSk7dmFyIGM9ZnVuY3Rpb24gZShuKXt2YXIgcj1uLngsbz1uLnk7aWYocnx8byl7dmFyIGk9dC5vcHRpb25zLnNwZWVkO3QuX19zZXRNb3ZlbWVudChyKmksbyppKSx1PXJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2Uoe3g6cix5Om99KX0pfX07dGhpcy5fX2FkZEV2ZW50KG4sXCJkcmFnc3RhcnRcIixmdW5jdGlvbihlKXt0Ll9fZXZlbnRGcm9tQ2hpbGRTY3JvbGxiYXIoZSl8fChvPSEwLGE9ZS50YXJnZXQuY2xpZW50SGVpZ2h0LCgwLGkuc2V0U3R5bGUpKHIse1wicG9pbnRlci1ldmVudHNcIjpcImF1dG9cIn0pLGNhbmNlbEFuaW1hdGlvbkZyYW1lKHUpLHQuX191cGRhdGVCb3VuZGluZygpKX0pLHRoaXMuX19hZGRFdmVudChkb2N1bWVudCxcImRyYWdvdmVyIG1vdXNlbW92ZSB0b3VjaG1vdmVcIixmdW5jdGlvbihlKXtpZihvJiYhdC5fX2V2ZW50RnJvbUNoaWxkU2Nyb2xsYmFyKGUpKXtjYW5jZWxBbmltYXRpb25GcmFtZSh1KSxlLnByZXZlbnREZWZhdWx0KCk7dmFyIG49dC5fX2dldFBvaW50ZXJUcmVuZChlLGEpO2Mobil9fSksdGhpcy5fX2FkZEV2ZW50KGRvY3VtZW50LFwiZHJhZ2VuZCBtb3VzZXVwIHRvdWNoZW5kIGJsdXJcIixmdW5jdGlvbigpe2NhbmNlbEFuaW1hdGlvbkZyYW1lKHUpLG89ITF9KX12YXIgbz1uKDc4KSxpPW4oMTEyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoby5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX19kcmFnSGFuZGxlclwiLHt2YWx1ZTpyLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gbygpe3ZhciB0PXRoaXMsZT10aGlzLnRhcmdldHMsbj1mdW5jdGlvbihlKXt2YXIgbj10LnNpemUscj10Lm9mZnNldCxvPXQubGltaXQsaT10Lm1vdmVtZW50O3N3aXRjaChlKXtjYXNlIHMuU1BBQ0U6cmV0dXJuWzAsMjAwXTtjYXNlIHMuUEFHRV9VUDpyZXR1cm5bMCwtbi5jb250YWluZXIuaGVpZ2h0KzQwXTtjYXNlIHMuUEFHRV9ET1dOOnJldHVyblswLG4uY29udGFpbmVyLmhlaWdodC00MF07Y2FzZSBzLkVORDpyZXR1cm5bMCxNYXRoLmFicyhpLnkpK28ueS1yLnldO2Nhc2Ugcy5IT01FOnJldHVyblswLC1NYXRoLmFicyhpLnkpLXIueV07Y2FzZSBzLkxFRlQ6cmV0dXJuWy00MCwwXTtjYXNlIHMuVVA6cmV0dXJuWzAsLTQwXTtjYXNlIHMuUklHSFQ6cmV0dXJuWzQwLDBdO2Nhc2Ugcy5ET1dOOnJldHVyblswLDQwXTtkZWZhdWx0OnJldHVybiBudWxsfX0scj1lLmNvbnRhaW5lcjt0aGlzLl9fYWRkRXZlbnQocixcImtleWRvd25cIixmdW5jdGlvbihlKXtpZihkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09cil7dmFyIG89dC5vcHRpb25zLGk9dC5wYXJlbnRzLHU9dC5tb3ZlbWVudExvY2tlZCxhPW4oZS5rZXlDb2RlfHxlLndoaWNoKTtpZihhKXt2YXIgYz1sKGEsMiksZj1jWzBdLHM9Y1sxXTtpZih0Ll9fc2hvdWxkUHJvcGFnYXRlTW92ZW1lbnQoZixzKSlyZXR1cm4gci5ibHVyKCksaS5sZW5ndGgmJmlbMF0uZm9jdXMoKSx0Ll9fdXBkYXRlVGhyb3R0bGUoKTtlLnByZXZlbnREZWZhdWx0KCksdC5fX3VubG9ja01vdmVtZW50KCksZiYmdC5fX3dpbGxPdmVyc2Nyb2xsKFwieFwiLGYpJiYodS54PSEwKSxzJiZ0Ll9fd2lsbE92ZXJzY3JvbGwoXCJ5XCIscykmJih1Lnk9ITApO3ZhciBkPW8uc3BlZWQ7dC5fX2FkZE1vdmVtZW50KGYqZCxzKmQpfX19KSx0aGlzLl9fYWRkRXZlbnQocixcImtleXVwXCIsZnVuY3Rpb24oKXt0Ll9fdW5sb2NrTW92ZW1lbnQoKX0pfXZhciBpPW4oMTYyKSx1PXIoaSksYT1uKDE2NSksYz1yKGEpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIG49W10scj0hMCxvPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIHUsYT0oMCxjLmRlZmF1bHQpKHQpOyEocj0odT1hLm5leHQoKSkuZG9uZSkmJihuLnB1c2godS52YWx1ZSksIWV8fG4ubGVuZ3RoIT09ZSk7cj0hMCk7fWNhdGNoKHQpe289ITAsaT10fWZpbmFsbHl7dHJ5eyFyJiZhLnJldHVybiYmYS5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgaX19cmV0dXJuIG59cmV0dXJuIGZ1bmN0aW9uKGUsbil7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTtpZigoMCx1LmRlZmF1bHQpKE9iamVjdChlKSkpcmV0dXJuIHQoZSxuKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKX19KCksZj1uKDc4KSxzPXtTUEFDRTozMixQQUdFX1VQOjMzLFBBR0VfRE9XTjozNCxFTkQ6MzUsSE9NRTozNixMRUZUOjM3LFVQOjM4LFJJR0hUOjM5LERPV046NDB9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShmLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUsXCJfX2tleWJvYXJkSGFuZGxlclwiLHt2YWx1ZTpvLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtkZWZhdWx0Om4oMTYzKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe24oNTcpLG4oNCksdC5leHBvcnRzPW4oMTY0KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTMpLG89big0NSkoXCJpdGVyYXRvclwiKSxpPW4oMjcpO3QuZXhwb3J0cz1uKDEyKS5pc0l0ZXJhYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdCh0KTtyZXR1cm4gdm9pZCAwIT09ZVtvXXx8XCJAQGl0ZXJhdG9yXCJpbiBlfHxpLmhhc093blByb3BlcnR5KHIoZSkpfX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17ZGVmYXVsdDpuKDE2NiksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXtuKDU3KSxuKDQpLHQuZXhwb3J0cz1uKDE2Nyl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE3KSxvPW4oNTIpO3QuZXhwb3J0cz1uKDEyKS5nZXRJdGVyYXRvcj1mdW5jdGlvbih0KXt2YXIgZT1vKHQpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGl0ZXJhYmxlIVwiKTtyZXR1cm4gcihlLmNhbGwodCkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt2YXIgdD10aGlzLGU9dGhpcy50YXJnZXRzLG49ZS5jb250YWluZXIscj1lLnhBeGlzLG89ZS55QXhpcyx1PWZ1bmN0aW9uKGUsbil7dmFyIHI9dC5zaXplLG89dC50aHVtYlNpemU7aWYoXCJ4XCI9PT1lKXt2YXIgaT1yLmNvbnRhaW5lci53aWR0aC0oby54LW8ucmVhbFgpO3JldHVybiBuL2kqci5jb250ZW50LndpZHRofWlmKFwieVwiPT09ZSl7dmFyIHU9ci5jb250YWluZXIuaGVpZ2h0LShvLnktby5yZWFsWSk7cmV0dXJuIG4vdSpyLmNvbnRlbnQuaGVpZ2h0fXJldHVybiAwfSxhPWZ1bmN0aW9uKHQpe3JldHVybigwLGkuaXNPbmVPZikodCxbci50cmFjayxyLnRodW1iXSk/XCJ4XCI6KDAsaS5pc09uZU9mKSh0LFtvLnRyYWNrLG8udGh1bWJdKT9cInlcIjp2b2lkIDB9LGM9dm9pZCAwLGw9dm9pZCAwLGY9dm9pZCAwLHM9dm9pZCAwLGQ9dm9pZCAwO3RoaXMuX19hZGRFdmVudChuLFwiY2xpY2tcIixmdW5jdGlvbihlKXtpZighbCYmKDAsaS5pc09uZU9mKShlLnRhcmdldCxbci50cmFjayxvLnRyYWNrXSkpe3ZhciBuPWUudGFyZ2V0LGM9YShuKSxmPW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscz0oMCxpLmdldFBvc2l0aW9uKShlKSxkPXQub2Zmc2V0LGg9dC50aHVtYlNpemU7XG5pZihcInhcIj09PWMpe3ZhciB2PXMueC1mLmxlZnQtaC54LzI7dC5fX3NldE1vdmVtZW50KHUoYyx2KS1kLngsMCl9ZWxzZXt2YXIgXz1zLnktZi50b3AtaC55LzI7dC5fX3NldE1vdmVtZW50KDAsdShjLF8pLWQueSl9fX0pLHRoaXMuX19hZGRFdmVudChuLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZSl7aWYoKDAsaS5pc09uZU9mKShlLnRhcmdldCxbci50aHVtYixvLnRodW1iXSkpe2M9ITA7dmFyIG49KDAsaS5nZXRQb3NpdGlvbikoZSksdT1lLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtzPWEoZS50YXJnZXQpLGY9e3g6bi54LXUubGVmdCx5Om4ueS11LnRvcH0sZD10LnRhcmdldHMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfX0pLHRoaXMuX19hZGRFdmVudCh3aW5kb3csXCJtb3VzZW1vdmVcIixmdW5jdGlvbihlKXtpZihjKXtlLnByZXZlbnREZWZhdWx0KCksbD0hMDt2YXIgbj10Lm9mZnNldCxyPSgwLGkuZ2V0UG9zaXRpb24pKGUpO2lmKFwieFwiPT09cyl7dmFyIG89ci54LWYueC1kLmxlZnQ7dC5zZXRQb3NpdGlvbih1KHMsbyksbi55KX1pZihcInlcIj09PXMpe3ZhciBhPXIueS1mLnktZC50b3A7dC5zZXRQb3NpdGlvbihuLngsdShzLGEpKX19fSksdGhpcy5fX2FkZEV2ZW50KHdpbmRvdyxcIm1vdXNldXAgYmx1clwiLGZ1bmN0aW9uKCl7Yz1sPSExfSl9dmFyIG89big3OCksaT1uKDExMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fbW91c2VIYW5kbGVyXCIse3ZhbHVlOnIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKCl7dGhpcy5fX2FkZEV2ZW50KHdpbmRvdyxcInJlc2l6ZVwiLHRoaXMuX191cGRhdGVUaHJvdHRsZSl9dmFyIG89big3OCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fcmVzaXplSGFuZGxlclwiLHt2YWx1ZTpyLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3ZhciB0PXRoaXMsZT0hMSxuPXZvaWQgMCxyPXRoaXMudGFyZ2V0cyxvPXIuY29udGFpbmVyLHU9ci5jb250ZW50LGE9ZnVuY3Rpb24gZShyKXt2YXIgbz1yLngsaT1yLnk7aWYob3x8aSl7dmFyIHU9dC5vcHRpb25zLnNwZWVkO3QuX19zZXRNb3ZlbWVudChvKnUsaSp1KSxuPXJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2Uoe3g6byx5Oml9KX0pfX0sYz1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcIlwiOygwLGkuc2V0U3R5bGUpKG8se1wiLXVzZXItc2VsZWN0XCI6dH0pfTt0aGlzLl9fYWRkRXZlbnQod2luZG93LFwibW91c2Vtb3ZlXCIsZnVuY3Rpb24ocil7aWYoZSl7Y2FuY2VsQW5pbWF0aW9uRnJhbWUobik7dmFyIG89dC5fX2dldFBvaW50ZXJUcmVuZChyKTthKG8pfX0pLHRoaXMuX19hZGRFdmVudCh1LFwic2VsZWN0c3RhcnRcIixmdW5jdGlvbihyKXtyZXR1cm4gdC5fX2V2ZW50RnJvbUNoaWxkU2Nyb2xsYmFyKHIpP2MoXCJub25lXCIpOihjYW5jZWxBbmltYXRpb25GcmFtZShuKSx0Ll9fdXBkYXRlQm91bmRpbmcoKSx2b2lkKGU9ITApKX0pLHRoaXMuX19hZGRFdmVudCh3aW5kb3csXCJtb3VzZXVwIGJsdXJcIixmdW5jdGlvbigpe2NhbmNlbEFuaW1hdGlvbkZyYW1lKG4pLGMoKSxlPSExfSksdGhpcy5fX2FkZEV2ZW50KG8sXCJzY3JvbGxcIixmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksby5zY3JvbGxUb3A9by5zY3JvbGxMZWZ0PTB9KX12YXIgbz1uKDc4KSxpPW4oMTEyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoby5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX19zZWxlY3RIYW5kbGVyXCIse3ZhbHVlOnIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBvKCl7dmFyIHQ9dGhpcyxlPXRoaXMudGFyZ2V0cyxuPXRoaXMuX190b3VjaFJlY29yZCxyPWUuY29udGFpbmVyO3RoaXMuX19hZGRFdmVudChyLFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKGUpe2lmKCF0Ll9faXNEcmFnKXt2YXIgcj10Ll9fdGltZXJJRCxvPXQubW92ZW1lbnQ7Y2FuY2VsQW5pbWF0aW9uRnJhbWUoci5zY3JvbGxUbyksdC5fX3dpbGxPdmVyc2Nyb2xsKFwieFwiKXx8KG8ueD0wKSx0Ll9fd2lsbE92ZXJzY3JvbGwoXCJ5XCIpfHwoby55PTApLG4udHJhY2soZSksdC5fX2F1dG9Mb2NrTW92ZW1lbnQoKX19KSx0aGlzLl9fYWRkRXZlbnQocixcInRvdWNobW92ZVwiLGZ1bmN0aW9uKGUpe2lmKCEodC5fX2lzRHJhZ3x8cyYmcyE9PXQpKXtuLnVwZGF0ZShlKTt2YXIgcj1uLmdldERlbHRhKCksbz1yLngsaT1yLnk7aWYodC5fX3Nob3VsZFByb3BhZ2F0ZU1vdmVtZW50KG8saSkpcmV0dXJuIHQuX191cGRhdGVUaHJvdHRsZSgpO3ZhciB1PXQubW92ZW1lbnQsYT10Lk1BWF9PVkVSU0NST0xMLGM9dC5vcHRpb25zO2lmKHUueCYmdC5fX3dpbGxPdmVyc2Nyb2xsKFwieFwiLG8pKXt2YXIgbD0yO1wiYm91bmNlXCI9PT1jLm92ZXJzY3JvbGxFZmZlY3QmJihsKz1NYXRoLmFicygxMCp1LngvYSkpLE1hdGguYWJzKHUueCk+PWE/bz0wOm8vPWx9aWYodS55JiZ0Ll9fd2lsbE92ZXJzY3JvbGwoXCJ5XCIsaSkpe3ZhciBmPTI7XCJib3VuY2VcIj09PWMub3ZlcnNjcm9sbEVmZmVjdCYmKGYrPU1hdGguYWJzKDEwKnUueS9hKSksTWF0aC5hYnModS55KT49YT9pPTA6aS89Zn10Ll9fYXV0b0xvY2tNb3ZlbWVudCgpLGUucHJldmVudERlZmF1bHQoKSx0Ll9fYWRkTW92ZW1lbnQobyxpLCEwKSxzPXR9fSksdGhpcy5fX2FkZEV2ZW50KHIsXCJ0b3VjaGNhbmNlbCB0b3VjaGVuZFwiLGZ1bmN0aW9uKGUpe2lmKCF0Ll9faXNEcmFnKXt2YXIgcj10Lm9wdGlvbnMuc3BlZWQsbz1uLmdldFZlbG9jaXR5KCksaT17fTsoMCx1LmRlZmF1bHQpKG8pLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9KDAsbC5waWNrSW5SYW5nZSkob1t0XSpjLkdMT0JBTF9FTlYuRUFTSU5HX01VTFRJUExJRVIsLTFlMywxZTMpO2lbdF09TWF0aC5hYnMoZSk+Zj9lKnI6MH0pLHQuX19hZGRNb3ZlbWVudChpLngsaS55LCEwKSx0Ll9fdW5sb2NrTW92ZW1lbnQoKSxuLnJlbGVhc2UoZSkscz1udWxsfX0pfXZhciBpPW4oOTApLHU9cihpKSxhPW4oNzgpLGM9big4OSksbD1uKDExMiksZj0xMDAscz1udWxsO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUsXCJfX3RvdWNoSGFuZGxlclwiLHt2YWx1ZTpvLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3ZhciB0PXRoaXMsZT10aGlzLnRhcmdldHMuY29udGFpbmVyLG49ITEscj0oMCxpLmRlYm91bmNlKShmdW5jdGlvbigpe249ITF9LDMwLCExKTt0aGlzLl9fYWRkRXZlbnQoZSx1LkdMT0JBTF9FTlYuV0hFRUxfRVZFTlQsZnVuY3Rpb24oZSl7dmFyIG89dC5vcHRpb25zLHU9KDAsaS5nZXREZWx0YSkoZSksYT11LngsYz11Lnk7cmV0dXJuIGEqPW8uc3BlZWQsYyo9by5zcGVlZCx0Ll9fc2hvdWxkUHJvcGFnYXRlTW92ZW1lbnQoYSxjKT90Ll9fdXBkYXRlVGhyb3R0bGUoKTooZS5wcmV2ZW50RGVmYXVsdCgpLHIoKSx0Lm92ZXJzY3JvbGxCYWNrJiYobj0hMCksbiYmKHQuX193aWxsT3ZlcnNjcm9sbChcInhcIixhKSYmKGE9MCksdC5fX3dpbGxPdmVyc2Nyb2xsKFwieVwiLGMpJiYoYz0wKSksdm9pZCB0Ll9fYWRkTW92ZW1lbnQoYSxjLCEwKSl9KX12YXIgbz1uKDc4KSxpPW4oMTEyKSx1PW4oODkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShvLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUsXCJfX3doZWVsSGFuZGxlclwiLHt2YWx1ZTpyLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19dmFyIG89big4NiksaT1yKG8pLHU9big5MCksYT1yKHUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPW4oMTc0KTsoMCxhLmRlZmF1bHQpKGMpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjW3RdfX0pfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX12YXIgbz1uKDg2KSxpPXIobyksdT1uKDkwKSxhPXIodSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGM9bigxNzUpOygwLGEuZGVmYXVsdCkoYykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNbdF19fSl9KTt2YXIgbD1uKDE3Nik7KDAsYS5kZWZhdWx0KShsKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt0XX19KX0pO3ZhciBmPW4oMTc3KTsoMCxhLmRlZmF1bHQpKGYpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmW3RdfX0pfSk7dmFyIHM9bigxNzgpOygwLGEuZGVmYXVsdCkocykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHNbdF19fSl9KTt2YXIgZD1uKDE3OSk7KDAsYS5kZWZhdWx0KShkKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZFt0XX19KX0pO3ZhciBoPW4oMTgyKTsoMCxhLmRlZmF1bHQpKGgpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoW3RdfX0pfSk7dmFyIHY9bigxODMpOygwLGEuZGVmYXVsdCkodikuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZbdF19fSl9KTt2YXIgXz1uKDE4NCk7KDAsYS5kZWZhdWx0KShfKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpLmRlZmF1bHQpKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gX1t0XX19KX0pO3ZhciBwPW4oMTg1KTsoMCxhLmRlZmF1bHQpKHApLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGkuZGVmYXVsdCkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwW3RdfX0pfSk7dmFyIHk9bigxODYpOygwLGEuZGVmYXVsdCkoeSkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaS5kZWZhdWx0KShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHlbdF19fSl9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4pe3ZhciByPXRoaXM7aWYoIXR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuYWRkRXZlbnRMaXN0ZW5lcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0IGVsZW0gdG8gYmUgYSBET00gZWxlbWVudCwgYnV0IGdvdCBcIit0KTt2YXIgbz1mdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxyPUFycmF5KGU+MT9lLTE6MCksbz0xO288ZTtvKyspcltvLTFdPWFyZ3VtZW50c1tvXTshdC50eXBlLm1hdGNoKC9kcmFnLykmJnQuZGVmYXVsdFByZXZlbnRlZHx8bi5hcHBseSh2b2lkIDAsW3RdLmNvbmNhdChyKSl9O2Uuc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbihlKXtyLl9faGFuZGxlcnMucHVzaCh7ZXZ0OmUsZWxlbTp0LGZuOm8saGFzUmVnaXN0ZXJlZDohMH0pLHQuYWRkRXZlbnRMaXN0ZW5lcihlLG8pfSl9dmFyIG89big3OCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fYWRkRXZlbnRcIix7dmFsdWU6cix3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LnRhcmdldDtyZXR1cm4gdGhpcy5jaGlsZHJlbi5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnRhaW5zKGUpfSl9dmFyIG89big3OCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fZXZlbnRGcm9tQ2hpbGRTY3JvbGxiYXJcIix7dmFsdWU6cix3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLGU9dGhpcy5vcHRpb25zLG49dGhpcy5vZmZzZXQscj10aGlzLmxpbWl0O3JldHVybiB0JiYoZS5jb250aW51b3VzU2Nyb2xsaW5nfHxlLm92ZXJzY3JvbGxFZmZlY3QpP3t4OlstKDEvMCksMS8wXSx5OlstKDEvMCksMS8wXX06e3g6Wy1uLngsci54LW4ueF0seTpbLW4ueSxyLnktbi55XX19dmFyIG89big3OCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fZ2V0RGVsdGFMaW1pdFwiLHt2YWx1ZTpyLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPXRoaXMuYm91bmRpbmcscj1uLnRvcCxvPW4ucmlnaHQsdT1uLmJvdHRvbSxhPW4ubGVmdCxjPSgwLGkuZ2V0UG9zaXRpb24pKHQpLGw9Yy54LGY9Yy55LHM9e3g6MCx5OjB9O3JldHVybiAwPT09bCYmMD09PWY/czoobD5vLWU/cy54PWwtbytlOmw8YStlJiYocy54PWwtYS1lKSxmPnUtZT9zLnk9Zi11K2U6ZjxyK2UmJihzLnk9Zi1yLWUpLHMpfXZhciBvPW4oNzgpLGk9bigxMTIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShvLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUsXCJfX2dldFBvaW50ZXJUcmVuZFwiLHt2YWx1ZTpyLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gbyh0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPUFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59cmV0dXJuKDAsaC5kZWZhdWx0KSh0KX1mdW5jdGlvbiBpKHQpe3ZhciBlPXRoaXMsbj17c3BlZWQ6MSxkYW1waW5nOi4xLHRodW1iTWluU2l6ZToyMCxzeW5jQ2FsbGJhY2tzOiExLHJlbmRlckJ5UGl4ZWxzOiEwLGFsd2F5c1Nob3dUcmFja3M6ITEsY29udGludW91c1Njcm9sbGluZzpcImF1dG9cIixvdmVyc2Nyb2xsRWZmZWN0OiExLG92ZXJzY3JvbGxFZmZlY3RDb2xvcjpcIiM4N2NlZWJcIixvdmVyc2Nyb2xsRGFtcGluZzouMn0scj17ZGFtcGluZzpbMCwxXSxzcGVlZDpbMCwxLzBdLHRodW1iTWluU2l6ZTpbMCwxLzBdLG92ZXJzY3JvbGxFZmZlY3Q6WyExLFwiYm91bmNlXCIsXCJnbG93XCJdLG92ZXJzY3JvbGxEYW1waW5nOlswLDFdfSxpPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiYXV0b1wiO2lmKG4ub3ZlcnNjcm9sbEVmZmVjdCE9PSExKXJldHVybiExO3N3aXRjaCh0KXtjYXNlXCJhdXRvXCI6cmV0dXJuIGUuaXNOZXN0ZWRTY3JvbGxiYXI7ZGVmYXVsdDpyZXR1cm4hIXR9fSx1PXtzZXQgaWdub3JlRXZlbnRzKHQpe2NvbnNvbGUud2FybihcImBvcHRpb25zLmlnbm9yZUV2ZW50c2AgcGFyYW1ldGVyIGlzIGRlcHJlY2F0ZWQsIHVzZSBgaW5zdGFuY2UjdW5yZWdpc3RlckV2ZW50cygpYCBtZXRob2QgaW5zdGVhZC4gaHR0cHM6Ly9naXRodWIuY29tL2lkaW90V3Uvc21vb3RoLXNjcm9sbGJhci93aWtpL0luc3RhbmNlLU1ldGhvZHMjaW5zdGFuY2V1bnJlZ2lzdGVyZXZlbnRzLXJlZ2V4LS1yZWdleC1yZWdleC0tXCIpfSxzZXQgZnJpY3Rpb24odCl7Y29uc29sZS53YXJuKFwiYG9wdGlvbnMuZnJpY3Rpb249XCIrdCtcImAgaXMgZGVwcmVjYXRlZCwgdXNlIGBvcHRpb25zLmRhbXBpbmc9XCIrdC8xMDArXCJgIGluc3RlYWQuXCIpLHRoaXMuZGFtcGluZz10LzEwMH0sZ2V0IHN5bmNDYWxsYmFja3MoKXtyZXR1cm4gbi5zeW5jQ2FsbGJhY2tzfSxzZXQgc3luY0NhbGxiYWNrcyh0KXtuLnN5bmNDYWxsYmFja3M9ISF0fSxnZXQgcmVuZGVyQnlQaXhlbHMoKXtyZXR1cm4gbi5yZW5kZXJCeVBpeGVsc30sc2V0IHJlbmRlckJ5UGl4ZWxzKHQpe24ucmVuZGVyQnlQaXhlbHM9ISF0fSxnZXQgYWx3YXlzU2hvd1RyYWNrcygpe3JldHVybiBuLmFsd2F5c1Nob3dUcmFja3N9LHNldCBhbHdheXNTaG93VHJhY2tzKHQpe3Q9ISF0LG4uYWx3YXlzU2hvd1RyYWNrcz10O3ZhciByPWUudGFyZ2V0cy5jb250YWluZXI7dD8oZS5zaG93VHJhY2soKSxyLmNsYXNzTGlzdC5hZGQoXCJzdGlja3lcIikpOihlLmhpZGVUcmFjaygpLHIuY2xhc3NMaXN0LnJlbW92ZShcInN0aWNreVwiKSl9LGdldCBjb250aW51b3VzU2Nyb2xsaW5nKCl7cmV0dXJuIGkobi5jb250aW51b3VzU2Nyb2xsaW5nKX0sc2V0IGNvbnRpbnVvdXNTY3JvbGxpbmcodCl7XCJhdXRvXCI9PT10P24uY29udGludW91c1Njcm9sbGluZz10Om4uY29udGludW91c1Njcm9sbGluZz0hIXR9LGdldCBvdmVyc2Nyb2xsRWZmZWN0KCl7cmV0dXJuIG4ub3ZlcnNjcm9sbEVmZmVjdH0sc2V0IG92ZXJzY3JvbGxFZmZlY3QodCl7dCYmIX5yLm92ZXJzY3JvbGxFZmZlY3QuaW5kZXhPZih0KSYmKGNvbnNvbGUud2FybihcImBvdmVyc2Nyb2xsRWZmZWN0YCBzaG91bGQgYmUgb25lIG9mIFwiKygwLHMuZGVmYXVsdCkoci5vdmVyc2Nyb2xsRWZmZWN0KStcIiwgYnV0IGdvdCBcIisoMCxzLmRlZmF1bHQpKHQpK1wiLiBJdCB3aWxsIGJlIHNldCB0byBgZmFsc2VgIG5vdy5cIiksdD0hMSksbi5vdmVyc2Nyb2xsRWZmZWN0PXR9LGdldCBvdmVyc2Nyb2xsRWZmZWN0Q29sb3IoKXtyZXR1cm4gbi5vdmVyc2Nyb2xsRWZmZWN0Q29sb3J9LHNldCBvdmVyc2Nyb2xsRWZmZWN0Q29sb3IodCl7bi5vdmVyc2Nyb2xsRWZmZWN0Q29sb3I9dH19OygwLGwuZGVmYXVsdCkobikuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiF1Lmhhc093blByb3BlcnR5KHQpfSkuZm9yRWFjaChmdW5jdGlvbih0KXsoMCxhLmRlZmF1bHQpKHUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gblt0XX0sc2V0OmZ1bmN0aW9uKGUpe2lmKGlzTmFOKHBhcnNlRmxvYXQoZSkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3QgYG9wdGlvbnMuXCIrdCtcImAgdG8gYmUgYSBudW1iZXIsIGJ1dCBnb3QgXCIrKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6YihlKSkpO25bdF09Zy5waWNrSW5SYW5nZS5hcHBseSh2b2lkIDAsW2VdLmNvbmNhdChvKHJbdF0pKSl9fSl9KSx0aGlzLl9fcmVhZG9ubHkoXCJvcHRpb25zXCIsdSksdGhpcy5zZXRPcHRpb25zKHQpfXZhciB1PW4oODYpLGE9cih1KSxjPW4oOTApLGw9cihjKSxmPW4oMTgwKSxzPXIoZiksZD1uKDIpLGg9cihkKSx2PW4oNTUpLF89cih2KSxwPW4oNjIpLHk9cihwKSxiPVwiZnVuY3Rpb25cIj09dHlwZW9mIHkuZGVmYXVsdCYmXCJzeW1ib2xcIj09dHlwZW9mIF8uZGVmYXVsdD9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB5LmRlZmF1bHQmJnQuY29uc3RydWN0b3I9PT15LmRlZmF1bHQmJnQhPT15LmRlZmF1bHQucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGc9bigxMTIpLG09big3OCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG0uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9faW5pdE9wdGlvbnNcIix7dmFsdWU6aSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17ZGVmYXVsdDpuKDE4MSksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEyKSxvPXIuSlNPTnx8KHIuSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3RoaXMudXBkYXRlKCksdGhpcy5fX2tleWJvYXJkSGFuZGxlcigpLHRoaXMuX19yZXNpemVIYW5kbGVyKCksdGhpcy5fX3NlbGVjdEhhbmRsZXIoKSx0aGlzLl9fbW91c2VIYW5kbGVyKCksdGhpcy5fX3RvdWNoSGFuZGxlcigpLHRoaXMuX193aGVlbEhhbmRsZXIoKSx0aGlzLl9fZHJhZ0hhbmRsZXIoKSx0aGlzLl9fcmVuZGVyKCl9dmFyIG89big3OCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9faW5pdFNjcm9sbGJhclwiLHt2YWx1ZTpyLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gbyh0LGUpe3JldHVybigwLHUuZGVmYXVsdCkodGhpcyx0LHt2YWx1ZTplLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9dmFyIGk9big4NiksdT1yKGkpLGE9big3OCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fcmVhZG9ubHlcIix7dmFsdWU6byx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt2YXIgdD10aGlzLnRhcmdldHMsZT10aGlzLnNpemUsbj10aGlzLm9mZnNldCxyPXRoaXMudGh1bWJPZmZzZXQsaT10aGlzLnRodW1iU2l6ZTtyLng9bi54L2UuY29udGVudC53aWR0aCooZS5jb250YWluZXIud2lkdGgtKGkueC1pLnJlYWxYKSksci55PW4ueS9lLmNvbnRlbnQuaGVpZ2h0KihlLmNvbnRhaW5lci5oZWlnaHQtKGkueS1pLnJlYWxZKSksKDAsby5zZXRTdHlsZSkodC54QXhpcy50aHVtYix7XCItdHJhbnNmb3JtXCI6XCJ0cmFuc2xhdGUzZChcIityLngrXCJweCwgMCwgMClcIn0pLCgwLG8uc2V0U3R5bGUpKHQueUF4aXMudGh1bWIse1wiLXRyYW5zZm9ybVwiOlwidHJhbnNsYXRlM2QoMCwgXCIrci55K1wicHgsIDApXCJ9KX12YXIgbz1uKDExMiksaT1uKDc4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX19zZXRUaHVtYlBvc2l0aW9uXCIse3ZhbHVlOnIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKCl7dmFyIHQ9dGhpcy50YXJnZXRzLmNvbnRhaW5lcixlPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1lLnRvcCxyPWUucmlnaHQsbz1lLmJvdHRvbSxpPWUubGVmdCx1PXdpbmRvdyxhPXUuaW5uZXJIZWlnaHQsYz11LmlubmVyV2lkdGg7dGhpcy5fX3JlYWRvbmx5KFwiYm91bmRpbmdcIix7dG9wOk1hdGgubWF4KG4sMCkscmlnaHQ6TWF0aC5taW4ocixjKSxib3R0b206TWF0aC5taW4obyxhKSxsZWZ0Ok1hdGgubWF4KGksMCl9KX12YXIgbz1uKDc4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoby5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX191cGRhdGVCb3VuZGluZ1wiLHt2YWx1ZTpyLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gbyh0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPUFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59cmV0dXJuKDAsYS5kZWZhdWx0KSh0KX1mdW5jdGlvbiBpKCl7dmFyIHQ9dGhpcy50YXJnZXRzLGU9dC5jb250YWluZXIsbj10LmNvbnRlbnQ7dGhpcy5fX3JlYWRvbmx5KFwiY2hpbGRyZW5cIixbXS5jb25jYXQobyhuLnF1ZXJ5U2VsZWN0b3JBbGwobC5zZWxlY3RvcnMpKSkpLHRoaXMuX19yZWFkb25seShcImlzTmVzdGVkU2Nyb2xsYmFyXCIsITEpO2Zvcih2YXIgcj1bXSxpPWU7aT1pLnBhcmVudEVsZW1lbnQ7KWwuc2JMaXN0LmhhcyhpKSYmKHRoaXMuX19yZWFkb25seShcImlzTmVzdGVkU2Nyb2xsYmFyXCIsITApLHIucHVzaChpKSk7dGhpcy5fX3JlYWRvbmx5KFwicGFyZW50c1wiLHIpfXZhciB1PW4oMiksYT1yKHUpLGM9big3OCksbD1uKDg5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYy5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX191cGRhdGVUcmVlXCIse3ZhbHVlOmksd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSl7fV0pfSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3dvbGZ5ODdFdmVudGVtaXR0ZXIgPSByZXF1aXJlKCd3b2xmeTg3LWV2ZW50ZW1pdHRlcicpO1xuXG52YXIgX3dvbGZ5ODdFdmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd29sZnk4N0V2ZW50ZW1pdHRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJlc2l6ZSA9IGZ1bmN0aW9uIChfZXZlbnRFbWl0dGVyKSB7XG4gIF9pbmhlcml0cyhSZXNpemUsIF9ldmVudEVtaXR0ZXIpO1xuXG4gIGZ1bmN0aW9uIFJlc2l6ZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVzaXplKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihSZXNpemUpLmNhbGwodGhpcykpO1xuXG4gICAgX3RoaXMub25SZXNpemVIYW5kbGUgPSBfdGhpcy5vblJlc2l6ZS5iaW5kKF90aGlzKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBfdGhpcy5vblJlc2l6ZUhhbmRsZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgX3RoaXMub25SZXNpemVIYW5kbGUpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhSZXNpemUsIFt7XG4gICAga2V5OiAnb25SZXNpemUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMudGltZXMgPSAwO1xuXG4gICAgICAgIHRoaXMuZW1pdEV2ZW50KCdyZXNpemU6c3RhcnQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaGFuZGxlICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy50aW1lcyA9IDA7XG5cbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuaGFuZGxlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5oYW5kbGUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgICAgIGlmICgrK3RoaXMudGltZXMgPT09IDEwKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGUgPSBudWxsO1xuICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMudGltZXMgPSAwO1xuXG4gICAgICAgICAgdGhpcy5lbWl0RXZlbnQoJ3Jlc2l6ZTplbmQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplSGFuZGxlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMub25SZXNpemVIYW5kbGUpO1xuXG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZXNpemU7XG59KF93b2xmeTg3RXZlbnRlbWl0dGVyMi5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUmVzaXplO1xuIiwiLyohXG4gKiBFdmVudEVtaXR0ZXIgdjQuMi4xMSAtIGdpdC5pby9lZVxuICogVW5saWNlbnNlIC0gaHR0cDovL3VubGljZW5zZS5vcmcvXG4gKiBPbGl2ZXIgQ2FsZHdlbGwgLSBodHRwOi8vb2xpLm1lLnVrL1xuICogQHByZXNlcnZlXG4gKi9cblxuOyhmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogQ2xhc3MgZm9yIG1hbmFnaW5nIGV2ZW50cy5cbiAgICAgKiBDYW4gYmUgZXh0ZW5kZWQgdG8gcHJvdmlkZSBldmVudCBmdW5jdGlvbmFsaXR5IGluIG90aGVyIGNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAY2xhc3MgRXZlbnRFbWl0dGVyIE1hbmFnZXMgZXZlbnQgcmVnaXN0ZXJpbmcgYW5kIGVtaXR0aW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHt9XG5cbiAgICAvLyBTaG9ydGN1dHMgdG8gaW1wcm92ZSBzcGVlZCBhbmQgc2l6ZVxuICAgIHZhciBwcm90byA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGU7XG4gICAgdmFyIGV4cG9ydHMgPSB0aGlzO1xuICAgIHZhciBvcmlnaW5hbEdsb2JhbFZhbHVlID0gZXhwb3J0cy5FdmVudEVtaXR0ZXI7XG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIGxpc3RlbmVyIGZvciB0aGUgZXZlbnQgaW4gaXRzIHN0b3JhZ2UgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW119IGxpc3RlbmVycyBBcnJheSBvZiBsaXN0ZW5lcnMgdG8gc2VhcmNoIHRocm91Z2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTWV0aG9kIHRvIGxvb2sgZm9yLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gSW5kZXggb2YgdGhlIHNwZWNpZmllZCBsaXN0ZW5lciwgLTEgaWYgbm90IGZvdW5kXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVycywgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGkgPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzW2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGEgbWV0aG9kIHdoaWxlIGtlZXBpbmcgdGhlIGNvbnRleHQgY29ycmVjdCwgdG8gYWxsb3cgZm9yIG92ZXJ3cml0aW5nIG9mIHRhcmdldCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgdGFyZ2V0IG1ldGhvZC5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIGFsaWFzZWQgbWV0aG9kXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWxpYXMobmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gYWxpYXNDbG9zdXJlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbbmFtZV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0ZW5lciBhcnJheSBmb3IgdGhlIHNwZWNpZmllZCBldmVudC5cbiAgICAgKiBXaWxsIGluaXRpYWxpc2UgdGhlIGV2ZW50IG9iamVjdCBhbmQgbGlzdGVuZXIgYXJyYXlzIGlmIHJlcXVpcmVkLlxuICAgICAqIFdpbGwgcmV0dXJuIGFuIG9iamVjdCBpZiB5b3UgdXNlIGEgcmVnZXggc2VhcmNoLiBUaGUgb2JqZWN0IGNvbnRhaW5zIGtleXMgZm9yIGVhY2ggbWF0Y2hlZCBldmVudC4gU28gL2JhW3J6XS8gbWlnaHQgcmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIGJhciBhbmQgYmF6LiBCdXQgb25seSBpZiB5b3UgaGF2ZSBlaXRoZXIgZGVmaW5lZCB0aGVtIHdpdGggZGVmaW5lRXZlbnQgb3IgYWRkZWQgc29tZSBsaXN0ZW5lcnMgdG8gdGhlbS5cbiAgICAgKiBFYWNoIHByb3BlcnR5IGluIHRoZSBvYmplY3QgcmVzcG9uc2UgaXMgYW4gYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gcmV0dXJuIHRoZSBsaXN0ZW5lcnMgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbltdfE9iamVjdH0gQWxsIGxpc3RlbmVyIGZ1bmN0aW9ucyBmb3IgdGhlIGV2ZW50LlxuICAgICAqL1xuICAgIHByb3RvLmdldExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldExpc3RlbmVycyhldnQpIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMuX2dldEV2ZW50cygpO1xuICAgICAgICB2YXIgcmVzcG9uc2U7XG4gICAgICAgIHZhciBrZXk7XG5cbiAgICAgICAgLy8gUmV0dXJuIGEgY29uY2F0ZW5hdGVkIGFycmF5IG9mIGFsbCBtYXRjaGluZyBldmVudHMgaWZcbiAgICAgICAgLy8gdGhlIHNlbGVjdG9yIGlzIGEgcmVndWxhciBleHByZXNzaW9uLlxuICAgICAgICBpZiAoZXZ0IGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IHt9O1xuICAgICAgICAgICAgZm9yIChrZXkgaW4gZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGV2dC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2Vba2V5XSA9IGV2ZW50c1trZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gZXZlbnRzW2V2dF0gfHwgKGV2ZW50c1tldnRdID0gW10pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIGxpc3Qgb2YgbGlzdGVuZXIgb2JqZWN0cyBhbmQgZmxhdHRlbnMgaXQgaW50byBhIGxpc3Qgb2YgbGlzdGVuZXIgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gbGlzdGVuZXJzIFJhdyBsaXN0ZW5lciBvYmplY3RzLlxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9uW119IEp1c3QgdGhlIGxpc3RlbmVyIGZ1bmN0aW9ucy5cbiAgICAgKi9cbiAgICBwcm90by5mbGF0dGVuTGlzdGVuZXJzID0gZnVuY3Rpb24gZmxhdHRlbkxpc3RlbmVycyhsaXN0ZW5lcnMpIHtcbiAgICAgICAgdmFyIGZsYXRMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgZmxhdExpc3RlbmVycy5wdXNoKGxpc3RlbmVyc1tpXS5saXN0ZW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmxhdExpc3RlbmVycztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB0aGUgcmVxdWVzdGVkIGxpc3RlbmVycyB2aWEgZ2V0TGlzdGVuZXJzIGJ1dCB3aWxsIGFsd2F5cyByZXR1cm4gdGhlIHJlc3VsdHMgaW5zaWRlIGFuIG9iamVjdC4gVGhpcyBpcyBtYWlubHkgZm9yIGludGVybmFsIHVzZSBidXQgb3RoZXJzIG1heSBmaW5kIGl0IHVzZWZ1bC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIHJldHVybiB0aGUgbGlzdGVuZXJzIGZyb20uXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBBbGwgbGlzdGVuZXIgZnVuY3Rpb25zIGZvciBhbiBldmVudCBpbiBhbiBvYmplY3QuXG4gICAgICovXG4gICAgcHJvdG8uZ2V0TGlzdGVuZXJzQXNPYmplY3QgPSBmdW5jdGlvbiBnZXRMaXN0ZW5lcnNBc09iamVjdChldnQpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzKGV2dCk7XG4gICAgICAgIHZhciByZXNwb25zZTtcblxuICAgICAgICBpZiAobGlzdGVuZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0ge307XG4gICAgICAgICAgICByZXNwb25zZVtldnRdID0gbGlzdGVuZXJzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlIHx8IGxpc3RlbmVycztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gICAgICogVGhlIGxpc3RlbmVyIHdpbGwgbm90IGJlIGFkZGVkIGlmIGl0IGlzIGEgZHVwbGljYXRlLlxuICAgICAqIElmIHRoZSBsaXN0ZW5lciByZXR1cm5zIHRydWUgdGhlbiBpdCB3aWxsIGJlIHJlbW92ZWQgYWZ0ZXIgaXQgaXMgY2FsbGVkLlxuICAgICAqIElmIHlvdSBwYXNzIGEgcmVndWxhciBleHByZXNzaW9uIGFzIHRoZSBldmVudCBuYW1lIHRoZW4gdGhlIGxpc3RlbmVyIHdpbGwgYmUgYWRkZWQgdG8gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gYXR0YWNoIHRoZSBsaXN0ZW5lciB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBNZXRob2QgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIHRydWUgdGhlbiBpdCB3aWxsIGJlIHJlbW92ZWQgYWZ0ZXIgY2FsbGluZy5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKGV2dCwgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KTtcbiAgICAgICAgdmFyIGxpc3RlbmVySXNXcmFwcGVkID0gdHlwZW9mIGxpc3RlbmVyID09PSAnb2JqZWN0JztcbiAgICAgICAgdmFyIGtleTtcblxuICAgICAgICBmb3IgKGtleSBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBpbmRleE9mTGlzdGVuZXIobGlzdGVuZXJzW2tleV0sIGxpc3RlbmVyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnNba2V5XS5wdXNoKGxpc3RlbmVySXNXcmFwcGVkID8gbGlzdGVuZXIgOiB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lcixcbiAgICAgICAgICAgICAgICAgICAgb25jZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBvZiBhZGRMaXN0ZW5lclxuICAgICAqL1xuICAgIHByb3RvLm9uID0gYWxpYXMoJ2FkZExpc3RlbmVyJyk7XG5cbiAgICAvKipcbiAgICAgKiBTZW1pLWFsaWFzIG9mIGFkZExpc3RlbmVyLiBJdCB3aWxsIGFkZCBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZVxuICAgICAqIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBhZnRlciBpdHMgZmlyc3QgZXhlY3V0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gYXR0YWNoIHRoZSBsaXN0ZW5lciB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBNZXRob2QgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIHRydWUgdGhlbiBpdCB3aWxsIGJlIHJlbW92ZWQgYWZ0ZXIgY2FsbGluZy5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5hZGRPbmNlTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRPbmNlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRMaXN0ZW5lcihldnQsIHtcbiAgICAgICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lcixcbiAgICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWFzIG9mIGFkZE9uY2VMaXN0ZW5lci5cbiAgICAgKi9cbiAgICBwcm90by5vbmNlID0gYWxpYXMoJ2FkZE9uY2VMaXN0ZW5lcicpO1xuXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyBhbiBldmVudCBuYW1lLiBUaGlzIGlzIHJlcXVpcmVkIGlmIHlvdSB3YW50IHRvIHVzZSBhIHJlZ2V4IHRvIGFkZCBhIGxpc3RlbmVyIHRvIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBJZiB5b3UgZG9uJ3QgZG8gdGhpcyB0aGVuIGhvdyBkbyB5b3UgZXhwZWN0IGl0IHRvIGtub3cgd2hhdCBldmVudCB0byBhZGQgdG8/IFNob3VsZCBpdCBqdXN0IGFkZCB0byBldmVyeSBwb3NzaWJsZSBtYXRjaCBmb3IgYSByZWdleD8gTm8uIFRoYXQgaXMgc2NhcnkgYW5kIGJhZC5cbiAgICAgKiBZb3UgbmVlZCB0byB0ZWxsIGl0IHdoYXQgZXZlbnQgbmFtZXMgc2hvdWxkIGJlIG1hdGNoZWQgYnkgYSByZWdleC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gY3JlYXRlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmRlZmluZUV2ZW50ID0gZnVuY3Rpb24gZGVmaW5lRXZlbnQoZXZ0KSB7XG4gICAgICAgIHRoaXMuZ2V0TGlzdGVuZXJzKGV2dCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGRlZmluZUV2ZW50IHRvIGRlZmluZSBtdWx0aXBsZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBldnRzIEFuIGFycmF5IG9mIGV2ZW50IG5hbWVzIHRvIGRlZmluZS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5kZWZpbmVFdmVudHMgPSBmdW5jdGlvbiBkZWZpbmVFdmVudHMoZXZ0cykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2dHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmaW5lRXZlbnQoZXZ0c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBsaXN0ZW5lciBmdW5jdGlvbiBmcm9tIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gICAgICogV2hlbiBwYXNzZWQgYSByZWd1bGFyIGV4cHJlc3Npb24gYXMgdGhlIGV2ZW50IG5hbWUsIGl0IHdpbGwgcmVtb3ZlIHRoZSBsaXN0ZW5lciBmcm9tIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIHJlbW92ZSB0aGUgbGlzdGVuZXIgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBNZXRob2QgdG8gcmVtb3ZlIGZyb20gdGhlIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChldnQpO1xuICAgICAgICB2YXIgaW5kZXg7XG4gICAgICAgIHZhciBrZXk7XG5cbiAgICAgICAgZm9yIChrZXkgaW4gbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4T2ZMaXN0ZW5lcihsaXN0ZW5lcnNba2V5XSwgbGlzdGVuZXIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnNba2V5XS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBvZiByZW1vdmVMaXN0ZW5lclxuICAgICAqL1xuICAgIHByb3RvLm9mZiA9IGFsaWFzKCdyZW1vdmVMaXN0ZW5lcicpO1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBsaXN0ZW5lcnMgaW4gYnVsayB1c2luZyB0aGUgbWFuaXB1bGF0ZUxpc3RlbmVycyBtZXRob2QuXG4gICAgICogSWYgeW91IHBhc3MgYW4gb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgeW91IGNhbiBhZGQgdG8gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4ga2V5IHZhbHVlIHBhaXJzIG9mIGV2ZW50cyBhbmQgbGlzdGVuZXJzIG9yIGxpc3RlbmVyIGFycmF5cy4gWW91IGNhbiBhbHNvIHBhc3MgaXQgYW4gZXZlbnQgbmFtZSBhbmQgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGJlIGFkZGVkLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGEgcmVndWxhciBleHByZXNzaW9uIHRvIGFkZCB0aGUgYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKiBZZWFoLCB0aGlzIGZ1bmN0aW9uIGRvZXMgcXVpdGUgYSBiaXQuIFRoYXQncyBwcm9iYWJseSBhIGJhZCB0aGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdHxSZWdFeHB9IGV2dCBBbiBldmVudCBuYW1lIGlmIHlvdSB3aWxsIHBhc3MgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIG5leHQuIEFuIG9iamVjdCBpZiB5b3Ugd2lzaCB0byBhZGQgdG8gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfSBbbGlzdGVuZXJzXSBBbiBvcHRpb25hbCBhcnJheSBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdG8gYWRkLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmFkZExpc3RlbmVycyA9IGZ1bmN0aW9uIGFkZExpc3RlbmVycyhldnQsIGxpc3RlbmVycykge1xuICAgICAgICAvLyBQYXNzIHRocm91Z2ggdG8gbWFuaXB1bGF0ZUxpc3RlbmVyc1xuICAgICAgICByZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKGZhbHNlLCBldnQsIGxpc3RlbmVycyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGlzdGVuZXJzIGluIGJ1bGsgdXNpbmcgdGhlIG1hbmlwdWxhdGVMaXN0ZW5lcnMgbWV0aG9kLlxuICAgICAqIElmIHlvdSBwYXNzIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHlvdSBjYW4gcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4ga2V5IHZhbHVlIHBhaXJzIG9mIGV2ZW50cyBhbmQgbGlzdGVuZXJzIG9yIGxpc3RlbmVyIGFycmF5cy5cbiAgICAgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhbiBldmVudCBuYW1lIGFuZCBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYmUgcmVtb3ZlZC5cbiAgICAgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byByZW1vdmUgdGhlIGxpc3RlbmVycyBmcm9tIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdHxSZWdFeHB9IGV2dCBBbiBldmVudCBuYW1lIGlmIHlvdSB3aWxsIHBhc3MgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIG5leHQuIEFuIG9iamVjdCBpZiB5b3Ugd2lzaCB0byByZW1vdmUgZnJvbSBtdWx0aXBsZSBldmVudHMgYXQgb25jZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8ucmVtb3ZlTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJzKGV2dCwgbGlzdGVuZXJzKSB7XG4gICAgICAgIC8vIFBhc3MgdGhyb3VnaCB0byBtYW5pcHVsYXRlTGlzdGVuZXJzXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnModHJ1ZSwgZXZ0LCBsaXN0ZW5lcnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFZGl0cyBsaXN0ZW5lcnMgaW4gYnVsay4gVGhlIGFkZExpc3RlbmVycyBhbmQgcmVtb3ZlTGlzdGVuZXJzIG1ldGhvZHMgYm90aCB1c2UgdGhpcyB0byBkbyB0aGVpciBqb2IuIFlvdSBzaG91bGQgcmVhbGx5IHVzZSB0aG9zZSBpbnN0ZWFkLCB0aGlzIGlzIGEgbGl0dGxlIGxvd2VyIGxldmVsLlxuICAgICAqIFRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGRldGVybWluZSBpZiB0aGUgbGlzdGVuZXJzIGFyZSByZW1vdmVkICh0cnVlKSBvciBhZGRlZCAoZmFsc2UpLlxuICAgICAqIElmIHlvdSBwYXNzIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHlvdSBjYW4gYWRkL3JlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIGtleSB2YWx1ZSBwYWlycyBvZiBldmVudHMgYW5kIGxpc3RlbmVycyBvciBsaXN0ZW5lciBhcnJheXMuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYW4gZXZlbnQgbmFtZSBhbmQgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGJlIGFkZGVkL3JlbW92ZWQuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWFuaXB1bGF0ZSB0aGUgbGlzdGVuZXJzIG9mIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVtb3ZlIFRydWUgaWYgeW91IHdhbnQgdG8gcmVtb3ZlIGxpc3RlbmVycywgZmFsc2UgaWYgeW91IHdhbnQgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdHxSZWdFeHB9IGV2dCBBbiBldmVudCBuYW1lIGlmIHlvdSB3aWxsIHBhc3MgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIG5leHQuIEFuIG9iamVjdCBpZiB5b3Ugd2lzaCB0byBhZGQvcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfSBbbGlzdGVuZXJzXSBBbiBvcHRpb25hbCBhcnJheSBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdG8gYWRkL3JlbW92ZS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5tYW5pcHVsYXRlTGlzdGVuZXJzID0gZnVuY3Rpb24gbWFuaXB1bGF0ZUxpc3RlbmVycyhyZW1vdmUsIGV2dCwgbGlzdGVuZXJzKSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgIHZhciBzaW5nbGUgPSByZW1vdmUgPyB0aGlzLnJlbW92ZUxpc3RlbmVyIDogdGhpcy5hZGRMaXN0ZW5lcjtcbiAgICAgICAgdmFyIG11bHRpcGxlID0gcmVtb3ZlID8gdGhpcy5yZW1vdmVMaXN0ZW5lcnMgOiB0aGlzLmFkZExpc3RlbmVycztcblxuICAgICAgICAvLyBJZiBldnQgaXMgYW4gb2JqZWN0IHRoZW4gcGFzcyBlYWNoIG9mIGl0cyBwcm9wZXJ0aWVzIHRvIHRoaXMgbWV0aG9kXG4gICAgICAgIGlmICh0eXBlb2YgZXZ0ID09PSAnb2JqZWN0JyAmJiAhKGV2dCBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcbiAgICAgICAgICAgIGZvciAoaSBpbiBldnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZ0Lmhhc093blByb3BlcnR5KGkpICYmICh2YWx1ZSA9IGV2dFtpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUGFzcyB0aGUgc2luZ2xlIGxpc3RlbmVyIHN0cmFpZ2h0IHRocm91Z2ggdG8gdGhlIHNpbmd1bGFyIG1ldGhvZFxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGUuY2FsbCh0aGlzLCBpLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgcGFzcyBiYWNrIHRvIHRoZSBtdWx0aXBsZSBmdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGUuY2FsbCh0aGlzLCBpLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBTbyBldnQgbXVzdCBiZSBhIHN0cmluZ1xuICAgICAgICAgICAgLy8gQW5kIGxpc3RlbmVycyBtdXN0IGJlIGFuIGFycmF5IG9mIGxpc3RlbmVyc1xuICAgICAgICAgICAgLy8gTG9vcCBvdmVyIGl0IGFuZCBwYXNzIGVhY2ggb25lIHRvIHRoZSBtdWx0aXBsZSBtZXRob2RcbiAgICAgICAgICAgIGkgPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIHNpbmdsZS5jYWxsKHRoaXMsIGV2dCwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMgZnJvbSBhIHNwZWNpZmllZCBldmVudC5cbiAgICAgKiBJZiB5b3UgZG8gbm90IHNwZWNpZnkgYW4gZXZlbnQgdGhlbiBhbGwgbGlzdGVuZXJzIHdpbGwgYmUgcmVtb3ZlZC5cbiAgICAgKiBUaGF0IG1lYW5zIGV2ZXJ5IGV2ZW50IHdpbGwgYmUgZW1wdGllZC5cbiAgICAgKiBZb3UgY2FuIGFsc28gcGFzcyBhIHJlZ2V4IHRvIHJlbW92ZSBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IFtldnRdIE9wdGlvbmFsIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHJlbW92ZSBhbGwgbGlzdGVuZXJzIGZvci4gV2lsbCByZW1vdmUgZnJvbSBldmVyeSBldmVudCBpZiBub3QgcGFzc2VkLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnQoZXZ0KSB7XG4gICAgICAgIHZhciB0eXBlID0gdHlwZW9mIGV2dDtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMuX2dldEV2ZW50cygpO1xuICAgICAgICB2YXIga2V5O1xuXG4gICAgICAgIC8vIFJlbW92ZSBkaWZmZXJlbnQgdGhpbmdzIGRlcGVuZGluZyBvbiB0aGUgc3RhdGUgb2YgZXZ0XG4gICAgICAgIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnRcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbZXZ0XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldnQgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgZXZlbnRzIG1hdGNoaW5nIHRoZSByZWdleC5cbiAgICAgICAgICAgIGZvciAoa2V5IGluIGV2ZW50cykge1xuICAgICAgICAgICAgICAgIGlmIChldmVudHMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBldnQudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBldmVudHNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgYWxsIGxpc3RlbmVycyBpbiBhbGwgZXZlbnRzXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWFzIG9mIHJlbW92ZUV2ZW50LlxuICAgICAqXG4gICAgICogQWRkZWQgdG8gbWlycm9yIHRoZSBub2RlIEFQSS5cbiAgICAgKi9cbiAgICBwcm90by5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBhbGlhcygncmVtb3ZlRXZlbnQnKTtcblxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGV2ZW50IG9mIHlvdXIgY2hvaWNlLlxuICAgICAqIFdoZW4gZW1pdHRlZCwgZXZlcnkgbGlzdGVuZXIgYXR0YWNoZWQgdG8gdGhhdCBldmVudCB3aWxsIGJlIGV4ZWN1dGVkLlxuICAgICAqIElmIHlvdSBwYXNzIHRoZSBvcHRpb25hbCBhcmd1bWVudCBhcnJheSB0aGVuIHRob3NlIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBldmVyeSBsaXN0ZW5lciB1cG9uIGV4ZWN1dGlvbi5cbiAgICAgKiBCZWNhdXNlIGl0IHVzZXMgYGFwcGx5YCwgeW91ciBhcnJheSBvZiBhcmd1bWVudHMgd2lsbCBiZSBwYXNzZWQgYXMgaWYgeW91IHdyb3RlIHRoZW0gb3V0IHNlcGFyYXRlbHkuXG4gICAgICogU28gdGhleSB3aWxsIG5vdCBhcnJpdmUgd2l0aGluIHRoZSBhcnJheSBvbiB0aGUgb3RoZXIgc2lkZSwgdGhleSB3aWxsIGJlIHNlcGFyYXRlLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGEgcmVndWxhciBleHByZXNzaW9uIHRvIGVtaXQgdG8gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gZW1pdCBhbmQgZXhlY3V0ZSBsaXN0ZW5lcnMgZm9yLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdzXSBPcHRpb25hbCBhcnJheSBvZiBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIGVhY2ggbGlzdGVuZXIuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8uZW1pdEV2ZW50ID0gZnVuY3Rpb24gZW1pdEV2ZW50KGV2dCwgYXJncykge1xuICAgICAgICB2YXIgbGlzdGVuZXJzTWFwID0gdGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChldnQpO1xuICAgICAgICB2YXIgbGlzdGVuZXJzO1xuICAgICAgICB2YXIgbGlzdGVuZXI7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICB2YXIgcmVzcG9uc2U7XG5cbiAgICAgICAgZm9yIChrZXkgaW4gbGlzdGVuZXJzTWFwKSB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzTWFwLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnNNYXBba2V5XS5zbGljZSgwKTtcbiAgICAgICAgICAgICAgICBpID0gbGlzdGVuZXJzLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGxpc3RlbmVyIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHNoYWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGVpdGhlciB3aXRoIGEgYmFzaWMgY2FsbCBvciBhbiBhcHBseSBpZiB0aGVyZSBpcyBhbiBhcmdzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbmNlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2dCwgbGlzdGVuZXIubGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBsaXN0ZW5lci5saXN0ZW5lci5hcHBseSh0aGlzLCBhcmdzIHx8IFtdKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgPT09IHRoaXMuX2dldE9uY2VSZXR1cm5WYWx1ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2dCwgbGlzdGVuZXIubGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWFzIG9mIGVtaXRFdmVudFxuICAgICAqL1xuICAgIHByb3RvLnRyaWdnZXIgPSBhbGlhcygnZW1pdEV2ZW50Jyk7XG5cbiAgICAvKipcbiAgICAgKiBTdWJ0bHkgZGlmZmVyZW50IGZyb20gZW1pdEV2ZW50IGluIHRoYXQgaXQgd2lsbCBwYXNzIGl0cyBhcmd1bWVudHMgb24gdG8gdGhlIGxpc3RlbmVycywgYXMgb3Bwb3NlZCB0byB0YWtpbmcgYSBzaW5nbGUgYXJyYXkgb2YgYXJndW1lbnRzIHRvIHBhc3Mgb24uXG4gICAgICogQXMgd2l0aCBlbWl0RXZlbnQsIHlvdSBjYW4gcGFzcyBhIHJlZ2V4IGluIHBsYWNlIG9mIHRoZSBldmVudCBuYW1lIHRvIGVtaXQgdG8gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gZW1pdCBhbmQgZXhlY3V0ZSBsaXN0ZW5lcnMgZm9yLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gT3B0aW9uYWwgYWRkaXRpb25hbCBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIGVhY2ggbGlzdGVuZXIuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8uZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZ0KSB7XG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdEV2ZW50KGV2dCwgYXJncyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgdmFsdWUgdG8gY2hlY2sgYWdhaW5zdCB3aGVuIGV4ZWN1dGluZyBsaXN0ZW5lcnMuIElmIGFcbiAgICAgKiBsaXN0ZW5lcnMgcmV0dXJuIHZhbHVlIG1hdGNoZXMgdGhlIG9uZSBzZXQgaGVyZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZFxuICAgICAqIGFmdGVyIGV4ZWN1dGlvbi4gVGhpcyB2YWx1ZSBkZWZhdWx0cyB0byB0cnVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgbmV3IHZhbHVlIHRvIGNoZWNrIGZvciB3aGVuIGV4ZWN1dGluZyBsaXN0ZW5lcnMuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8uc2V0T25jZVJldHVyblZhbHVlID0gZnVuY3Rpb24gc2V0T25jZVJldHVyblZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX29uY2VSZXR1cm5WYWx1ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB0aGUgY3VycmVudCB2YWx1ZSB0byBjaGVjayBhZ2FpbnN0IHdoZW4gZXhlY3V0aW5nIGxpc3RlbmVycy4gSWZcbiAgICAgKiB0aGUgbGlzdGVuZXJzIHJldHVybiB2YWx1ZSBtYXRjaGVzIHRoaXMgb25lIHRoZW4gaXQgc2hvdWxkIGJlIHJlbW92ZWRcbiAgICAgKiBhdXRvbWF0aWNhbGx5LiBJdCB3aWxsIHJldHVybiB0cnVlIGJ5IGRlZmF1bHQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHsqfEJvb2xlYW59IFRoZSBjdXJyZW50IHZhbHVlIHRvIGNoZWNrIGZvciBvciB0aGUgZGVmYXVsdCwgdHJ1ZS5cbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5fZ2V0T25jZVJldHVyblZhbHVlID0gZnVuY3Rpb24gX2dldE9uY2VSZXR1cm5WYWx1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoJ19vbmNlUmV0dXJuVmFsdWUnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uY2VSZXR1cm5WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIGV2ZW50cyBvYmplY3QgYW5kIGNyZWF0ZXMgb25lIGlmIHJlcXVpcmVkLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgZXZlbnRzIHN0b3JhZ2Ugb2JqZWN0LlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLl9nZXRFdmVudHMgPSBmdW5jdGlvbiBfZ2V0RXZlbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnRzIHx8ICh0aGlzLl9ldmVudHMgPSB7fSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldmVydHMgdGhlIGdsb2JhbCB7QGxpbmsgRXZlbnRFbWl0dGVyfSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhpcyB2ZXJzaW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IE5vbiBjb25mbGljdGluZyBFdmVudEVtaXR0ZXIgY2xhc3MuXG4gICAgICovXG4gICAgRXZlbnRFbWl0dGVyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuICAgICAgICBleHBvcnRzLkV2ZW50RW1pdHRlciA9IG9yaWdpbmFsR2xvYmFsVmFsdWU7XG4gICAgICAgIHJldHVybiBFdmVudEVtaXR0ZXI7XG4gICAgfTtcblxuICAgIC8vIEV4cG9zZSB0aGUgY2xhc3MgZWl0aGVyIHZpYSBBTUQsIENvbW1vbkpTIG9yIHRoZSBnbG9iYWwgb2JqZWN0XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKXtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcbiAgICB9XG59LmNhbGwodGhpcykpO1xuIl19
